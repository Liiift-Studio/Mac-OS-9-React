{"version":3,"file":"index.cjs","sources":["../src/components/Button/Button.tsx","../src/components/Icon/Icon.tsx","../src/components/Icon/categories/ui.tsx","../src/components/Icon/registry.ts","../src/components/Icon/IconLibrary.tsx","../src/components/IconButton/IconButton.tsx","../src/components/Checkbox/Checkbox.tsx","../src/components/Radio/Radio.tsx","../src/components/TextField/TextField.tsx","../src/components/Select/Select.tsx","../src/components/Tabs/Tabs.tsx","../src/utils/classNames.ts","../src/components/Window/Window.tsx","../src/components/Dialog/Dialog.tsx","../src/components/MenuBar/MenuBar.tsx","../src/components/MenuBar/MenuItem.tsx","../src/components/MenuBar/MenuDropdown.tsx","../src/components/Scrollbar/Scrollbar.tsx","../src/components/ListView/ListView.tsx","../src/components/FolderList/FolderList.tsx","../src/tokens/index.ts"],"sourcesContent":["// Button component - Mac OS 9 style\r\n// Enhanced with polymorphic support, loading states, and icon support\r\n\r\nimport React, { forwardRef, ButtonHTMLAttributes, AnchorHTMLAttributes } from 'react';\r\nimport styles from './Button.module.css';\r\n\r\n// Common props shared by button and link variants\r\ninterface BaseButtonProps {\r\n\t/**\r\n\t * Button variant\r\n\t * @default 'default'\r\n\t */\r\n\tvariant?: 'default' | 'primary' | 'danger';\r\n\r\n\t/**\r\n\t * Button size\r\n\t * @default 'md'\r\n\t */\r\n\tsize?: 'sm' | 'md' | 'lg';\r\n\r\n\t/**\r\n\t * Whether the button is disabled\r\n\t * @default false\r\n\t */\r\n\tdisabled?: boolean;\r\n\r\n\t/**\r\n\t * Whether the button should take full width\r\n\t * @default false\r\n\t */\r\n\tfullWidth?: boolean;\r\n\r\n\t/**\r\n\t * Loading state - shows loading indicator and disables interaction\r\n\t * @default false\r\n\t */\r\n\tloading?: boolean;\r\n\r\n\t/**\r\n\t * Text to show when loading (replaces children)\r\n\t */\r\n\tloadingText?: string;\r\n\r\n\t/**\r\n\t * Use Mac OS 9 style watch cursor during loading\r\n\t * @default false\r\n\t */\r\n\tuseCursorLoading?: boolean;\r\n\r\n\t/**\r\n\t * Icon to display before the button text\r\n\t */\r\n\tleftIcon?: React.ReactNode;\r\n\r\n\t/**\r\n\t * Icon to display after the button text\r\n\t */\r\n\trightIcon?: React.ReactNode;\r\n\r\n\t/**\r\n\t * If true, only displays icon (children used as aria-label)\r\n\t */\r\n\ticonOnly?: boolean;\r\n\r\n\t/**\r\n\t * Override aria-label\r\n\t */\r\n\tariaLabel?: string;\r\n\r\n\t/**\r\n\t * ID of element that describes this button\r\n\t */\r\n\tariaDescribedBy?: string;\r\n\r\n\t/**\r\n\t * For toggle buttons - indicates pressed state\r\n\t */\r\n\tariaPressed?: boolean;\r\n\r\n\t/**\r\n\t * Additional CSS class names\r\n\t */\r\n\tclassName?: string;\r\n\r\n\t/**\r\n\t * Button content\r\n\t */\r\n\tchildren: React.ReactNode;\r\n}\r\n\r\n// Button-specific props\r\ninterface ButtonAsButton extends BaseButtonProps, Omit<ButtonHTMLAttributes<HTMLButtonElement>, keyof BaseButtonProps | 'aria-label' | 'aria-describedby' | 'aria-pressed'> {\r\n\t/**\r\n\t * Render as button element\r\n\t * @default 'button'\r\n\t */\r\n\tas?: 'button';\r\n\r\n\t/**\r\n\t * Associate button with a form by ID\r\n\t */\r\n\tform?: string;\r\n\r\n\t/**\r\n\t * Override form action URL\r\n\t */\r\n\tformAction?: string;\r\n\r\n\t/**\r\n\t * Override form method\r\n\t */\r\n\tformMethod?: 'get' | 'post';\r\n\r\n\t/**\r\n\t * Skip form validation\r\n\t */\r\n\tformNoValidate?: boolean;\r\n\r\n\t/**\r\n\t * Where to display form response\r\n\t */\r\n\tformTarget?: string;\r\n}\r\n\r\n// Link-specific props\r\ninterface ButtonAsLink extends BaseButtonProps, Omit<AnchorHTMLAttributes<HTMLAnchorElement>, keyof BaseButtonProps | 'aria-label' | 'aria-describedby' | 'aria-pressed'> {\r\n\t/**\r\n\t * Render as anchor element\r\n\t */\r\n\tas: 'a';\r\n\r\n\t/**\r\n\t * URL for the link\r\n\t */\r\n\thref: string;\r\n\r\n\t/**\r\n\t * Where to open the link\r\n\t */\r\n\ttarget?: '_blank' | '_self' | '_parent' | '_top';\r\n\r\n\t/**\r\n\t * Relationship of linked resource\r\n\t * Auto-fills \"noopener noreferrer\" for external links if not provided\r\n\t */\r\n\trel?: string;\r\n\r\n\t/**\r\n\t * Prompt to download the linked resource\r\n\t */\r\n\tdownload?: boolean | string;\r\n}\r\n\r\nexport type ButtonProps = ButtonAsButton | ButtonAsLink;\r\n\r\n/**\r\n * Mac OS 9 style Button component\r\n * \r\n * Polymorphic component that can render as button or link with consistent styling.\r\n * \r\n * Features:\r\n * - Classic 3-layer bevel effect (highlight, shadow, drop shadow)\r\n * - Polymorphic - renders as <button> or <a> based on `as` prop\r\n * - Loading states with optional Mac OS 9 watch cursor\r\n * - Icon support (left, right, or icon-only)\r\n * - Full accessibility with ARIA support\r\n * - Form integration props\r\n * - Auto-security for external links\r\n * \r\n * @example\r\n * ```tsx\r\n * // Button\r\n * <Button onClick={handleClick}>Click Me</Button>\r\n * <Button variant=\"primary\" size=\"lg\">Primary Action</Button>\r\n * <Button loading loadingText=\"Saving...\">Save</Button>\r\n * \r\n * // Link styled as button\r\n * <Button as=\"a\" href=\"/dashboard\">Go to Dashboard</Button>\r\n * <Button as=\"a\" href=\"https://example.com\" target=\"_blank\">\r\n *   External Link\r\n * </Button>\r\n * \r\n * // With icons\r\n * <Button leftIcon={<FolderIcon />}>Open</Button>\r\n * <Button iconOnly aria-label=\"Close\">\r\n *   <CloseIcon />\r\n * </Button>\r\n * ```\r\n */\r\nexport const Button = forwardRef<HTMLButtonElement | HTMLAnchorElement, ButtonProps>(\r\n\t(props, ref) => {\r\n\t\tconst {\r\n\t\t\tvariant = 'default',\r\n\t\t\tsize = 'md',\r\n\t\t\tdisabled = false,\r\n\t\t\tfullWidth = false,\r\n\t\t\tloading = false,\r\n\t\t\tloadingText,\r\n\t\t\tuseCursorLoading = false,\r\n\t\t\tleftIcon,\r\n\t\t\trightIcon,\r\n\t\t\ticonOnly = false,\r\n\t\t\tariaLabel,\r\n\t\t\tariaDescribedBy,\r\n\t\t\tariaPressed,\r\n\t\t\tclassName = '',\r\n\t\t\tchildren,\r\n\t\t\t...restProps\r\n\t\t} = props;\r\n\r\n\t\t// Determine if rendering as link\r\n\t\tconst isLink = props.as === 'a';\r\n\t\tconst Component = isLink ? 'a' : 'button';\r\n\r\n\t\t// Build class names\r\n\t\tconst classNames = [\r\n\t\t\tstyles.button,\r\n\t\t\tstyles[`button--${variant}`],\r\n\t\t\tstyles[`button--${size}`],\r\n\t\t\tfullWidth && styles['button--full-width'],\r\n\t\t\tdisabled && styles['button--disabled'],\r\n\t\t\tloading && styles['button--loading'],\r\n\t\t\tloading && useCursorLoading && styles['button--cursor-loading'],\r\n\t\t\ticonOnly && styles['button--icon-only'],\r\n\t\t\t(leftIcon || rightIcon) && styles['button--with-icon'],\r\n\t\t\tclassName,\r\n\t\t]\r\n\t\t\t.filter(Boolean)\r\n\t\t\t.join(' ');\r\n\r\n\t\t// Prepare ARIA attributes\r\n\t\tconst ariaAttributes: Record<string, any> = {\r\n\t\t\t'aria-label': iconOnly ? (ariaLabel || (typeof children === 'string' ? children : undefined)) : ariaLabel,\r\n\t\t\t'aria-describedby': ariaDescribedBy,\r\n\t\t\t'aria-pressed': ariaPressed,\r\n\t\t\t'aria-disabled': disabled || loading,\r\n\t\t\t'aria-busy': loading,\r\n\t\t};\r\n\r\n\t\t// Handle link-specific props\r\n\t\tif (isLink) {\r\n\t\t\tconst { href, target, rel, download, ...linkProps } = restProps as ButtonAsLink;\r\n\t\t\t\r\n\t\t\t// Auto-add security rel for external links\r\n\t\t\tlet finalRel = rel;\r\n\t\t\tif (target === '_blank' && !rel) {\r\n\t\t\t\tfinalRel = 'noopener noreferrer';\r\n\t\t\t}\r\n\r\n\t\t\t// Links can't be truly disabled, so prevent default\r\n\t\t\tconst handleClick = (e: React.MouseEvent<HTMLAnchorElement>) => {\r\n\t\t\t\tif (disabled || loading) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tlinkProps.onClick?.(e);\r\n\t\t\t};\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<a\r\n\t\t\t\t\tref={ref as React.Ref<HTMLAnchorElement>}\r\n\t\t\t\t\thref={disabled || loading ? undefined : href}\r\n\t\t\t\t\ttarget={target}\r\n\t\t\t\t\trel={finalRel}\r\n\t\t\t\t\tdownload={download}\r\n\t\t\t\t\tclassName={classNames}\r\n\t\t\t\t\t{...ariaAttributes}\r\n\t\t\t\t\t{...linkProps}\r\n\t\t\t\t\tonClick={handleClick}\r\n\t\t\t\t>\r\n\t\t\t\t\t{renderButtonContent()}\r\n\t\t\t\t</a>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\t// Handle button-specific props\r\n\t\tconst {\r\n\t\t\ttype = 'button',\r\n\t\t\tform,\r\n\t\t\tformAction,\r\n\t\t\tformMethod,\r\n\t\t\tformNoValidate,\r\n\t\t\tformTarget,\r\n\t\t\t...buttonProps\r\n\t\t} = restProps as ButtonAsButton;\r\n\r\n\t\treturn (\r\n\t\t\t<button\r\n\t\t\t\tref={ref as React.Ref<HTMLButtonElement>}\r\n\t\t\t\ttype={type}\r\n\t\t\t\tdisabled={disabled || loading}\r\n\t\t\t\tform={form}\r\n\t\t\t\tformAction={formAction}\r\n\t\t\t\tformMethod={formMethod}\r\n\t\t\t\tformNoValidate={formNoValidate}\r\n\t\t\t\tformTarget={formTarget}\r\n\t\t\t\tclassName={classNames}\r\n\t\t\t\t{...ariaAttributes}\r\n\t\t\t\t{...buttonProps}\r\n\t\t\t>\r\n\t\t\t\t{renderButtonContent()}\r\n\t\t\t</button>\r\n\t\t);\r\n\r\n\t\t// Render button content with icons and loading state\r\n\t\tfunction renderButtonContent() {\r\n\t\t\t// Show loading state\r\n\t\t\tif (loading) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t{!useCursorLoading && (\r\n\t\t\t\t\t\t\t<span className={styles['button__loading-spinner']} aria-hidden=\"true\">\r\n\t\t\t\t\t\t\t\t‚è≥\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<span className={styles['button__text']}>\r\n\t\t\t\t\t\t\t{loadingText || children}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\t// Icon-only button\r\n\t\t\tif (iconOnly) {\r\n\t\t\t\treturn <span className={styles['button__icon-only']}>{children}</span>;\r\n\t\t\t}\r\n\r\n\t\t\t// Button with icons\r\n\t\t\treturn (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{leftIcon && (\r\n\t\t\t\t\t\t<span className={styles['button__icon-left']} aria-hidden=\"true\">\r\n\t\t\t\t\t\t\t{leftIcon}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<span className={styles['button__text']}>{children}</span>\r\n\t\t\t\t\t{rightIcon && (\r\n\t\t\t\t\t\t<span className={styles['button__icon-right']} aria-hidden=\"true\">\r\n\t\t\t\t\t\t\t{rightIcon}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n);\r\n\r\nButton.displayName = 'Button';\r\n\r\nexport default Button;\r\n","// Icon component - Mac OS 9 style\r\n// Simple wrapper for SVG icons with consistent sizing\r\n\r\nimport React, { forwardRef, SVGAttributes } from 'react';\r\nimport styles from './Icon.module.css';\r\n\r\nexport interface IconProps extends SVGAttributes<SVGElement> {\r\n\t/**\r\n\t * Icon size\r\n\t * @default 'md'\r\n\t */\r\n\tsize?: 'xs' | 'sm' | 'md' | 'lg' | 'xl';\r\n\r\n\t/**\r\n\t * Icon content (SVG path or element)\r\n\t */\r\n\tchildren: React.ReactNode;\r\n\r\n\t/**\r\n\t * Optional label for accessibility\r\n\t */\r\n\tlabel?: string;\r\n\r\n\t/**\r\n\t * Additional CSS class names\r\n\t */\r\n\tclassName?: string;\r\n}\r\n\r\n/**\r\n * Icon component for Mac OS 9 UI\r\n * \r\n * Wraps SVG content with consistent sizing and styling.\r\n * Use for inline icons in buttons, labels, etc.\r\n * \r\n * @example\r\n * ```tsx\r\n * <Icon size=\"sm\">\r\n *   <path d=\"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\"/>\r\n * </Icon>\r\n * \r\n * <Icon label=\"Close\" size=\"md\">\r\n *   <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/>\r\n * </Icon>\r\n * ```\r\n */\r\nexport const Icon = forwardRef<SVGSVGElement, IconProps>(\r\n\t({ size = 'md', children, label, className = '', ...props }, ref) => {\r\n\tconst classNames = [styles.icon, styles[`icon--${size}`], className]\r\n\t\t.filter(Boolean)\r\n\t\t.join(' ');\r\n\r\n\t\treturn (\r\n\t\t\t<svg\r\n\t\t\t\tref={ref}\r\n\t\t\t\tclassName={classNames}\r\n\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\taria-label={label}\r\n\t\t\t\taria-hidden={!label}\r\n\t\t\t\trole={label ? 'img' : 'presentation'}\r\n\t\t\t\t{...props}\r\n\t\t\t>\r\n\t\t\t\t{children}\r\n\t\t\t</svg>\r\n\t\t);\r\n\t}\r\n);\r\n\r\nIcon.displayName = 'Icon';\r\n\r\nexport default Icon;\r\n","// UI control icons - Mac OS 9 React UI\r\n// User interface controls and elements\r\n\r\nimport React from 'react';\r\nimport { Icon } from '../Icon';\r\n\r\n/**\r\n * Divider icon\r\n * Vertical divider for menu bars and toolbars\r\n * Note: Uses a 10x32 viewBox instead of standard 24x24\r\n */\r\nexport const DividerIcon: React.FC = () => (\r\n\t<Icon label=\"Divider\" size=\"sm\" viewBox=\"0 0 10 32\">\r\n\t\t<g clipPath=\"url(#clip0_529_36832)\">\r\n\t\t\t<path d=\"M8 4H10V32H8V4Z\" fill=\"#999999\" />\r\n\t\t\t<path d=\"M8 0H10V4H8V0Z\" fill=\"#999999\" />\r\n\t\t\t<path d=\"M0 4H2V32H0V4Z\" fill=\"white\" />\r\n\t\t\t<path d=\"M0 0H2V4H0V0Z\" fill=\"white\" />\r\n\t\t\t<path d=\"M5 28H7V30H5V28Z\" fill=\"#BBBBBB\" />\r\n\t\t\t<path d=\"M5 21H7V23H5V21Z\" fill=\"#BBBBBB\" />\r\n\t\t\t<path d=\"M5 14H7V16H5V14Z\" fill=\"#BBBBBB\" />\r\n\t\t\t<path d=\"M5 7H7V9H5V7Z\" fill=\"#BBBBBB\" />\r\n\t\t\t<path d=\"M5 4H7V2H5V4Z\" fill=\"#BBBBBB\" />\r\n\t\t\t<path d=\"M5 30H7V32H5V30Z\" fill=\"white\" />\r\n\t\t\t<path d=\"M5 23H7V25H5V23Z\" fill=\"white\" />\r\n\t\t\t<path d=\"M5 16H7V18H5V16Z\" fill=\"white\" />\r\n\t\t\t<path d=\"M5 9H7V11H5V9Z\" fill=\"white\" />\r\n\t\t\t<path d=\"M5 2H7V0H5V2Z\" fill=\"white\" />\r\n\t\t\t<path d=\"M3 28H5V30H3V28Z\" fill=\"#999999\" />\r\n\t\t\t<path d=\"M3 21H5V23H3V21Z\" fill=\"#999999\" />\r\n\t\t\t<path d=\"M3 14H5V16H3V14Z\" fill=\"#999999\" />\r\n\t\t\t<path d=\"M3 7H5V9H3V7Z\" fill=\"#999999\" />\r\n\t\t\t<path d=\"M3 4H5V2H3V4Z\" fill=\"#999999\" />\r\n\t\t\t<path d=\"M3 30H5V32H3V30Z\" fill=\"#BBBBBB\" />\r\n\t\t\t<path d=\"M3 23H5V25H3V23Z\" fill=\"#BBBBBB\" />\r\n\t\t\t<path d=\"M3 16H5V18H3V16Z\" fill=\"#BBBBBB\" />\r\n\t\t\t<path d=\"M3 9H5V11H3V9Z\" fill=\"#BBBBBB\" />\r\n\t\t\t<path d=\"M3 2H5V0H3V2Z\" fill=\"#BBBBBB\" />\r\n\t\t</g>\r\n\t\t<defs>\r\n\t\t\t<clipPath id=\"clip0_529_36832\">\r\n\t\t\t\t<rect width=\"10\" height=\"32\" fill=\"white\" />\r\n\t\t\t</clipPath>\r\n\t\t</defs>\r\n\t</Icon>\r\n);","// Icon Registry - Mac OS 9 React UI\r\n// Central registry of all available icons with type-safe names\r\n\r\nimport { DividerIcon } from './categories/ui';\r\n\r\n/**\r\n * Central icon registry\r\n * Maps icon names to their components\r\n */\r\nexport const iconRegistry = {\r\n\t// UI\r\n\tdivider: DividerIcon,\r\n} as const;\r\n\r\n/**\r\n * Type-safe icon names\r\n * Auto-generated from the icon registry\r\n */\r\nexport type IconName = keyof typeof iconRegistry;\r\n\r\n/**\r\n * Get icon component by name\r\n * @param name - The icon name from the registry\r\n * @returns The icon component or undefined if not found\r\n */\r\nexport function getIcon(name: IconName) {\r\n\treturn iconRegistry[name];\r\n}\r\n\r\n/**\r\n * Check if an icon exists in the registry\r\n * @param name - The icon name to check\r\n * @returns True if the icon exists\r\n */\r\nexport function hasIcon(name: string): name is IconName {\r\n\treturn name in iconRegistry;\r\n}\r\n\r\n/**\r\n * Get all available icon names\r\n * @returns Array of all icon names\r\n */\r\nexport function getAllIconNames(): IconName[] {\r\n\treturn Object.keys(iconRegistry) as IconName[];\r\n}","// IconLibrary component - Mac OS 9 React UI\r\n// Select icons by name from the registry\r\n\r\nimport React, { forwardRef } from 'react';\r\nimport { IconName, getIcon } from './registry';\r\nimport { IconProps } from './Icon';\r\n\r\nexport interface IconLibraryProps\r\n\textends Omit<IconProps, 'children' | 'label'> {\r\n\t/**\r\n\t * Icon name from the registry\r\n\t */\r\n\ticon: IconName;\r\n\r\n\t/**\r\n\t * Optional custom label for accessibility\r\n\t * If not provided, uses the icon name\r\n\t */\r\n\tlabel?: string;\r\n}\r\n\r\n/**\r\n * IconLibrary component for Mac OS 9 UI\r\n *\r\n * Provides a convenient way to use icons by name rather than importing each one individually.\r\n * All icons are registered in the icon registry and can be accessed by their string names.\r\n *\r\n * @example\r\n * ```tsx\r\n * <IconLibrary icon=\"save\" size=\"md\" />\r\n * <IconLibrary icon=\"folder\" size=\"lg\" />\r\n * <IconLibrary icon=\"arrow-right\" size=\"sm\" />\r\n * ```\r\n */\r\nexport const IconLibrary: React.FC<IconLibraryProps> = ({ icon, ...props }) => {\r\n\tconst IconComponent = getIcon(icon);\r\n\r\n\tif (!IconComponent) {\r\n\t\tconsole.warn(`Icon \"${icon}\" not found in registry`);\r\n\t\treturn null;\r\n\t}\r\n\r\n\t// Render the icon component with any additional props\r\n\treturn <IconComponent {...props} />;\r\n};\r\n\r\nIconLibrary.displayName = 'IconLibrary';\r\n\r\nexport default IconLibrary;","// IconButton component - Mac OS 9 style button with icon\r\n// Button variant that includes an icon, with optional label\r\n\r\n'use client';\r\n\r\nimport React, { forwardRef, ButtonHTMLAttributes } from 'react';\r\nimport styles from './IconButton.module.css';\r\n\r\nexport interface IconButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\r\n\t/**\r\n\t * Icon element to display\r\n\t */\r\n\ticon: React.ReactNode;\r\n\r\n\t/**\r\n\t * Optional text label to display alongside icon\r\n\t */\r\n\tlabel?: string;\r\n\r\n\t/**\r\n\t * Label position relative to icon\r\n\t * @default 'right'\r\n\t */\r\n\tlabelPosition?: 'left' | 'right' | 'top' | 'bottom';\r\n\r\n\t/**\r\n\t * Button variant\r\n\t * @default 'default'\r\n\t */\r\n\tvariant?: 'default' | 'primary' | 'danger';\r\n\r\n\t/**\r\n\t * Button size\r\n\t * @default 'md'\r\n\t */\r\n\tsize?: 'sm' | 'md' | 'lg';\r\n\r\n\t/**\r\n\t * Whether button is disabled\r\n\t * @default false\r\n\t */\r\n\tdisabled?: boolean;\r\n\r\n\t/**\r\n\t * Additional CSS class names\r\n\t */\r\n\tclassName?: string;\r\n}\r\n\r\n/**\r\n * IconButton component for Mac OS 9 UI\r\n * \r\n * Button with an icon, optionally with a text label.\r\n * Supports all button variants and sizes.\r\n * \r\n * @example\r\n * ```tsx\r\n * // Icon-only button\r\n * <IconButton icon={<SaveIcon />} />\r\n * \r\n * // Icon with label\r\n * <IconButton \r\n *   icon={<FolderIcon />} \r\n *   label=\"New Folder\"\r\n *   variant=\"primary\"\r\n * />\r\n * \r\n * // Icon with label on different sides\r\n * <IconButton \r\n *   icon={<SearchIcon />} \r\n *   label=\"Search\"\r\n *   labelPosition=\"right\"\r\n * />\r\n * ```\r\n */\r\nexport const IconButton = forwardRef<HTMLButtonElement, IconButtonProps>(\r\n\t(\r\n\t\t{\r\n\t\t\ticon,\r\n\t\t\tlabel,\r\n\t\t\tlabelPosition = 'right',\r\n\t\t\tvariant = 'default',\r\n\t\t\tsize = 'md',\r\n\t\t\tdisabled = false,\r\n\t\t\tclassName = '',\r\n\t\t\t...props\r\n\t\t},\r\n\t\tref\r\n\t) => {\r\n\t\t// Build class names\r\n\t\tconst classNames = [\r\n\t\t\tstyles.iconButton,\r\n\t\t\tstyles[`iconButton--${variant}`],\r\n\t\t\tstyles[`iconButton--${size}`],\r\n\t\t\tlabel && styles['iconButton--with-label'],\r\n\t\t\tlabel && styles[`iconButton--label-${labelPosition}`],\r\n\t\t\tdisabled && styles['iconButton--disabled'],\r\n\t\t\tclassName,\r\n\t\t]\r\n\t\t\t.filter(Boolean)\r\n\t\t\t.join(' ');\r\n\r\n\t\treturn (\r\n\t\t\t<button\r\n\t\t\t\tref={ref}\r\n\t\t\t\ttype=\"button\"\r\n\t\t\t\tclassName={classNames}\r\n\t\t\t\tdisabled={disabled}\r\n\t\t\t\t{...props}\r\n\t\t\t>\r\n\t\t{label && (labelPosition === 'left' || labelPosition === 'top') && (\r\n\t\t\t<span className={styles.label}>{label}</span>\r\n\t\t)}\r\n\t\t<span className={styles.icon}>{icon}</span>\r\n\t\t{label && (labelPosition === 'right' || labelPosition === 'bottom') && (\r\n\t\t\t<span className={styles.label}>{label}</span>\r\n\t\t)}\r\n\t\t\t</button>\r\n\t\t);\r\n\t}\r\n);\r\n\r\nIconButton.displayName = 'IconButton';\r\n\r\nexport default IconButton;\r\n","// Checkbox component - Mac OS 9 style\r\n// Classic checkbox with label support and full accessibility\r\n\r\nimport React, { forwardRef, InputHTMLAttributes } from 'react';\r\nimport styles from './Checkbox.module.css';\r\n\r\nexport interface CheckboxProps\r\n\textends Omit<InputHTMLAttributes<HTMLInputElement>, 'type' | 'size'> {\r\n\t/**\r\n\t * Whether the checkbox is checked\r\n\t * For controlled component usage\r\n\t */\r\n\tchecked?: boolean;\r\n\r\n\t/**\r\n\t * Default checked state\r\n\t * For uncontrolled component usage\r\n\t */\r\n\tdefaultChecked?: boolean;\r\n\r\n\t/**\r\n\t * Whether the checkbox is in an indeterminate state\r\n\t * (neither checked nor unchecked, typically for \"select all\" scenarios)\r\n\t * @default false\r\n\t */\r\n\tindeterminate?: boolean;\r\n\r\n\t/**\r\n\t * Whether the checkbox is disabled\r\n\t * @default false\r\n\t */\r\n\tdisabled?: boolean;\r\n\r\n\t/**\r\n\t * Label text for the checkbox\r\n\t */\r\n\tlabel?: React.ReactNode;\r\n\r\n\t/**\r\n\t * Position of the label relative to the checkbox\r\n\t * @default 'right'\r\n\t */\r\n\tlabelPosition?: 'left' | 'right';\r\n\r\n\t/**\r\n\t * Size of the checkbox\r\n\t * @default 'md'\r\n\t */\r\n\tsize?: 'sm' | 'md' | 'lg';\r\n\r\n\t/**\r\n\t * Error state for form validation\r\n\t * @default false\r\n\t */\r\n\terror?: boolean;\r\n\r\n\t/**\r\n\t * Override aria-label (for checkboxes without visible labels)\r\n\t */\r\n\tariaLabel?: string;\r\n\r\n\t/**\r\n\t * ID of element that describes this checkbox\r\n\t */\r\n\tariaDescribedBy?: string;\r\n\r\n\t/**\r\n\t * Additional CSS class names\r\n\t */\r\n\tclassName?: string;\r\n\r\n\t/**\r\n\t * Callback when checked state changes\r\n\t */\r\n\tonChange?: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n}\r\n\r\n/**\r\n * Mac OS 9 style Checkbox component\r\n * \r\n * Classic checkbox with raised bevel effect and optional label.\r\n * Supports checked, unchecked, indeterminate, and disabled states.\r\n * \r\n * Features:\r\n * - Classic Mac OS 9 bevel styling\r\n * - Indeterminate state support\r\n * - Label positioning (left/right)\r\n * - Controlled and uncontrolled modes\r\n * - Full accessibility with ARIA support\r\n * - Keyboard navigation (Space to toggle)\r\n * - Form integration\r\n * \r\n * @example\r\n * ```tsx\r\n * // Uncontrolled\r\n * <Checkbox label=\"Accept terms\" />\r\n * \r\n * // Controlled\r\n * <Checkbox \r\n *   checked={isChecked} \r\n *   onChange={(e) => setIsChecked(e.target.checked)}\r\n *   label=\"Subscribe to newsletter\"\r\n * />\r\n * \r\n * // Indeterminate (for \"select all\")\r\n * <Checkbox \r\n *   indeterminate={someSelected && !allSelected}\r\n *   checked={allSelected}\r\n *   onChange={handleSelectAll}\r\n *   label=\"Select all items\"\r\n * />\r\n * ```\r\n */\r\nexport const Checkbox = forwardRef<HTMLInputElement, CheckboxProps>(\r\n\t(\r\n\t\t{\r\n\t\t\tchecked,\r\n\t\t\tdefaultChecked,\r\n\t\t\tindeterminate = false,\r\n\t\t\tdisabled = false,\r\n\t\t\tlabel,\r\n\t\t\tlabelPosition = 'right',\r\n\t\t\tsize = 'md',\r\n\t\t\terror = false,\r\n\t\t\tariaLabel,\r\n\t\t\tariaDescribedBy,\r\n\t\t\tclassName = '',\r\n\t\t\tonChange,\r\n\t\t\tid,\r\n\t\t\t...props\r\n\t\t},\r\n\t\tref\r\n\t) => {\r\n\t\tconst inputRef = React.useRef<HTMLInputElement>(null);\r\n\t\tconst combinedRef = (ref as React.RefObject<HTMLInputElement>) || inputRef;\r\n\r\n\t\t// Set indeterminate property via ref (can't be set via HTML attribute)\r\n\t\tReact.useEffect(() => {\r\n\t\t\tif (combinedRef?.current) {\r\n\t\t\t\tcombinedRef.current.indeterminate = indeterminate;\r\n\t\t\t}\r\n\t\t}, [indeterminate, combinedRef]);\r\n\r\n\t\t// Generate ID if not provided (for label association)\r\n\t\tconst checkboxId = id || React.useId();\r\n\r\n\t// Build class names\r\n\tconst wrapperClassNames = [\r\n\t\tstyles.wrapper,\r\n\t\tstyles[`wrapper--${size}`],\r\n\t\tstyles[`wrapper--label-${labelPosition}`],\r\n\t\tdisabled && styles['wrapper--disabled'],\r\n\t\terror && styles['wrapper--error'],\r\n\t\tclassName,\r\n\t]\r\n\t\t.filter(Boolean)\r\n\t\t.join(' ');\r\n\r\n\tconst checkboxClassNames = [\r\n\t\tstyles.checkbox,\r\n\t\tstyles[`checkbox--${size}`],\r\n\t\tindeterminate && styles['checkbox--indeterminate'],\r\n\t\terror && styles['checkbox--error'],\r\n\t]\r\n\t\t.filter(Boolean)\r\n\t\t.join(' ');\r\n\r\n\tconst labelClassNames = [styles.label, styles[`label--${size}`]].filter(Boolean).join(' ');\r\n\r\n\t\t// ARIA attributes\r\n\t\tconst ariaAttributes = {\r\n\t\t\t'aria-label': !label ? ariaLabel : undefined,\r\n\t\t\t'aria-describedby': ariaDescribedBy,\r\n\t\t\t'aria-invalid': error,\r\n\t\t\t'aria-checked': indeterminate ? ('mixed' as const) : undefined,\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<div className={wrapperClassNames}>\r\n\t\t\t\t{label && labelPosition === 'left' && (\r\n\t\t\t\t\t<label htmlFor={checkboxId} className={labelClassNames}>\r\n\t\t\t\t\t\t{label}\r\n\t\t\t\t\t</label>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<input\r\n\t\t\t\t\tref={combinedRef}\r\n\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\tid={checkboxId}\r\n\t\t\t\t\tclassName={checkboxClassNames}\r\n\t\t\t\t\tchecked={checked}\r\n\t\t\t\t\tdefaultChecked={defaultChecked}\r\n\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t{...ariaAttributes}\r\n\t\t\t\t\t{...props}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{label && labelPosition === 'right' && (\r\n\t\t\t\t\t<label htmlFor={checkboxId} className={labelClassNames}>\r\n\t\t\t\t\t\t{label}\r\n\t\t\t\t\t</label>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n);\r\n\r\nCheckbox.displayName = 'Checkbox';\r\n\r\nexport default Checkbox;\r\n","// Radio component - Mac OS 9 style\r\n// Classic radio button with label support and full accessibility\r\n\r\nimport React, { forwardRef, InputHTMLAttributes } from 'react';\r\nimport styles from './Radio.module.css';\r\n\r\nexport interface RadioProps\r\n\textends Omit<InputHTMLAttributes<HTMLInputElement>, 'type' | 'size'> {\r\n\t/**\r\n\t * Whether the radio is checked\r\n\t * For controlled component usage\r\n\t */\r\n\tchecked?: boolean;\r\n\r\n\t/**\r\n\t * Default checked state\r\n\t * For uncontrolled component usage\r\n\t */\r\n\tdefaultChecked?: boolean;\r\n\r\n\t/**\r\n\t * Whether the radio is disabled\r\n\t * @default false\r\n\t */\r\n\tdisabled?: boolean;\r\n\r\n\t/**\r\n\t * Label text for the radio\r\n\t */\r\n\tlabel?: React.ReactNode;\r\n\r\n\t/**\r\n\t * Position of the label relative to the radio\r\n\t * @default 'right'\r\n\t */\r\n\tlabelPosition?: 'left' | 'right';\r\n\r\n\t/**\r\n\t * Size of the radio\r\n\t * @default 'md'\r\n\t */\r\n\tsize?: 'sm' | 'md' | 'lg';\r\n\r\n\t/**\r\n\t * Error state for form validation\r\n\t * @default false\r\n\t */\r\n\terror?: boolean;\r\n\r\n\t/**\r\n\t * Override aria-label (for radios without visible labels)\r\n\t */\r\n\tariaLabel?: string;\r\n\r\n\t/**\r\n\t * ID of element that describes this radio\r\n\t */\r\n\tariaDescribedBy?: string;\r\n\r\n\t/**\r\n\t * Additional CSS class names\r\n\t */\r\n\tclassName?: string;\r\n\r\n\t/**\r\n\t * Value for the radio button (required for radio groups)\r\n\t */\r\n\tvalue?: string | number;\r\n\r\n\t/**\r\n\t * Name for the radio group (all radios in a group should share the same name)\r\n\t */\r\n\tname?: string;\r\n\r\n\t/**\r\n\t * Callback when checked state changes\r\n\t */\r\n\tonChange?: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n}\r\n\r\n/**\r\n * Mac OS 9 style Radio component\r\n * \r\n * Classic radio button with raised bevel effect and optional label.\r\n * Radio buttons work in groups - only one can be selected at a time.\r\n * \r\n * Features:\r\n * - Classic Mac OS 9 circular bevel styling\r\n * - Radio group support via `name` attribute\r\n * - Label positioning (left/right)\r\n * - Controlled and uncontrolled modes\r\n * - Full accessibility with ARIA support\r\n * - Keyboard navigation (Arrow keys to navigate group, Space to select)\r\n * - Form integration\r\n * \r\n * @example\r\n * ```tsx\r\n * // Uncontrolled radio group\r\n * <div>\r\n *   <Radio name=\"size\" value=\"small\" label=\"Small\" />\r\n *   <Radio name=\"size\" value=\"medium\" label=\"Medium\" defaultChecked />\r\n *   <Radio name=\"size\" value=\"large\" label=\"Large\" />\r\n * </div>\r\n * \r\n * // Controlled radio group\r\n * <div>\r\n *   <Radio \r\n *     name=\"color\" \r\n *     value=\"red\" \r\n *     checked={color === 'red'}\r\n *     onChange={(e) => setColor(e.target.value)}\r\n *     label=\"Red\"\r\n *   />\r\n *   <Radio \r\n *     name=\"color\" \r\n *     value=\"blue\" \r\n *     checked={color === 'blue'}\r\n *     onChange={(e) => setColor(e.target.value)}\r\n *     label=\"Blue\"\r\n *   />\r\n * </div>\r\n * ```\r\n */\r\nexport const Radio = forwardRef<HTMLInputElement, RadioProps>(\r\n\t(\r\n\t\t{\r\n\t\t\tchecked,\r\n\t\t\tdefaultChecked,\r\n\t\t\tdisabled = false,\r\n\t\t\tlabel,\r\n\t\t\tlabelPosition = 'right',\r\n\t\t\tsize = 'md',\r\n\t\t\terror = false,\r\n\t\t\tariaLabel,\r\n\t\t\tariaDescribedBy,\r\n\t\t\tclassName = '',\r\n\t\t\tvalue,\r\n\t\t\tname,\r\n\t\t\tonChange,\r\n\t\t\tid,\r\n\t\t\t...props\r\n\t\t},\r\n\t\tref\r\n\t) => {\r\n\t\t// Generate ID if not provided (for label association)\r\n\t\tconst radioId = id || React.useId();\r\n\r\n\t// Build class names\r\n\tconst wrapperClassNames = [\r\n\t\tstyles.wrapper,\r\n\t\tstyles[`wrapper--${size}`],\r\n\t\tstyles[`wrapper--label-${labelPosition}`],\r\n\t\tdisabled && styles['wrapper--disabled'],\r\n\t\terror && styles['wrapper--error'],\r\n\t\tclassName,\r\n\t]\r\n\t\t.filter(Boolean)\r\n\t\t.join(' ');\r\n\r\n\tconst radioClassNames = [\r\n\t\tstyles.radio,\r\n\t\tstyles[`radio--${size}`],\r\n\t\terror && styles['radio--error'],\r\n\t]\r\n\t\t.filter(Boolean)\r\n\t\t.join(' ');\r\n\r\n\tconst labelClassNames = [styles.label, styles[`label--${size}`]].filter(Boolean).join(' ');\r\n\r\n\t\t// ARIA attributes\r\n\t\tconst ariaAttributes = {\r\n\t\t\t'aria-label': !label ? ariaLabel : undefined,\r\n\t\t\t'aria-describedby': ariaDescribedBy,\r\n\t\t\t'aria-invalid': error,\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<div className={wrapperClassNames}>\r\n\t\t\t\t{label && labelPosition === 'left' && (\r\n\t\t\t\t\t<label htmlFor={radioId} className={labelClassNames}>\r\n\t\t\t\t\t\t{label}\r\n\t\t\t\t\t</label>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<input\r\n\t\t\t\t\tref={ref}\r\n\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\tid={radioId}\r\n\t\t\t\t\tclassName={radioClassNames}\r\n\t\t\t\t\tchecked={checked}\r\n\t\t\t\t\tdefaultChecked={defaultChecked}\r\n\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\tvalue={value}\r\n\t\t\t\t\tname={name}\r\n\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t{...ariaAttributes}\r\n\t\t\t\t\t{...props}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{label && labelPosition === 'right' && (\r\n\t\t\t\t\t<label htmlFor={radioId} className={labelClassNames}>\r\n\t\t\t\t\t\t{label}\r\n\t\t\t\t\t</label>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n);\r\n\r\nRadio.displayName = 'Radio';\r\n\r\nexport default Radio;\r\n","// TextField component - Mac OS 9 style\r\n// Classic text input with label support and full accessibility\r\n\r\nimport React, { forwardRef, InputHTMLAttributes } from 'react';\r\nimport styles from './TextField.module.css';\r\n\r\nexport interface TextFieldProps\r\n\textends Omit<InputHTMLAttributes<HTMLInputElement>, 'size'> {\r\n\t/**\r\n\t * Label text for the text field\r\n\t */\r\n\tlabel?: React.ReactNode;\r\n\r\n\t/**\r\n\t * Position of the label relative to the text field\r\n\t * @default 'top'\r\n\t */\r\n\tlabelPosition?: 'top' | 'left' | 'right';\r\n\r\n\t/**\r\n\t * Size of the text field\r\n\t * @default 'md'\r\n\t */\r\n\tsize?: 'sm' | 'md' | 'lg';\r\n\r\n\t/**\r\n\t * Whether the text field takes full width of its container\r\n\t * @default false\r\n\t */\r\n\tfullWidth?: boolean;\r\n\r\n\t/**\r\n\t * Error state for form validation\r\n\t * @default false\r\n\t */\r\n\terror?: boolean;\r\n\r\n\t/**\r\n\t * Error message to display below the field\r\n\t */\r\n\terrorMessage?: string;\r\n\r\n\t/**\r\n\t * Helper text to display below the field\r\n\t */\r\n\thelperText?: string;\r\n\r\n\t/**\r\n\t * Icon to display before the input (left side)\r\n\t */\r\n\tleftIcon?: React.ReactNode;\r\n\r\n\t/**\r\n\t * Icon to display after the input (right side)\r\n\t */\r\n\trightIcon?: React.ReactNode;\r\n\r\n\t/**\r\n\t * Override aria-label\r\n\t */\r\n\tariaLabel?: string;\r\n\r\n\t/**\r\n\t * ID of element that describes this text field\r\n\t */\r\n\tariaDescribedBy?: string;\r\n\r\n\t/**\r\n\t * Additional CSS class names\r\n\t */\r\n\tclassName?: string;\r\n\r\n\t/**\r\n\t * Custom wrapper class name\r\n\t */\r\n\twrapperClassName?: string;\r\n}\r\n\r\n/**\r\n * Mac OS 9 style TextField component\r\n * \r\n * Classic text input with inset bevel effect and optional label.\r\n * \r\n * Features:\r\n * - Classic Mac OS 9 inset bevel styling\r\n * - Label positioning (top/left/right)\r\n * - Size variants (sm/md/lg)\r\n * - Error states with messages\r\n * - Helper text support\r\n * - Icon support (left/right)\r\n * - Full accessibility with ARIA support\r\n * - Keyboard navigation\r\n * - Form integration\r\n * \r\n * @example\r\n * ```tsx\r\n * // Basic text field\r\n * <TextField placeholder=\"Enter text...\" />\r\n * \r\n * // With label\r\n * <TextField label=\"Username\" placeholder=\"Enter username\" />\r\n * \r\n * // With error\r\n * <TextField \r\n *   label=\"Email\" \r\n *   error \r\n *   errorMessage=\"Invalid email address\"\r\n *   value={email}\r\n *   onChange={(e) => setEmail(e.target.value)}\r\n * />\r\n * \r\n * // With icons\r\n * <TextField \r\n *   leftIcon={<SearchIcon />}\r\n *   placeholder=\"Search...\"\r\n * />\r\n * ```\r\n */\r\nexport const TextField = forwardRef<HTMLInputElement, TextFieldProps>(\r\n\t(\r\n\t\t{\r\n\t\t\tlabel,\r\n\t\t\tlabelPosition = 'top',\r\n\t\t\tsize = 'md',\r\n\t\t\tfullWidth = false,\r\n\t\t\terror = false,\r\n\t\t\terrorMessage,\r\n\t\t\thelperText,\r\n\t\t\tleftIcon,\r\n\t\t\trightIcon,\r\n\t\t\tariaLabel,\r\n\t\t\tariaDescribedBy,\r\n\t\t\tclassName = '',\r\n\t\t\twrapperClassName = '',\r\n\t\t\ttype = 'text',\r\n\t\t\tid,\r\n\t\t\tdisabled,\r\n\t\t\t...props\r\n\t\t},\r\n\t\tref\r\n\t) => {\r\n\t\t// Generate ID if not provided (for label association)\r\n\t\tconst inputId = id || React.useId();\r\n\r\n\t\t// Generate helper/error text ID for aria-describedby\r\n\t\tconst helperId = `${inputId}-helper`;\r\n\t\tconst errorId = `${inputId}-error`;\r\n\r\n\t\t// Combine aria-describedby\r\n\t\tconst describedByIds = [\r\n\t\t\thelperText && helperId,\r\n\t\t\terror && errorMessage && errorId,\r\n\t\t\tariaDescribedBy,\r\n\t\t]\r\n\t\t\t.filter(Boolean)\r\n\t\t\t.join(' ');\r\n\r\n\t// Build class names\r\n\tconst wrapperClassNames = [\r\n\t\tstyles.wrapper,\r\n\t\tstyles[`wrapper--${size}`],\r\n\t\tstyles[`wrapper--label-${labelPosition}`],\r\n\t\tfullWidth && styles['wrapper--full-width'],\r\n\t\tdisabled && styles['wrapper--disabled'],\r\n\t\twrapperClassName,\r\n\t]\r\n\t\t.filter(Boolean)\r\n\t\t.join(' ');\r\n\r\n\tconst inputWrapperClassNames = [\r\n\t\tstyles['input-wrapper'],\r\n\t\t(leftIcon || rightIcon) && styles['input-wrapper--with-icon'],\r\n\t\tleftIcon && styles['input-wrapper--with-left-icon'],\r\n\t\trightIcon && styles['input-wrapper--with-right-icon'],\r\n\t]\r\n\t\t.filter(Boolean)\r\n\t\t.join(' ');\r\n\r\n\tconst inputClassNames = [\r\n\t\tstyles.input,\r\n\t\tstyles[`input--${size}`],\r\n\t\terror && styles['input--error'],\r\n\t\tfullWidth && styles['input--full-width'],\r\n\t\tclassName,\r\n\t]\r\n\t\t.filter(Boolean)\r\n\t\t.join(' ');\r\n\r\n\tconst labelClassNames = [styles.label, styles[`label--${size}`]].filter(Boolean).join(' ');\r\n\r\n\t\t// ARIA attributes\r\n\t\tconst ariaAttributes = {\r\n\t\t\t'aria-label': !label ? ariaLabel : undefined,\r\n\t\t\t'aria-describedby': describedByIds || undefined,\r\n\t\t\t'aria-invalid': error,\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<div className={wrapperClassNames}>\r\n\t\t\t\t{label && (labelPosition === 'top' || labelPosition === 'left') && (\r\n\t\t\t\t\t<label htmlFor={inputId} className={labelClassNames}>\r\n\t\t\t\t\t\t{label}\r\n\t\t\t\t\t</label>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<div className={inputWrapperClassNames}>\r\n\t\t\t{leftIcon && (\r\n\t\t\t\t<span className={styles['input-icon-left']} aria-hidden=\"true\">\r\n\t\t\t\t\t{leftIcon}\r\n\t\t\t\t</span>\r\n\t\t\t)}\r\n\r\n\t\t\t<input\r\n\t\t\t\tref={ref}\r\n\t\t\t\ttype={type}\r\n\t\t\t\tid={inputId}\r\n\t\t\t\tclassName={inputClassNames}\r\n\t\t\t\tdisabled={disabled}\r\n\t\t\t\t{...ariaAttributes}\r\n\t\t\t\t{...props}\r\n\t\t\t/>\r\n\r\n\t\t\t{rightIcon && (\r\n\t\t\t\t<span className={styles['input-icon-right']} aria-hidden=\"true\">\r\n\t\t\t\t\t{rightIcon}\r\n\t\t\t\t</span>\r\n\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{label && labelPosition === 'right' && (\r\n\t\t\t\t\t<label htmlFor={inputId} className={labelClassNames}>\r\n\t\t\t\t\t\t{label}\r\n\t\t\t\t\t</label>\r\n\t\t\t\t)}\r\n\r\n\t\t{helperText && !error && (\r\n\t\t\t<p id={helperId} className={styles['helper-text']}>\r\n\t\t\t\t{helperText}\r\n\t\t\t</p>\r\n\t\t)}\r\n\r\n\t\t{error && errorMessage && (\r\n\t\t\t<p id={errorId} className={styles['error-message']}>\r\n\t\t\t\t{errorMessage}\r\n\t\t\t</p>\r\n\t\t)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n);\r\n\r\nTextField.displayName = 'TextField';\r\n\r\nexport default TextField;\r\n","// Select component - Mac OS 9 style\r\n// Classic dropdown select with label support and full accessibility\r\n\r\nimport React, { forwardRef, SelectHTMLAttributes } from 'react';\r\nimport styles from './Select.module.css';\r\n\r\nexport interface SelectOption {\r\n\tvalue: string | number;\r\n\tlabel: string;\r\n\tdisabled?: boolean;\r\n}\r\n\r\nexport interface SelectProps\r\n\textends Omit<SelectHTMLAttributes<HTMLSelectElement>, 'size'> {\r\n\t/**\r\n\t * Label text for the select\r\n\t */\r\n\tlabel?: React.ReactNode;\r\n\r\n\t/**\r\n\t * Position of the label relative to the select\r\n\t * @default 'top'\r\n\t */\r\n\tlabelPosition?: 'top' | 'left' | 'right';\r\n\r\n\t/**\r\n\t * Size of the select\r\n\t * @default 'md'\r\n\t */\r\n\tsize?: 'sm' | 'md' | 'lg';\r\n\r\n\t/**\r\n\t * Whether the select takes full width of its container\r\n\t * @default false\r\n\t */\r\n\tfullWidth?: boolean;\r\n\r\n\t/**\r\n\t * Error state for form validation\r\n\t * @default false\r\n\t */\r\n\terror?: boolean;\r\n\r\n\t/**\r\n\t * Error message to display below the field\r\n\t */\r\n\terrorMessage?: string;\r\n\r\n\t/**\r\n\t * Helper text to display below the field\r\n\t */\r\n\thelperText?: string;\r\n\r\n\t/**\r\n\t * Options for the select dropdown\r\n\t * Alternative to providing option elements as children\r\n\t */\r\n\toptions?: SelectOption[];\r\n\r\n\t/**\r\n\t * Placeholder text (creates a disabled first option)\r\n\t */\r\n\tplaceholder?: string;\r\n\r\n\t/**\r\n\t * Override aria-label\r\n\t */\r\n\tariaLabel?: string;\r\n\r\n\t/**\r\n\t * ID of element that describes this select\r\n\t */\r\n\tariaDescribedBy?: string;\r\n\r\n\t/**\r\n\t * Additional CSS class names\r\n\t */\r\n\tclassName?: string;\r\n\r\n\t/**\r\n\t * Custom wrapper class name\r\n\t */\r\n\twrapperClassName?: string;\r\n}\r\n\r\n/**\r\n * Mac OS 9 style Select component\r\n * \r\n * Classic dropdown select with raised bevel effect and optional label.\r\n * \r\n * Features:\r\n * - Classic Mac OS 9 popup menu styling\r\n * - Label positioning (top/left/right)\r\n * - Size variants (sm/md/lg)\r\n * - Error states with messages\r\n * - Helper text support\r\n * - Option groups support\r\n * - Full accessibility with ARIA support\r\n * - Keyboard navigation\r\n * - Form integration\r\n * \r\n * @example\r\n * ```tsx\r\n * // With options prop\r\n * <Select\r\n *   label=\"Choose a color\"\r\n *   options={[\r\n *     { value: 'red', label: 'Red' },\r\n *     { value: 'blue', label: 'Blue' },\r\n *     { value: 'green', label: 'Green' }\r\n *   ]}\r\n *   placeholder=\"Select a color...\"\r\n * />\r\n * \r\n * // With children\r\n * <Select label=\"Country\">\r\n *   <option value=\"us\">United States</option>\r\n *   <option value=\"ca\">Canada</option>\r\n *   <option value=\"mx\">Mexico</option>\r\n * </Select>\r\n * ```\r\n */\r\nexport const Select = forwardRef<HTMLSelectElement, SelectProps>(\r\n\t(\r\n\t\t{\r\n\t\t\tlabel,\r\n\t\t\tlabelPosition = 'top',\r\n\t\t\tsize = 'md',\r\n\t\t\tfullWidth = false,\r\n\t\t\terror = false,\r\n\t\t\terrorMessage,\r\n\t\t\thelperText,\r\n\t\t\toptions,\r\n\t\t\tplaceholder,\r\n\t\t\tariaLabel,\r\n\t\t\tariaDescribedBy,\r\n\t\t\tclassName = '',\r\n\t\t\twrapperClassName = '',\r\n\t\t\tid,\r\n\t\t\tdisabled,\r\n\t\t\tchildren,\r\n\t\t\t...props\r\n\t\t},\r\n\t\tref\r\n\t) => {\r\n\t\t// Generate ID if not provided (for label association)\r\n\t\tconst selectId = id || React.useId();\r\n\r\n\t\t// Generate helper/error text ID for aria-describedby\r\n\t\tconst helperId = `${selectId}-helper`;\r\n\t\tconst errorId = `${selectId}-error`;\r\n\r\n\t\t// Combine aria-describedby\r\n\t\tconst describedByIds = [\r\n\t\t\thelperText && helperId,\r\n\t\t\terror && errorMessage && errorId,\r\n\t\t\tariaDescribedBy,\r\n\t\t]\r\n\t\t\t.filter(Boolean)\r\n\t\t\t.join(' ');\r\n\r\n\t\t// Build class names\r\n\t\tconst wrapperClassNames = [\r\n\t\t\tstyles.wrapper,\r\n\t\t\tstyles[`wrapper--${size}`],\r\n\t\t\tstyles[`wrapper--label-${labelPosition}`],\r\n\t\t\tfullWidth && styles['wrapper--full-width'],\r\n\t\t\tdisabled && styles['wrapper--disabled'],\r\n\t\t\twrapperClassName,\r\n\t\t]\r\n\t\t\t.filter(Boolean)\r\n\t\t\t.join(' ');\r\n\r\n\t\tconst selectClassNames = [\r\n\t\t\tstyles.select,\r\n\t\t\tstyles[`select--${size}`],\r\n\t\t\terror && styles['select--error'],\r\n\t\t\tfullWidth && styles['select--full-width'],\r\n\t\t\tclassName,\r\n\t\t]\r\n\t\t\t.filter(Boolean)\r\n\t\t\t.join(' ');\r\n\r\n\t\tconst labelClassNames = [styles.label, styles[`label--${size}`]].filter(Boolean).join(' ');\r\n\r\n\t\t// ARIA attributes\r\n\t\tconst ariaAttributes = {\r\n\t\t\t'aria-label': !label ? ariaLabel : undefined,\r\n\t\t\t'aria-describedby': describedByIds || undefined,\r\n\t\t\t'aria-invalid': error,\r\n\t\t};\r\n\r\n\t\t// Render options from options prop\r\n\t\tconst renderOptions = () => {\r\n\t\t\tif (options) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t{placeholder && (\r\n\t\t\t\t\t\t\t<option value=\"\" disabled>\r\n\t\t\t\t\t\t\t\t{placeholder}\r\n\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{options.map((option) => (\r\n\t\t\t\t\t\t\t<option key={option.value} value={option.value} disabled={option.disabled}>\r\n\t\t\t\t\t\t\t\t{option.label}\r\n\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\treturn children;\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<div className={wrapperClassNames}>\r\n\t\t\t\t{label && (labelPosition === 'top' || labelPosition === 'left') && (\r\n\t\t\t\t\t<label htmlFor={selectId} className={labelClassNames}>\r\n\t\t\t\t\t\t{label}\r\n\t\t\t\t\t</label>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<select\r\n\t\t\t\t\tref={ref}\r\n\t\t\t\t\tid={selectId}\r\n\t\t\t\t\tclassName={selectClassNames}\r\n\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t{...ariaAttributes}\r\n\t\t\t\t\t{...props}\r\n\t\t\t\t>\r\n\t\t\t\t\t{renderOptions()}\r\n\t\t\t\t</select>\r\n\r\n\t\t\t\t{label && labelPosition === 'right' && (\r\n\t\t\t\t\t<label htmlFor={selectId} className={labelClassNames}>\r\n\t\t\t\t\t\t{label}\r\n\t\t\t\t\t</label>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{helperText && !error && (\r\n\t\t\t\t\t<p id={helperId} className={styles['helper-text']}>\r\n\t\t\t\t\t\t{helperText}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{error && errorMessage && (\r\n\t\t\t\t\t<p id={errorId} className={styles['error-message']}>\r\n\t\t\t\t\t\t{errorMessage}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n);\r\n\r\nSelect.displayName = 'Select';\r\n\r\nexport default Select;","// Tabs component - Mac OS 9 style\r\n// Classic tabbed navigation with raised tab appearance\r\n\r\nimport React, { useState, useCallback, Children, isValidElement, ReactElement } from 'react';\r\nimport styles from './Tabs.module.css';\r\n\r\nexport interface TabPanelProps {\r\n\t/**\r\n\t * Label for the tab\r\n\t */\r\n\tlabel: string;\r\n\r\n\t/**\r\n\t * Content of the tab panel\r\n\t */\r\n\tchildren: React.ReactNode;\r\n\r\n\t/**\r\n\t * Optional icon to display in the tab\r\n\t */\r\n\ticon?: React.ReactNode;\r\n\r\n\t/**\r\n\t * Whether this tab is disabled\r\n\t * @default false\r\n\t */\r\n\tdisabled?: boolean;\r\n\r\n\t/**\r\n\t * Value identifier for controlled tabs\r\n\t */\r\n\tvalue?: string;\r\n}\r\n\r\n/**\r\n * TabPanel component - Individual tab content\r\n * Must be used as a child of Tabs component\r\n */\r\nexport const TabPanel: React.FC<TabPanelProps> = ({ children }) => {\r\n\treturn <>{children}</>;\r\n};\r\n\r\nTabPanel.displayName = 'TabPanel';\r\n\r\nexport interface TabsProps {\r\n\t/**\r\n\t * Tab panels as children\r\n\t */\r\n\tchildren: ReactElement<TabPanelProps> | ReactElement<TabPanelProps>[];\r\n\r\n\t/**\r\n\t * Index of the default active tab (uncontrolled)\r\n\t * @default 0\r\n\t */\r\n\tdefaultActiveTab?: number;\r\n\r\n\t/**\r\n\t * Index of the active tab (controlled)\r\n\t */\r\n\tactiveTab?: number;\r\n\r\n\t/**\r\n\t * Callback when tab changes\r\n\t */\r\n\tonChange?: (index: number, value?: string) => void;\r\n\r\n\t/**\r\n\t * Size of the tabs\r\n\t * @default 'md'\r\n\t */\r\n\tsize?: 'sm' | 'md' | 'lg';\r\n\r\n\t/**\r\n\t * Whether tabs take full width\r\n\t * @default false\r\n\t */\r\n\tfullWidth?: boolean;\r\n\r\n\t/**\r\n\t * Custom class name for the container\r\n\t */\r\n\tclassName?: string;\r\n\r\n\t/**\r\n\t * Custom class name for the tab list\r\n\t */\r\n\ttabListClassName?: string;\r\n\r\n\t/**\r\n\t * Custom class name for the tab panel container\r\n\t */\r\n\tpanelClassName?: string;\r\n\r\n\t/**\r\n\t * ARIA label for the tab list\r\n\t */\r\n\tariaLabel?: string;\r\n}\r\n\r\n/**\r\n * Mac OS 9 style Tabs component\r\n * \r\n * Classic tabbed navigation with raised tab appearance and inset panel.\r\n * \r\n * Features:\r\n * - Classic Mac OS 9 tab styling\r\n * - Controlled and uncontrolled modes\r\n * - Keyboard navigation (Arrow keys, Home, End)\r\n * - Full accessibility with ARIA\r\n * - Optional icons in tabs\r\n * - Disabled tab states\r\n * \r\n * @example\r\n * ```tsx\r\n * // Uncontrolled\r\n * <Tabs>\r\n *   <TabPanel label=\"General\">\r\n *     <p>General settings content</p>\r\n *   </TabPanel>\r\n *   <TabPanel label=\"Advanced\">\r\n *     <p>Advanced settings content</p>\r\n *   </TabPanel>\r\n * </Tabs>\r\n * \r\n * // Controlled\r\n * <Tabs activeTab={activeIndex} onChange={setActiveIndex}>\r\n *   <TabPanel label=\"Tab 1\">Content 1</TabPanel>\r\n *   <TabPanel label=\"Tab 2\">Content 2</TabPanel>\r\n * </Tabs>\r\n * ```\r\n */\r\nexport const Tabs: React.FC<TabsProps> = ({\r\n\tchildren,\r\n\tdefaultActiveTab = 0,\r\n\tactiveTab: controlledActiveTab,\r\n\tonChange,\r\n\tsize = 'md',\r\n\tfullWidth = false,\r\n\tclassName = '',\r\n\ttabListClassName = '',\r\n\tpanelClassName = '',\r\n\tariaLabel = 'Tabs',\r\n}) => {\r\n\t// Controlled vs uncontrolled state\r\n\tconst [uncontrolledActiveTab, setUncontrolledActiveTab] = useState(defaultActiveTab);\r\n\tconst isControlled = controlledActiveTab !== undefined;\r\n\tconst activeTabIndex = isControlled ? controlledActiveTab : uncontrolledActiveTab;\r\n\r\n\t// Extract tab information from children\r\n\tconst tabs = Children.toArray(children).filter(\r\n\t\t(child): child is ReactElement<TabPanelProps> => isValidElement(child)\r\n\t);\r\n\r\n\t// Handle tab change\r\n\tconst handleTabChange = useCallback(\r\n\t\t(index: number) => {\r\n\t\t\tconst tab = tabs[index];\r\n\t\t\tif (!tab || tab.props.disabled) return;\r\n\r\n\t\t\tif (!isControlled) {\r\n\t\t\t\tsetUncontrolledActiveTab(index);\r\n\t\t\t}\r\n\t\t\tonChange?.(index, tab.props.value);\r\n\t\t},\r\n\t\t[tabs, isControlled, onChange]\r\n\t);\r\n\r\n\t// Keyboard navigation\r\n\tconst handleKeyDown = useCallback(\r\n\t\t(event: React.KeyboardEvent, currentIndex: number) => {\r\n\t\t\tlet newIndex = currentIndex;\r\n\r\n\t\t\tswitch (event.key) {\r\n\t\t\t\tcase 'ArrowLeft':\r\n\t\t\t\tcase 'ArrowUp':\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\tnewIndex = currentIndex - 1;\r\n\t\t\t\t\tif (newIndex < 0) newIndex = tabs.length - 1;\r\n\t\t\t\t\t// Skip disabled tabs\r\n\t\t\t\t\twhile (tabs[newIndex]?.props.disabled && newIndex !== currentIndex) {\r\n\t\t\t\t\t\tnewIndex--;\r\n\t\t\t\t\t\tif (newIndex < 0) newIndex = tabs.length - 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'ArrowRight':\r\n\t\t\t\tcase 'ArrowDown':\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\tnewIndex = currentIndex + 1;\r\n\t\t\t\t\tif (newIndex >= tabs.length) newIndex = 0;\r\n\t\t\t\t\t// Skip disabled tabs\r\n\t\t\t\t\twhile (tabs[newIndex]?.props.disabled && newIndex !== currentIndex) {\r\n\t\t\t\t\t\tnewIndex++;\r\n\t\t\t\t\t\tif (newIndex >= tabs.length) newIndex = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Home':\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\tnewIndex = 0;\r\n\t\t\t\t\t// Skip disabled tabs\r\n\t\t\t\t\twhile (tabs[newIndex]?.props.disabled && newIndex < tabs.length - 1) {\r\n\t\t\t\t\t\tnewIndex++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'End':\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\tnewIndex = tabs.length - 1;\r\n\t\t\t\t\t// Skip disabled tabs\r\n\t\t\t\t\twhile (tabs[newIndex]?.props.disabled && newIndex > 0) {\r\n\t\t\t\t\t\tnewIndex--;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\thandleTabChange(newIndex);\r\n\t\t},\r\n\t\t[tabs, handleTabChange]\r\n\t);\r\n\r\n\t// Class names\r\n\tconst containerClassNames = [styles.container, className].filter(Boolean).join(' ');\r\n\r\n\tconst tabListClassNames = [\r\n\t\tstyles.tabList,\r\n\t\tstyles[`tabList--${size}`],\r\n\t\tfullWidth && styles['tabList--full-width'],\r\n\t\ttabListClassName,\r\n\t]\r\n\t\t.filter(Boolean)\r\n\t\t.join(' ');\r\n\r\n\tconst panelContainerClassNames = [\r\n\t\tstyles.panelContainer,\r\n\t\tstyles[`panelContainer--${size}`],\r\n\t\tpanelClassName,\r\n\t]\r\n\t\t.filter(Boolean)\r\n\t\t.join(' ');\r\n\r\n\treturn (\r\n\t\t<div className={containerClassNames}>\r\n\t\t\t<div role=\"tablist\" aria-label={ariaLabel} className={tabListClassNames}>\r\n\t\t\t\t{tabs.map((tab, index) => {\r\n\t\t\t\t\tconst isActive = index === activeTabIndex;\r\n\t\t\t\t\tconst isDisabled = tab.props.disabled;\r\n\r\n\t\t\t\t\tconst tabClassNames = [\r\n\t\t\t\t\t\tstyles.tab,\r\n\t\t\t\t\t\tstyles[`tab--${size}`],\r\n\t\t\t\t\t\tisActive && styles['tab--active'],\r\n\t\t\t\t\t\tisDisabled && styles['tab--disabled'],\r\n\t\t\t\t\t\tfullWidth && styles['tab--full-width'],\r\n\t\t\t\t\t]\r\n\t\t\t\t\t\t.filter(Boolean)\r\n\t\t\t\t\t\t.join(' ');\r\n\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\trole=\"tab\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\taria-selected={isActive}\r\n\t\t\t\t\t\t\taria-controls={`panel-${index}`}\r\n\t\t\t\t\t\t\tid={`tab-${index}`}\r\n\t\t\t\t\t\t\ttabIndex={isActive ? 0 : -1}\r\n\t\t\t\t\t\t\tdisabled={isDisabled}\r\n\t\t\t\t\t\t\tclassName={tabClassNames}\r\n\t\t\t\t\t\t\tonClick={() => handleTabChange(index)}\r\n\t\t\t\t\t\t\tonKeyDown={(e) => handleKeyDown(e, index)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{tab.props.icon && <span className={styles.tabIcon}>{tab.props.icon}</span>}\r\n\t\t\t\t\t\t\t{tab.props.label}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\r\n\t\t\t{tabs.map((tab, index) => {\r\n\t\t\t\tconst isActive = index === activeTabIndex;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\trole=\"tabpanel\"\r\n\t\t\t\t\t\tid={`panel-${index}`}\r\n\t\t\t\t\t\taria-labelledby={`tab-${index}`}\r\n\t\t\t\t\t\thidden={!isActive}\r\n\t\t\t\t\t\tclassName={panelContainerClassNames}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{isActive && tab.props.children}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nTabs.displayName = 'Tabs';\r\n\r\nexport default Tabs;\r\n","// Utility for merging CSS class names\r\n// Filters out falsy values and joins valid class names with spaces\r\n\r\n/**\r\n * Merges multiple class names into a single string\r\n * Filters out undefined, null, false, and empty strings\r\n * \r\n * @param classes - Class names to merge\r\n * @returns Merged class name string\r\n * \r\n * @example\r\n * ```ts\r\n * mergeClasses('base', isActive && 'active', undefined, 'custom')\r\n * // Returns: \"base active custom\"\r\n * ```\r\n */\r\nexport const mergeClasses = (...classes: (string | undefined | false | null)[]): string => {\r\n\treturn classes.filter(Boolean).join(' ');\r\n};\r\n\r\n/**\r\n * Creates a class name builder function with a base class\r\n * Useful for component-level class management\r\n * \r\n * @param baseClass - Base class name\r\n * @returns Function that merges additional classes with base\r\n * \r\n * @example\r\n * ```ts\r\n * const cn = createClassBuilder('button');\r\n * cn('primary', isDisabled && 'disabled')\r\n * // Returns: \"button primary disabled\"\r\n * ```\r\n */\r\nexport const createClassBuilder = (baseClass: string) => {\r\n\treturn (...additionalClasses: (string | undefined | false | null)[]) => {\r\n\t\treturn mergeClasses(baseClass, ...additionalClasses);\r\n\t};\r\n};\r\n","// Window component - Mac OS 9 style\r\n// Classic window container with optional title bar\r\n\r\nimport React, { forwardRef, useState, useRef, useEffect, useCallback } from 'react';\r\nimport { mergeClasses } from '../../utils/classNames';\r\nimport { WindowPosition } from '../../types';\r\nimport styles from './Window.module.css';\r\n\r\n/**\r\n * Classes for targeting Window sub-elements\r\n */\r\nexport interface WindowClasses {\r\n\t/** Root container */\r\n\troot?: string;\r\n\t/** Title bar */\r\n\ttitleBar?: string;\r\n\t/** Title text */\r\n\ttitleText?: string;\r\n\t/** Window controls container */\r\n\tcontrols?: string;\r\n\t/** Individual control button */\r\n\tcontrolButton?: string;\r\n\t/** Content area */\r\n\tcontent?: string;\r\n}\r\n\r\nexport interface WindowProps {\r\n\t/**\r\n\t * Window content\r\n\t */\r\n\tchildren: React.ReactNode;\r\n\r\n\t/**\r\n\t * Window title (displays in title bar if no titleBar prop provided)\r\n\t */\r\n\ttitle?: string;\r\n\r\n\t/**\r\n\t * Custom title bar component\r\n\t * If provided, overrides the default title bar\r\n\t */\r\n\ttitleBar?: React.ReactNode;\r\n\r\n\t/**\r\n\t * Whether window is active/focused\r\n\t * @default true\r\n\t */\r\n\tactive?: boolean;\r\n\r\n\t/**\r\n\t * Width of the window\r\n\t * @default 'auto'\r\n\t */\r\n\twidth?: number | string;\r\n\r\n\t/**\r\n\t * Height of the window\r\n\t * @default 'auto'\r\n\t */\r\n\theight?: number | string;\r\n\r\n\t/**\r\n\t * Custom class name for the window container\r\n\t */\r\n\tclassName?: string;\r\n\r\n\t/**\r\n\t * Custom class name for the content area\r\n\t */\r\n\tcontentClassName?: string;\r\n\r\n\t/**\r\n\t * Custom classes for targeting sub-elements\r\n\t */\r\n\tclasses?: WindowClasses;\r\n\r\n\t/**\r\n\t * Whether to show window controls (close, minimize, maximize)\r\n\t * @default true\r\n\t */\r\n\tshowControls?: boolean;\r\n\r\n\t/**\r\n\t * Callback when close button is clicked\r\n\t */\r\n\tonClose?: () => void;\r\n\r\n\t/**\r\n\t * Callback when minimize button is clicked\r\n\t */\r\n\tonMinimize?: () => void;\r\n\r\n\t/**\r\n\t * Callback when maximize button is clicked\r\n\t */\r\n\tonMaximize?: () => void;\r\n\r\n\t/**\r\n\t * Callback when mouse enters the window\r\n\t */\r\n\tonMouseEnter?: (event: React.MouseEvent<HTMLDivElement>) => void;\r\n\r\n\t/**\r\n\t * Whether the window has a resize handle\r\n\t * @default false\r\n\t */\r\n\tresizable?: boolean;\r\n\r\n\t/**\r\n\t * Minimum width when resizing\r\n\t * @default 200\r\n\t */\r\n\tminWidth?: number;\r\n\r\n\t/**\r\n\t * Minimum height when resizing\r\n\t * @default 100\r\n\t */\r\n\tminHeight?: number;\r\n\r\n\t/**\r\n\t * Maximum width when resizing\r\n\t */\r\n\tmaxWidth?: number;\r\n\r\n\t/**\r\n\t * Maximum height when resizing\r\n\t */\r\n\tmaxHeight?: number;\r\n\r\n\t/**\r\n\t * Callback when window is resized\r\n\t * Only called when resizable is true\r\n\t */\r\n\tonResize?: (size: { width: number; height: number }) => void;\r\n\r\n\t/**\r\n\t * Whether the window can be dragged by its title bar\r\n\t * Window starts in normal flow and becomes absolutely positioned when dragged\r\n\t * @default false\r\n\t */\r\n\tdraggable?: boolean;\r\n\r\n\t/**\r\n\t * Initial position for draggable windows (uncontrolled)\r\n\t * Only used when draggable is true\r\n\t */\r\n\tdefaultPosition?: WindowPosition;\r\n\r\n\t/**\r\n\t * Controlled position for draggable windows\r\n\t * Only used when draggable is true\r\n\t */\r\n\tposition?: WindowPosition;\r\n\r\n\t/**\r\n\t * Callback when window position changes (during drag)\r\n\t * Only called when draggable is true\r\n\t */\r\n\tonPositionChange?: (position: WindowPosition) => void;\r\n}\r\n\r\n/**\r\n * Mac OS 9 style Window component\r\n * \r\n * Classic window container with title bar and content area.\r\n * \r\n * Features:\r\n * - Classic Mac OS 9 window styling with beveled edges\r\n * - Optional title bar with window controls\r\n * - Active/inactive states\r\n * - Composable with custom TitleBar component\r\n * - Flexible sizing\r\n * - Draggable windows (optional) - drag by title bar\r\n * \r\n * @example\r\n * ```tsx\r\n * // Simple window with title\r\n * <Window title=\"My Window\">\r\n *   <p>Window content goes here</p>\r\n * </Window>\r\n * \r\n * // Window with custom title bar\r\n * <Window titleBar={<TitleBar title=\"Custom\" />}>\r\n *   <p>Content</p>\r\n * </Window>\r\n * \r\n * // Window with controls and callbacks\r\n * <Window \r\n *   title=\"Document\"\r\n *   onClose={() => console.log('Close')}\r\n *   onMinimize={() => console.log('Minimize')}\r\n * >\r\n *   <p>Content</p>\r\n * </Window>\r\n * \r\n * // Draggable window (uncontrolled)\r\n * <Window title=\"Draggable\" draggable>\r\n *   <p>Drag me by the title bar!</p>\r\n * </Window>\r\n * \r\n * // Draggable window with initial position\r\n * <Window \r\n *   title=\"Positioned\"\r\n *   draggable\r\n *   defaultPosition={{ x: 100, y: 100 }}\r\n * >\r\n *   <p>Starts at a specific position</p>\r\n * </Window>\r\n * \r\n * // Controlled draggable window\r\n * const [pos, setPos] = useState({ x: 0, y: 0 });\r\n * <Window\r\n *   title=\"Controlled\"\r\n *   draggable\r\n *   position={pos}\r\n *   onPositionChange={setPos}\r\n * >\r\n *   <p>Parent controls position</p>\r\n * </Window>\r\n * ```\r\n */\r\nexport const Window = forwardRef<HTMLDivElement, WindowProps>(\r\n\t(\r\n\t\t{\r\n\t\t\tchildren,\r\n\t\t\ttitle,\r\n\t\t\ttitleBar,\r\n\t\t\tactive = true,\r\n\t\t\twidth = 'auto',\r\n\t\t\theight = 'auto',\r\n\t\t\tclassName = '',\r\n\t\t\tcontentClassName = '',\r\n\t\t\tclasses,\r\n\t\t\tshowControls = true,\r\n\t\t\tonClose,\r\n\t\t\tonMinimize,\r\n\t\t\tonMaximize,\r\n\t\t\tonMouseEnter,\r\n\t\t\tresizable = false,\r\n\t\t\tminWidth = 200,\r\n\t\t\tminHeight = 100,\r\n\t\t\tmaxWidth,\r\n\t\t\tmaxHeight,\r\n\t\t\tonResize,\r\n\t\t\tdraggable = false,\r\n\t\t\tdefaultPosition,\r\n\t\t\tposition: controlledPosition,\r\n\t\t\tonPositionChange,\r\n\t\t},\r\n\t\tref\r\n\t) => {\r\n\t\t// Drag state management\r\n\t\tconst [internalPosition, setInternalPosition] = useState<WindowPosition | null>(\r\n\t\t\tdefaultPosition || null\r\n\t\t);\r\n\t\tconst [isDragging, setIsDragging] = useState(false);\r\n\t\tconst [hasBeenDragged, setHasBeenDragged] = useState(\r\n\t\t\t!!(defaultPosition || controlledPosition)\r\n\t\t);\r\n\t\tconst dragStartRef = useRef<{ x: number; y: number } | null>(null);\r\n\r\n\t\t// Resize state management\r\n\t\tconst [internalSize, setInternalSize] = useState<{ width: number | string; height: number | string }>({\r\n\t\t\twidth,\r\n\t\t\theight,\r\n\t\t});\r\n\t\tconst [isResizing, setIsResizing] = useState(false);\r\n\t\tconst resizeStartRef = useRef<{ width: number; height: number; mouseX: number; mouseY: number } | null>(null);\r\n\r\n\t\t// Use controlled position if provided, otherwise use internal state\r\n\t\tconst currentPosition = controlledPosition || internalPosition;\r\n\r\n\t\t// Use internal size state for resize tracking\r\n\t\tconst currentWidth = isResizing ? internalSize.width : width;\r\n\t\tconst currentHeight = isResizing ? internalSize.height : height;\r\n\r\n\t\t// Handle mouse down on title bar to start dragging\r\n\t\tconst handleTitleBarMouseDown = useCallback(\r\n\t\t\t(event: React.MouseEvent<HTMLDivElement>) => {\r\n\t\t\t\tif (!draggable) return;\r\n\r\n\t\t\t\t// Don't start drag if clicking on buttons\r\n\t\t\t\tif ((event.target as HTMLElement).closest('button')) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tevent.preventDefault();\r\n\r\n\t\t\t\tconst windowElement = (event.currentTarget as HTMLElement).closest(\r\n\t\t\t\t\t`.${styles.window}`\r\n\t\t\t\t) as HTMLElement;\r\n\r\n\t\t\t\tif (!windowElement) return;\r\n\r\n\t\t\t\tconst rect = windowElement.getBoundingClientRect();\r\n\t\t\t\t\r\n\t\t\t\t// Get the parent container to calculate position relative to it\r\n\t\t\t\tconst parent = windowElement.offsetParent as HTMLElement;\r\n\t\t\t\tconst parentRect = parent ? parent.getBoundingClientRect() : { left: 0, top: 0 };\r\n\r\n\t\t\t\t// Store drag start info - offset from mouse to window position within parent\r\n\t\t\t\t// This accounts for the parent's coordinate system\r\n\t\t\t\tdragStartRef.current = {\r\n\t\t\t\t\tx: event.clientX - (rect.left - parentRect.left),\r\n\t\t\t\t\ty: event.clientY - (rect.top - parentRect.top),\r\n\t\t\t\t};\r\n\r\n\t\t\t\tsetIsDragging(true);\r\n\t\t\t},\r\n\t\t\t[draggable]\r\n\t\t);\r\n\r\n\t\t// Handle mouse down on resize handle to start resizing\r\n\t\tconst handleResizeMouseDown = useCallback(\r\n\t\t\t(event: React.MouseEvent<HTMLDivElement>) => {\r\n\t\t\t\tif (!resizable) return;\r\n\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tevent.stopPropagation();\r\n\r\n\t\t\t\tconst windowElement = (event.currentTarget as HTMLElement).closest(\r\n\t\t\t\t\t`.${styles.window}`\r\n\t\t\t\t) as HTMLElement;\r\n\r\n\t\t\t\tif (!windowElement) return;\r\n\r\n\t\t\t\tconst rect = windowElement.getBoundingClientRect();\r\n\r\n\t\t\t\t// Store resize start info\r\n\t\t\t\tresizeStartRef.current = {\r\n\t\t\t\t\twidth: rect.width,\r\n\t\t\t\t\theight: rect.height,\r\n\t\t\t\t\tmouseX: event.clientX,\r\n\t\t\t\t\tmouseY: event.clientY,\r\n\t\t\t\t};\r\n\r\n\t\t\t\tsetIsResizing(true);\r\n\t\t\t},\r\n\t\t\t[resizable]\r\n\t\t);\r\n\r\n\t\t// Handle mouse move during resize\r\n\t\tuseEffect(() => {\r\n\t\t\tif (!isResizing || !resizeStartRef.current) return;\r\n\r\n\t\t\tconst handleMouseMove = (event: MouseEvent) => {\r\n\t\t\t\tevent.preventDefault();\r\n\r\n\t\t\t\tif (!resizeStartRef.current) return;\r\n\r\n\t\t\t\t// Calculate delta\r\n\t\t\t\tconst deltaX = event.clientX - resizeStartRef.current.mouseX;\r\n\t\t\t\tconst deltaY = event.clientY - resizeStartRef.current.mouseY;\r\n\r\n\t\t\t\t// Calculate new size\r\n\t\t\t\tlet newWidth = resizeStartRef.current.width + deltaX;\r\n\t\t\t\tlet newHeight = resizeStartRef.current.height + deltaY;\r\n\r\n\t\t\t\t// Apply constraints\r\n\t\t\t\tif (newWidth < minWidth) newWidth = minWidth;\r\n\t\t\t\tif (newHeight < minHeight) newHeight = minHeight;\r\n\t\t\t\tif (maxWidth && newWidth > maxWidth) newWidth = maxWidth;\r\n\t\t\t\tif (maxHeight && newHeight > maxHeight) newHeight = maxHeight;\r\n\r\n\t\t\t\t// Update size\r\n\t\t\t\tsetInternalSize({\r\n\t\t\t\t\twidth: newWidth,\r\n\t\t\t\t\theight: newHeight,\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Call callback if provided\r\n\t\t\t\tif (onResize) {\r\n\t\t\t\t\tonResize({ width: newWidth, height: newHeight });\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tconst handleMouseUp = () => {\r\n\t\t\t\tsetIsResizing(false);\r\n\t\t\t\tresizeStartRef.current = null;\r\n\t\t\t};\r\n\r\n\t\t\tdocument.addEventListener('mousemove', handleMouseMove);\r\n\t\t\tdocument.addEventListener('mouseup', handleMouseUp);\r\n\r\n\t\t\treturn () => {\r\n\t\t\t\tdocument.removeEventListener('mousemove', handleMouseMove);\r\n\t\t\t\tdocument.removeEventListener('mouseup', handleMouseUp);\r\n\t\t\t};\r\n\t\t}, [isResizing, minWidth, minHeight, maxWidth, maxHeight, onResize]);\r\n\r\n\t\t// Handle mouse move during drag\r\n\t\tuseEffect(() => {\r\n\t\t\tif (!isDragging || !dragStartRef.current) return;\r\n\r\n\t\t\tconst handleMouseMove = (event: MouseEvent) => {\r\n\t\t\t\tevent.preventDefault();\r\n\r\n\t\t\t\tif (!dragStartRef.current) return;\r\n\r\n\t\t\t\t// Get the window element to find its parent\r\n\t\t\t\tconst windowElements = document.querySelectorAll(`.${styles.window}`);\r\n\t\t\t\tlet windowElement: HTMLElement | null = null;\r\n\t\t\t\t\r\n\t\t\t\t// Find the dragging window (the one with position absolute or the first one)\r\n\t\t\t\tfor (const el of Array.from(windowElements)) {\r\n\t\t\t\t\tconst htmlEl = el as HTMLElement;\r\n\t\t\t\t\tif (htmlEl.style.position === 'absolute' || windowElements.length === 1) {\r\n\t\t\t\t\t\twindowElement = htmlEl;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!windowElement) return;\r\n\r\n\t\t\t\t// Get parent container to calculate position relative to it\r\n\t\t\t\tconst parent = windowElement.offsetParent as HTMLElement;\r\n\t\t\t\tconst parentRect = parent ? parent.getBoundingClientRect() : { left: 0, top: 0 };\r\n\r\n\t\t\t\tconst newPosition: WindowPosition = {\r\n\t\t\t\t\tx: event.clientX - parentRect.left - dragStartRef.current.x,\r\n\t\t\t\t\ty: event.clientY - parentRect.top - dragStartRef.current.y,\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// Update position\r\n\t\t\t\tif (controlledPosition && onPositionChange) {\r\n\t\t\t\t\tonPositionChange(newPosition);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetInternalPosition(newPosition);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Mark as dragged\r\n\t\t\t\tif (!hasBeenDragged) {\r\n\t\t\t\t\tsetHasBeenDragged(true);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tconst handleMouseUp = () => {\r\n\t\t\t\tsetIsDragging(false);\r\n\t\t\t\tdragStartRef.current = null;\r\n\t\t\t};\r\n\r\n\t\t\tdocument.addEventListener('mousemove', handleMouseMove);\r\n\t\t\tdocument.addEventListener('mouseup', handleMouseUp);\r\n\r\n\t\t\treturn () => {\r\n\t\t\t\tdocument.removeEventListener('mousemove', handleMouseMove);\r\n\t\t\t\tdocument.removeEventListener('mouseup', handleMouseUp);\r\n\t\t\t};\r\n\t\t}, [isDragging, controlledPosition, onPositionChange, hasBeenDragged]);\r\n\r\n\t\t// Class names\r\n\t\tconst windowClassNames = mergeClasses(\r\n\t\t\tstyles.window,\r\n\t\t\tactive ? styles['window--active'] : styles['window--inactive'],\r\n\t\t\tdraggable && hasBeenDragged && styles['window--draggable'],\r\n\t\t\tclassName,\r\n\t\t\tclasses?.root\r\n\t\t);\r\n\r\n\t\tconst contentClassNames = mergeClasses(styles.content, contentClassName, classes?.content);\r\n\r\n\t\tconst titleBarClassNames = mergeClasses(\r\n\t\t\tstyles.titleBar,\r\n\t\t\tdraggable && styles['titleBar--draggable'],\r\n\t\t\tisDragging && styles['titleBar--dragging'],\r\n\t\t\tclasses?.titleBar\r\n\t\t);\r\n\r\n\t\t// Window style\r\n\t\tconst windowStyle: React.CSSProperties = {};\r\n\t\t\r\n\t\t// Apply width - use currentWidth during resize, otherwise use prop\r\n\t\tif (currentWidth !== 'auto') {\r\n\t\t\twindowStyle.width = typeof currentWidth === 'number' ? `${currentWidth}px` : currentWidth;\r\n\t\t}\r\n\t\t\r\n\t\t// Apply height - use currentHeight during resize, otherwise use prop\r\n\t\tif (currentHeight !== 'auto') {\r\n\t\t\twindowStyle.height = typeof currentHeight === 'number' ? `${currentHeight}px` : currentHeight;\r\n\t\t}\r\n\r\n\t\t// Apply position if draggable and has been dragged\r\n\t\tif (draggable && hasBeenDragged && currentPosition) {\r\n\t\t\twindowStyle.position = 'absolute';\r\n\t\t\twindowStyle.left = `${currentPosition.x}px`;\r\n\t\t\twindowStyle.top = `${currentPosition.y}px`;\r\n\t\t}\r\n\r\n\t\t// Render title bar if title provided and no custom titleBar\r\n\t\tconst renderTitleBar = () => {\r\n\t\t\tif (titleBar) {\r\n\t\t\t\treturn titleBar;\r\n\t\t\t}\r\n\r\n\t\t\tif (title) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div \r\n\t\t\t\t\t\tclassName={titleBarClassNames} \r\n\t\t\t\t\t\tdata-numControls={[onClose, onMinimize, onMaximize].filter(Boolean).length}\r\n\t\t\t\t\t\tonMouseDown={handleTitleBarMouseDown}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{showControls && (\r\n\t\t\t\t\t\t\t<div className={mergeClasses(styles.controls, classes?.controls)}>\r\n\t\t\t\t\t\t\t\t{onClose && (\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\tclassName={mergeClasses(styles.controlButton, classes?.controlButton)}\r\n\t\t\t\t\t\t\t\t\tonClick={onClose}\r\n\t\t\t\t\t\t\t\t\taria-label=\"Close\"\r\n\t\t\t\t\t\t\t\t\ttitle=\"Close\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<div className={styles.closeBox} />\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{onMinimize && (\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\tclassName={mergeClasses(styles.controlButton, classes?.controlButton)}\r\n\t\t\t\t\t\t\t\t\t\tonClick={onMinimize}\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"Minimize\"\r\n\t\t\t\t\t\t\t\t\t\ttitle=\"Minimize\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<div className={styles.minimizeBox} />\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{onMaximize && (\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\tclassName={mergeClasses(styles.controlButton, classes?.controlButton)}\r\n\t\t\t\t\t\t\t\t\t\tonClick={onMaximize}\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"Maximize\"\r\n\t\t\t\t\t\t\t\t\t\ttitle=\"Maximize\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<div className={styles.maximizeBox} />\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<div className={styles.titleCenter}>\r\n\t\t\t\t\t\t<svg width=\"132\" height=\"13\" viewBox=\"0 0 132 13\" fill=\"none\" preserveAspectRatio=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t\t\t\t<rect width=\"130.517\" height=\"13\" fill=\"#DDDDDD\"/>\r\n\t\t\t\t\t\t\t<rect width=\"1\" height=\"13\" fill=\"#EEEEEE\"/>\r\n\t\t\t\t\t\t\t<rect x=\"130\" width=\"1\" height=\"13\" fill=\"#C5C5C5\"/>\r\n\t\t\t\t\t\t\t<rect y=\"1\" width=\"131.268\" height=\"1\" fill=\"#999999\"/>\r\n\t\t\t\t\t\t\t<rect y=\"5\" width=\"131.268\" height=\"1\" fill=\"#999999\"/>\r\n\t\t\t\t\t\t\t<rect y=\"9\" width=\"131.268\" height=\"1\" fill=\"#999999\"/>\r\n\t\t\t\t\t\t\t<rect y=\"3\" width=\"131.268\" height=\"1\" fill=\"#999999\"/>\r\n\t\t\t\t\t\t\t<rect y=\"7\" width=\"131.268\" height=\"1\" fill=\"#999999\"/>\r\n\t\t\t\t\t\t\t<rect y=\"11\" width=\"131.268\" height=\"1\" fill=\"#999999\"/>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t<div className={mergeClasses(styles.titleText, classes?.titleText, 'bold')}>{title}</div>\r\n\t\t\t\t\t\t\t<svg width=\"132\" height=\"13\" viewBox=\"0 0 132 13\" fill=\"none\" preserveAspectRatio=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t\t\t\t\t<rect width=\"130.517\" height=\"13\" fill=\"#DDDDDD\"/>\r\n\t\t\t\t\t\t\t\t<rect width=\"1\" height=\"13\" fill=\"#EEEEEE\"/>\r\n\t\t\t\t\t\t\t\t<rect x=\"130\" width=\"1\" height=\"13\" fill=\"#C5C5C5\"/>\r\n\t\t\t\t\t\t\t\t<rect y=\"1\" width=\"131.268\" height=\"1\" fill=\"#999999\"/>\r\n\t\t\t\t\t\t\t\t<rect y=\"5\" width=\"131.268\" height=\"1\" fill=\"#999999\"/>\r\n\t\t\t\t\t\t\t\t<rect y=\"9\" width=\"131.268\" height=\"1\" fill=\"#999999\"/>\r\n\t\t\t\t\t\t\t\t<rect y=\"3\" width=\"131.268\" height=\"1\" fill=\"#999999\"/>\r\n\t\t\t\t\t\t\t\t<rect y=\"7\" width=\"131.268\" height=\"1\" fill=\"#999999\"/>\r\n\t\t\t\t\t\t\t\t<rect y=\"11\" width=\"131.268\" height=\"1\" fill=\"#999999\"/>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\treturn null;\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<div \r\n\t\t\t\tref={ref} \r\n\t\t\t\tclassName={windowClassNames} \r\n\t\t\t\tstyle={windowStyle}\r\n\t\t\t\tonMouseEnter={onMouseEnter}\r\n\t\t\t>\r\n\t\t\t\t{renderTitleBar()}\r\n\t\t\t\t<div className={contentClassNames}>{children}</div>\r\n\t\t\t\t{resizable && (\r\n\t\t\t\t\t<div \r\n\t\t\t\t\t\tclassName={styles.resizeHandle} \r\n\t\t\t\t\t\tonMouseDown={handleResizeMouseDown}\r\n\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n);\r\n\r\nWindow.displayName = 'Window';\r\n\r\nexport default Window;\r\n","// Dialog component - Mac OS 9 style\r\n// Modal dialog with backdrop and focus trapping\r\n\r\nimport React, { forwardRef, useEffect, useRef, useCallback } from 'react';\r\nimport { Window, type WindowProps } from '../Window/Window';\r\nimport styles from './Dialog.module.css';\r\n\r\nexport interface DialogProps extends Omit<WindowProps, 'active'> {\r\n\t/**\r\n\t * Whether the dialog is open\r\n\t * @default false\r\n\t */\r\n\topen?: boolean;\r\n\r\n\t/**\r\n\t * Callback when dialog should close\r\n\t * Called when backdrop is clicked or Escape is pressed\r\n\t */\r\n\tonClose?: () => void;\r\n\r\n\t/**\r\n\t * Whether clicking the backdrop closes the dialog\r\n\t * @default true\r\n\t */\r\n\tcloseOnBackdropClick?: boolean;\r\n\r\n\t/**\r\n\t * Whether pressing Escape closes the dialog\r\n\t * @default true\r\n\t */\r\n\tcloseOnEscape?: boolean;\r\n\r\n\t/**\r\n\t * Custom backdrop className\r\n\t */\r\n\tbackdropClassName?: string;\r\n\r\n\t/**\r\n\t * Whether to trap focus within the dialog\r\n\t * @default true\r\n\t */\r\n\ttrapFocus?: boolean;\r\n\r\n\t/**\r\n\t * Initial focus element selector or ref\r\n\t */\r\n\tinitialFocus?: string | React.RefObject<HTMLElement>;\r\n}\r\n\r\n/**\r\n * Mac OS 9 style Dialog component\r\n * \r\n * Modal dialog with backdrop, focus trapping, and keyboard handling.\r\n * Built on top of the Window component.\r\n * \r\n * Features:\r\n * - Classic Mac OS 9 dialog styling\r\n * - Modal backdrop with click-to-close\r\n * - Escape key to close\r\n * - Focus trapping within dialog\r\n * - Centered on screen\r\n * - Prevents body scroll when open\r\n * \r\n * @example\r\n * ```tsx\r\n * const [open, setOpen] = useState(false);\r\n * \r\n * <Dialog\r\n *   open={open}\r\n *   onClose={() => setOpen(false)}\r\n *   title=\"Confirm\"\r\n *   width={350}\r\n * >\r\n *   <p>Are you sure?</p>\r\n *   <div>\r\n *     <Button onClick={() => setOpen(false)}>Cancel</Button>\r\n *     <Button variant=\"primary\">OK</Button>\r\n *   </div>\r\n * </Dialog>\r\n * ```\r\n */\r\nexport const Dialog = forwardRef<HTMLDivElement, DialogProps>(\r\n\t(\r\n\t\t{\r\n\t\t\topen = false,\r\n\t\t\tonClose,\r\n\t\t\tcloseOnBackdropClick = true,\r\n\t\t\tcloseOnEscape = true,\r\n\t\t\tbackdropClassName = '',\r\n\t\t\ttrapFocus = true,\r\n\t\t\tinitialFocus,\r\n\t\t\tchildren,\r\n\t\t\t...windowProps\r\n\t\t},\r\n\t\tref\r\n\t) => {\r\n\t\tconst dialogRef = useRef<HTMLDivElement>(null);\r\n\t\tconst previousActiveElement = useRef<HTMLElement | null>(null);\r\n\r\n\t\t// Handle Escape key\r\n\t\tuseEffect(() => {\r\n\t\t\tif (!open || !closeOnEscape) return;\r\n\r\n\t\t\tconst handleEscape = (event: KeyboardEvent) => {\r\n\t\t\t\tif (event.key === 'Escape') {\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\tonClose?.();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tdocument.addEventListener('keydown', handleEscape);\r\n\t\t\treturn () => document.removeEventListener('keydown', handleEscape);\r\n\t\t}, [open, closeOnEscape, onClose]);\r\n\r\n\t\t// Store previous active element and restore on close\r\n\t\tuseEffect(() => {\r\n\t\t\tif (open) {\r\n\t\t\t\tpreviousActiveElement.current = document.activeElement as HTMLElement;\r\n\t\t\t} else if (previousActiveElement.current) {\r\n\t\t\t\tpreviousActiveElement.current.focus();\r\n\t\t\t}\r\n\t\t}, [open]);\r\n\r\n\t\t// Set initial focus\r\n\t\tuseEffect(() => {\r\n\t\t\tif (!open || !initialFocus) return;\r\n\r\n\t\t\tconst focusElement = () => {\r\n\t\t\t\tif (typeof initialFocus === 'string') {\r\n\t\t\t\t\tconst element = dialogRef.current?.querySelector(initialFocus) as HTMLElement;\r\n\t\t\t\t\telement?.focus();\r\n\t\t\t\t} else if (initialFocus.current) {\r\n\t\t\t\t\tinitialFocus.current.focus();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\t// Small delay to ensure dialog is rendered\r\n\t\t\tsetTimeout(focusElement, 10);\r\n\t\t}, [open, initialFocus]);\r\n\r\n\t\t// Focus trapping\r\n\t\tuseEffect(() => {\r\n\t\t\tif (!open || !trapFocus) return;\r\n\r\n\t\t\tconst handleTabKey = (event: KeyboardEvent) => {\r\n\t\t\t\tif (event.key !== 'Tab' || !dialogRef.current) return;\r\n\r\n\t\t\t\tconst focusableElements = dialogRef.current.querySelectorAll(\r\n\t\t\t\t\t'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\r\n\t\t\t\t);\r\n\r\n\t\t\t\tconst firstElement = focusableElements[0] as HTMLElement;\r\n\t\t\t\tconst lastElement = focusableElements[focusableElements.length - 1] as HTMLElement;\r\n\r\n\t\t\t\tif (event.shiftKey) {\r\n\t\t\t\t\t// Shift + Tab\r\n\t\t\t\t\tif (document.activeElement === firstElement) {\r\n\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\tlastElement?.focus();\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Tab\r\n\t\t\t\t\tif (document.activeElement === lastElement) {\r\n\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\tfirstElement?.focus();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tdocument.addEventListener('keydown', handleTabKey);\r\n\t\t\treturn () => document.removeEventListener('keydown', handleTabKey);\r\n\t\t}, [open, trapFocus]);\r\n\r\n\t\t// Prevent body scroll when dialog is open\r\n\t\tuseEffect(() => {\r\n\t\t\tif (open) {\r\n\t\t\t\tdocument.body.style.overflow = 'hidden';\r\n\t\t\t} else {\r\n\t\t\t\tdocument.body.style.overflow = '';\r\n\t\t\t}\r\n\r\n\t\t\treturn () => {\r\n\t\t\t\tdocument.body.style.overflow = '';\r\n\t\t\t};\r\n\t\t}, [open]);\r\n\r\n\t\t// Handle backdrop click\r\n\t\tconst handleBackdropClick = useCallback(\r\n\t\t\t(event: React.MouseEvent<HTMLDivElement>) => {\r\n\t\t\t\tif (closeOnBackdropClick && event.target === event.currentTarget) {\r\n\t\t\t\t\tonClose?.();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t[closeOnBackdropClick, onClose]\r\n\t\t);\r\n\r\n\t\tif (!open) return null;\r\n\r\n\t\tconst backdropClassNames = [styles.backdrop, backdropClassName].filter(Boolean).join(' ');\r\n\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tclassName={backdropClassNames}\r\n\t\t\t\tonClick={handleBackdropClick}\r\n\t\t\t\trole=\"presentation\"\r\n\t\t\t\taria-modal=\"true\"\r\n\t\t\t>\r\n\t\t\t\t<div className={styles.dialogContainer} ref={dialogRef} role=\"dialog\" aria-modal=\"true\">\r\n\t\t\t\t\t<Window {...windowProps} ref={ref} active={true} onClose={onClose}>\r\n\t\t\t\t\t\t{children}\r\n\t\t\t\t\t</Window>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n);\r\n\r\nDialog.displayName = 'Dialog';\r\n\r\nexport default Dialog;\r\n","// MenuBar component - Mac OS 9 style\r\n// Horizontal menu bar with dropdown menus, logo support, and status area\r\n\r\nimport React, { forwardRef, useRef, useState, useEffect, useCallback } from 'react';\r\nimport styles from './MenuBar.module.css';\r\n\r\nexport interface Menu {\r\n\t/**\r\n\t * Menu label (displayed in the menu bar)\r\n\t */\r\n\tlabel: string;\r\n\r\n\t/**\r\n\t * Menu type - determines behavior\r\n\t * @default 'dropdown'\r\n\t */\r\n\ttype?: 'dropdown' | 'link';\r\n\r\n\t/**\r\n\t * Menu items (content of the dropdown)\r\n\t * Required when type is 'dropdown'\r\n\t */\r\n\titems?: React.ReactNode;\r\n\r\n\t/**\r\n\t * Link href (for link-type menus)\r\n\t * Used when type is 'link'\r\n\t */\r\n\thref?: string;\r\n\r\n\t/**\r\n\t * Click handler (for link-type menus)\r\n\t * Used when type is 'link'\r\n\t */\r\n\tonClick?: () => void;\r\n\r\n\t/**\r\n\t * Whether the menu is disabled\r\n\t * @default false\r\n\t */\r\n\tdisabled?: boolean;\r\n}\r\n\r\nexport interface MenuBarProps {\r\n\t/**\r\n\t * Array of menus to display\r\n\t */\r\n\tmenus: Menu[];\r\n\r\n\t/**\r\n\t * Index of the currently open menu (controlled)\r\n\t */\r\n\topenMenuIndex?: number;\r\n\r\n\t/**\r\n\t * Callback when a menu is opened\r\n\t */\r\n\tonMenuOpen?: (index: number) => void;\r\n\r\n\t/**\r\n\t * Callback when menus are closed\r\n\t */\r\n\tonMenuClose?: () => void;\r\n\r\n\t/**\r\n\t * Custom class name for the menu bar\r\n\t */\r\n\tclassName?: string;\r\n\r\n\t/**\r\n\t * Custom class name for menu dropdowns\r\n\t */\r\n\tdropdownClassName?: string;\r\n\r\n\t/**\r\n\t * Content to display on the left side (typically a logo)\r\n\t */\r\n\tleftContent?: React.ReactNode;\r\n\r\n\t/**\r\n\t * Content to display on the right side (status items, clock, etc.)\r\n\t * Can be a single element or array of elements\r\n\t */\r\n\trightContent?: React.ReactNode | React.ReactNode[];\r\n}\r\n\r\n/**\r\n * Mac OS 9 style MenuBar component\r\n * \r\n * Horizontal menu bar with dropdown menus, logo support, and status area.\r\n * \r\n * Features:\r\n * - Classic Mac OS 9 menu bar styling\r\n * - Horizontal menu layout\r\n * - Dropdown menus on click\r\n * - Link-type menu items for navigation\r\n * - Logo/icon support on the left\r\n * - Status area on the right (clock, system indicators, etc.)\r\n * - Keyboard navigation (Left/Right for menus, Up/Down for items)\r\n * - Click outside to close\r\n * - Escape key to close\r\n * - Controlled state (consumers manage open/closed)\r\n * - Disabled menu support\r\n * \r\n * @example\r\n * ```tsx\r\n * const [openMenu, setOpenMenu] = useState<number | undefined>();\r\n * \r\n * <MenuBar\r\n *   leftContent={<img src=\"/logo.png\" alt=\"Logo\" width={16} height={16} />}\r\n *   openMenuIndex={openMenu}\r\n *   onMenuOpen={setOpenMenu}\r\n *   onMenuClose={() => setOpenMenu(undefined)}\r\n *   menus={[\r\n *     {\r\n *       label: 'File',\r\n *       type: 'dropdown',\r\n *       items: (\r\n *         <>\r\n *           <MenuItem label=\"Open...\" shortcut=\"‚åòO\" onClick={() => {}} />\r\n *           <MenuItem label=\"Save\" shortcut=\"‚åòS\" onClick={() => {}} />\r\n *         </>\r\n *       ),\r\n *     },\r\n *     {\r\n *       label: 'Home',\r\n *       type: 'link',\r\n *       href: '/',\r\n *     },\r\n *   ]}\r\n *   rightContent={[\r\n *     <Clock key=\"clock\" />,\r\n *     <div key=\"divider\" className={styles.divider} />,\r\n *     <SystemIndicator key=\"indicator\" />,\r\n *   ]}\r\n * />\r\n * ```\r\n */\r\nexport const MenuBar = forwardRef<HTMLDivElement, MenuBarProps>(\r\n\t({\r\n\t\tmenus,\r\n\t\topenMenuIndex,\r\n\t\tonMenuOpen,\r\n\t\tonMenuClose,\r\n\t\tclassName = '',\r\n\t\tdropdownClassName = '',\r\n\t\tleftContent,\r\n\t\trightContent,\r\n\t}, ref) => {\r\n\t\tconst [menuBarElement, setMenuBarElement] = useState<HTMLDivElement | null>(null);\r\n\t\tconst [focusedIndex, setFocusedIndex] = useState<number>(-1);\r\n\t\tconst [internalOpenIndex, setInternalOpenIndex] = useState<number | undefined>(undefined);\r\n\r\n\t\tconst isControlled = openMenuIndex !== undefined;\r\n\t\tconst activeOpenIndex = isControlled ? openMenuIndex : internalOpenIndex;\r\n\r\n\t\tconst handleMenuOpenInternal = (index: number) => {\r\n\t\t\tif (!isControlled) {\r\n\t\t\t\tsetInternalOpenIndex(index);\r\n\t\t\t}\r\n\t\t\tonMenuOpen?.(index);\r\n\t\t};\r\n\r\n\t\tconst handleMenuCloseInternal = () => {\r\n\t\t\tif (!isControlled) {\r\n\t\t\t\tsetInternalOpenIndex(undefined);\r\n\t\t\t}\r\n\t\t\tonMenuClose?.();\r\n\t\t};\r\n\r\n\t\t// Handle click outside to close menu\r\n\t\tuseEffect(() => {\r\n\t\t\tif (activeOpenIndex === undefined || !menuBarElement) return;\r\n\r\n\t\t\tconst handleClickOutside = (event: MouseEvent) => {\r\n\t\t\t\tif (menuBarElement && !menuBarElement.contains(event.target as Node)) {\r\n\t\t\t\t\thandleMenuCloseInternal();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tdocument.addEventListener('mousedown', handleClickOutside);\r\n\t\t\treturn () => document.removeEventListener('mousedown', handleClickOutside);\r\n\t\t}, [activeOpenIndex, onMenuClose, menuBarElement, isControlled]);\r\n\r\n\t\t// Handle Escape key to close menu\r\n\t\tuseEffect(() => {\r\n\t\t\tif (activeOpenIndex === undefined) return;\r\n\r\n\t\t\tconst handleEscape = (event: KeyboardEvent) => {\r\n\t\t\t\tif (event.key === 'Escape') {\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\thandleMenuCloseInternal();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tdocument.addEventListener('keydown', handleEscape);\r\n\t\t\treturn () => document.removeEventListener('keydown', handleEscape);\r\n\t\t}, [activeOpenIndex, onMenuClose, isControlled]);\r\n\r\n\t\t// Handle keyboard navigation\r\n\t\tconst handleKeyDown = useCallback(\r\n\t\t\t(event: React.KeyboardEvent) => {\r\n\t\t\t\tswitch (event.key) {\r\n\t\t\t\t\tcase 'ArrowLeft':\r\n\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\tif (activeOpenIndex !== undefined) {\r\n\t\t\t\t\t\t\t// Move to previous menu\r\n\t\t\t\t\t\t\tconst prevIndex = activeOpenIndex > 0 ? activeOpenIndex - 1 : menus.length - 1;\r\n\t\t\t\t\t\t\tif (!menus[prevIndex]?.disabled) {\r\n\t\t\t\t\t\t\t\thandleMenuOpenInternal(prevIndex);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else if (focusedIndex > 0) {\r\n\t\t\t\t\t\t\tsetFocusedIndex(focusedIndex - 1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'ArrowRight':\r\n\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\tif (activeOpenIndex !== undefined) {\r\n\t\t\t\t\t\t\t// Move to next menu\r\n\t\t\t\t\t\t\tconst nextIndex = activeOpenIndex < menus.length - 1 ? activeOpenIndex + 1 : 0;\r\n\t\t\t\t\t\t\tif (!menus[nextIndex]?.disabled) {\r\n\t\t\t\t\t\t\t\thandleMenuOpenInternal(nextIndex);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else if (focusedIndex < menus.length - 1) {\r\n\t\t\t\t\t\t\tsetFocusedIndex(focusedIndex + 1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'ArrowDown':\r\n\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\tif (activeOpenIndex === undefined && focusedIndex >= 0) {\r\n\t\t\t\t\t\t\t// Open the focused menu (only if it's a dropdown)\r\n\t\t\t\t\t\t\tconst menu = menus[focusedIndex];\r\n\t\t\t\t\t\t\tif (!menu?.disabled && menu?.type !== 'link') {\r\n\t\t\t\t\t\t\t\thandleMenuOpenInternal(focusedIndex);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'Enter':\r\n\t\t\t\t\tcase ' ':\r\n\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\tif (activeOpenIndex === undefined && focusedIndex >= 0) {\r\n\t\t\t\t\t\t\tconst menu = menus[focusedIndex];\r\n\t\t\t\t\t\t\tif (!menu?.disabled) {\r\n\t\t\t\t\t\t\t\tif (menu.type === 'link') {\r\n\t\t\t\t\t\t\t\t\t// Trigger click handler for link-type menu\r\n\t\t\t\t\t\t\t\t\tmenu.onClick?.();\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t// Open the focused dropdown menu\r\n\t\t\t\t\t\t\t\t\thandleMenuOpenInternal(focusedIndex);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t[activeOpenIndex, focusedIndex, menus, onMenuOpen, onMenuClose, isControlled]\r\n\t\t);\r\n\r\n\t\t// Handle menu button click\r\n\t\tconst handleMenuClick = (index: number) => {\r\n\t\t\tconst menu = menus[index];\r\n\t\t\tif (menu?.disabled) return;\r\n\r\n\t\t\tif (menu.type === 'link') {\r\n\t\t\t\t// For link-type menus, trigger the onClick handler\r\n\t\t\t\tmenu.onClick?.();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (activeOpenIndex === index) {\r\n\t\t\t\t// Clicking the same menu closes it\r\n\t\t\t\thandleMenuCloseInternal();\r\n\t\t\t} else {\r\n\t\t\t\t// Open the clicked menu\r\n\t\t\t\thandleMenuOpenInternal(index);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// Class names\r\n\t\tconst menuBarClassNames = [styles.menuBar, className].filter(Boolean).join(' ');\r\n\r\n\t\tconst dropdownClassNames = [styles.dropdown, dropdownClassName].filter(Boolean).join(' ');\r\n\r\n\t\t// Callback ref to handle both internal state and forwarded ref\r\n\t\tconst handleRef = useCallback(\r\n\t\t\t(node: HTMLDivElement | null) => {\r\n\t\t\t\tsetMenuBarElement(node);\r\n\t\t\t\tif (typeof ref === 'function') {\r\n\t\t\t\t\tref(node);\r\n\t\t\t\t} else if (ref) {\r\n\t\t\t\t\tref.current = node;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t[ref]\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<div ref={handleRef} className={menuBarClassNames} role=\"menubar\" onKeyDown={handleKeyDown}>\r\n\t\t\t\t{/* Left content (logo) */}\r\n\t\t\t\t{leftContent && (\r\n\t\t\t\t\t<div className={styles.leftContent}>\r\n\t\t\t\t\t\t{leftContent}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{/* Menu items */}\r\n\t\t\t\t<div className={styles.menusContainer}>\r\n\t\t\t\t\t{menus.map((menu, index) => {\r\n\t\t\t\t\t\tconst isOpen = activeOpenIndex === index;\r\n\t\t\t\t\t\tconst isFocused = focusedIndex === index;\r\n\t\t\t\t\t\tconst isDropdown = menu.type !== 'link';\r\n\r\n\t\t\t\t\t\tconst menuButtonClassNames = [\r\n\t\t\t\t\t\t\tstyles.menuButton,\r\n\t\t\t\t\t\t\tisOpen ? styles['menuButton--open'] : '',\r\n\t\t\t\t\t\t\tmenu.disabled ? styles['menuButton--disabled'] : '',\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t.filter(Boolean)\r\n\t\t\t\t\t\t\t.join(' ');\r\n\r\n\t\t\t\t\t\t// For link-type menus, render as anchor if href is provided\r\n\t\t\t\t\t\tif (menu.type === 'link' && menu.href) {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div key={index} className={styles.menuContainer}>\r\n\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\thref={menu.href}\r\n\t\t\t\t\t\t\t\t\t\tclassName={menuButtonClassNames}\r\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (menu.onClick) {\r\n\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\t\tmenu.onClick();\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tonFocus={() => setFocusedIndex(index)}\r\n\t\t\t\t\t\t\t\t\t\tonBlur={() => setFocusedIndex(-1)}\r\n\t\t\t\t\t\t\t\t\t\taria-disabled={menu.disabled}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t\t\t\t\t\t{menu.label}\r\n\t\t\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Standard dropdown menu or link without href\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={index} className={styles.menuContainer}>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\tclassName={menuButtonClassNames}\r\n\t\t\t\t\t\t\t\t\tonClick={() => handleMenuClick(index)}\r\n\t\t\t\t\t\t\t\t\tonFocus={() => setFocusedIndex(index)}\r\n\t\t\t\t\t\t\t\t\tonBlur={() => setFocusedIndex(-1)}\r\n\t\t\t\t\t\t\t\t\tdisabled={menu.disabled}\r\n\t\t\t\t\t\t\t\t\taria-haspopup={isDropdown ? 'true' : undefined}\r\n\t\t\t\t\t\t\t\t\taria-expanded={isOpen}\r\n\t\t\t\t\t\t\t\t\taria-disabled={menu.disabled}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t\t\t\t\t{menu.label}\r\n\t\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t\t{isOpen && isDropdown && menu.items && (\r\n\t\t\t\t\t\t\t\t\t<div className={dropdownClassNames} role=\"menu\">\r\n\t\t\t\t\t\t\t\t\t\t{menu.items}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/* Right content (status area) */}\r\n\t\t\t\t{rightContent && (\r\n\t\t\t\t\t<div className={styles.rightContent}>\r\n\t\t\t\t\t\t{Array.isArray(rightContent)\r\n\t\t\t\t\t\t\t? rightContent.map((item, index) => (\r\n\t\t\t\t\t\t\t\t<React.Fragment key={index}>{item}</React.Fragment>\r\n\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t: rightContent\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n);\r\n\r\nMenuBar.displayName = 'MenuBar';\r\n\r\nexport default MenuBar;","// MenuItem component - Mac OS 9 style\r\n// Individual menu item for use within MenuBar\r\n\r\nimport React, { forwardRef, useState } from 'react';\r\nimport styles from './MenuItem.module.css';\r\n\r\nexport interface MenuItemProps {\r\n\t/**\r\n\t * Menu item label text\r\n\t */\r\n\tlabel: string;\r\n\r\n\t/**\r\n\t * Optional keyboard shortcut to display (e.g., \"‚åòS\", \"Ctrl+O\")\r\n\t */\r\n\tshortcut?: string;\r\n\r\n\t/**\r\n\t * Whether the menu item is disabled\r\n\t * @default false\r\n\t */\r\n\tdisabled?: boolean;\r\n\r\n\t/**\r\n\t * Whether the menu item is selected/active\r\n\t * @default false\r\n\t */\r\n\tselected?: boolean;\r\n\r\n\t/**\r\n\t * Whether the menu item has a separator after it\r\n\t * @default false\r\n\t */\r\n\tseparator?: boolean;\r\n\r\n\t/**\r\n\t * Whether the menu item has a checkmark (for toggle items)\r\n\t * @default false\r\n\t */\r\n\tchecked?: boolean;\r\n\r\n\t/**\r\n\t * Optional icon to display before the label\r\n\t */\r\n\ticon?: React.ReactNode;\r\n\r\n\t/**\r\n\t * Callback when menu item is clicked\r\n\t */\r\n\tonClick?: (event: React.MouseEvent<HTMLButtonElement>) => void;\r\n\r\n\t/**\r\n\t * Callback when menu item is focused\r\n\t */\r\n\tonFocus?: (event: React.FocusEvent<HTMLButtonElement>) => void;\r\n\r\n\t/**\r\n\t * Callback when menu item loses focus\r\n\t */\r\n\tonBlur?: (event: React.FocusEvent<HTMLButtonElement>) => void;\r\n\r\n\t/**\r\n\t * Custom class name for the menu item\r\n\t */\r\n\tclassName?: string;\r\n\r\n\t/**\r\n\t * Whether the item has a submenu indicator (arrow)\r\n\t * @default false\r\n\t */\r\n\thasSubmenu?: boolean;\r\n\r\n\t/**\r\n\t * Submenu items\r\n\t */\r\n\titems?: React.ReactNode;\r\n}\r\n\r\n/**\r\n * Mac OS 9 style MenuItem component\r\n * \r\n * Individual menu item for use within MenuBar or dropdown menus.\r\n * \r\n * Features:\r\n * - Classic Mac OS 9 menu item styling\r\n * - Disabled state support\r\n * - Keyboard shortcut display\r\n * - Checkmark support for toggle items\r\n * - Separator support\r\n * - Selected/active state\r\n * - Icon support\r\n * - Submenu indicator\r\n * - Full keyboard and mouse support\r\n * \r\n * @example\r\n * ```tsx\r\n * // Basic menu item\r\n * <MenuItem label=\"Open...\" onClick={() => console.log('Open')} />\r\n * \r\n * // With keyboard shortcut\r\n * <MenuItem label=\"Save\" shortcut=\"‚åòS\" onClick={() => console.log('Save')} />\r\n * \r\n * // Disabled item\r\n * <MenuItem label=\"Undo\" disabled />\r\n * \r\n * // Checked item (toggle)\r\n * <MenuItem label=\"Show Grid\" checked onClick={() => console.log('Toggle')} />\r\n * \r\n * // With separator\r\n * <MenuItem label=\"Preferences...\" separator onClick={() => console.log('Prefs')} />\r\n * \r\n * // With submenu indicator\r\n * <MenuItem label=\"Recent Files\" hasSubmenu />\r\n * ```\r\n */\r\nexport const MenuItem = forwardRef<HTMLButtonElement, MenuItemProps>(\r\n\t(\r\n\t\t{\r\n\t\t\tlabel,\r\n\t\t\tshortcut,\r\n\t\t\tdisabled = false,\r\n\t\t\tselected = false,\r\n\t\t\tseparator = false,\r\n\t\t\tchecked = false,\r\n\t\t\ticon,\r\n\t\t\tonClick,\r\n\t\t\tonFocus,\r\n\t\t\tonBlur,\r\n\t\t\tclassName = '',\r\n\t\t\thasSubmenu = false,\r\n\t\t\titems,\r\n\t\t},\r\n\t\tref\r\n\t) => {\r\n\t\tconst [isSubmenuOpen, setIsSubmenuOpen] = useState(false);\r\n\t\tconst effectiveHasSubmenu = hasSubmenu || !!items;\r\n\r\n\t\t// Class names\r\n\t\tconst menuItemClassNames = [\r\n\t\t\tstyles.menuItem,\r\n\t\t\tselected ? styles['menuItem--selected'] : '',\r\n\t\t\tdisabled ? styles['menuItem--disabled'] : '',\r\n\t\t\tseparator ? styles['menuItem--separator'] : '',\r\n\t\t\tclassName,\r\n\t\t]\r\n\t\t\t.filter(Boolean)\r\n\t\t\t.join(' ');\r\n\r\n\t\t// Handle click\r\n\t\tconst handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n\t\t\tif (disabled) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tonClick?.(event);\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tclassName={styles.menuItemContainer}\r\n\t\t\t\tonMouseEnter={() => setIsSubmenuOpen(true)}\r\n\t\t\t\tonMouseLeave={() => setIsSubmenuOpen(false)}\r\n\t\t\t\tstyle={{ position: 'relative', width: '100%' }}\r\n\t\t\t>\r\n\t\t\t\t<button\r\n\t\t\t\t\tref={ref}\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tclassName={menuItemClassNames}\r\n\t\t\t\t\tonClick={handleClick}\r\n\t\t\t\t\tonFocus={onFocus}\r\n\t\t\t\t\tonBlur={onBlur}\r\n\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\trole=\"menuitem\"\r\n\t\t\t\t\taria-disabled={disabled}\r\n\t\t\t\t\taria-checked={checked ? 'true' : undefined}\r\n\t\t\t\t>\r\n\t\t\t\t\t{/* Checkmark area */}\r\n\t\t\t\t\t<span className={styles.checkmark}>{checked && '‚úì'}</span>\r\n\r\n\t\t\t\t\t{/* Icon area */}\r\n\t\t\t\t\t{icon && <span className={styles.icon}>{icon}</span>}\r\n\r\n\t\t\t\t\t{/* Label */}\r\n\t\t\t\t\t<span className={styles.label}>{label}</span>\r\n\r\n\t\t\t\t\t{/* Shortcut */}\r\n\t\t\t\t\t{shortcut && <span className={styles.shortcut}>{shortcut}</span>}\r\n\r\n\t\t\t\t\t{/* Submenu indicator */}\r\n\t\t\t\t\t{effectiveHasSubmenu && <span className={styles.submenuArrow}>‚ñ∂</span>}\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t{/* Submenu */}\r\n\t\t\t\t{items && isSubmenuOpen && (\r\n\t\t\t\t\t<div className={styles.submenu} role=\"menu\">\r\n\t\t\t\t\t\t{items}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{/* Separator line if needed */}\r\n\t\t\t\t{separator && <div className={styles.separatorLine} role=\"separator\" />}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n);\r\n\r\nMenuItem.displayName = 'MenuItem';\r\n\r\nexport default MenuItem;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport styles from './MenuBar.module.css';\r\n\r\nexport interface MenuDropdownProps {\r\n    /**\r\n     * Menu label (displayed in the menu bar/button)\r\n     */\r\n    label: React.ReactNode;\r\n\r\n    /**\r\n     * Menu items (content of the dropdown)\r\n     */\r\n    items: React.ReactNode;\r\n\r\n    /**\r\n     * Whether the menu is disabled\r\n     * @default false\r\n     */\r\n    disabled?: boolean;\r\n\r\n    /**\r\n     * Custom class name for the menu container\r\n     */\r\n    className?: string;\r\n\r\n    /**\r\n     * Custom class name for menu dropdown\r\n     */\r\n    dropdownClassName?: string;\r\n\r\n    /**\r\n     * Alignment of the dropdown menu\r\n     * @default 'left'\r\n     */\r\n    align?: 'left' | 'right';\r\n}\r\n\r\n/**\r\n * Mac OS 9 style MenuDropdown component\r\n * \r\n * A standalone dropdown menu that shares the styling of the MenuBar.\r\n * Useful for placing menus in the status area (rightContent) or other parts of the app.\r\n */\r\nexport const MenuDropdown: React.FC<MenuDropdownProps> = ({\r\n    label,\r\n    items,\r\n    disabled = false,\r\n    className = '',\r\n    dropdownClassName = '',\r\n    align = 'left',\r\n}) => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const containerRef = useRef<HTMLDivElement>(null);\r\n\r\n    // Handle click outside to close menu\r\n    useEffect(() => {\r\n        if (!isOpen) return;\r\n\r\n        const handleClickOutside = (event: MouseEvent) => {\r\n            if (containerRef.current && !containerRef.current.contains(event.target as Node)) {\r\n                setIsOpen(false);\r\n            }\r\n        };\r\n\r\n        document.addEventListener('mousedown', handleClickOutside);\r\n        return () => document.removeEventListener('mousedown', handleClickOutside);\r\n    }, [isOpen]);\r\n\r\n    // Handle Escape key to close menu\r\n    useEffect(() => {\r\n        if (!isOpen) return;\r\n\r\n        const handleEscape = (event: KeyboardEvent) => {\r\n            if (event.key === 'Escape') {\r\n                event.preventDefault();\r\n                setIsOpen(false);\r\n            }\r\n        };\r\n\r\n        document.addEventListener('keydown', handleEscape);\r\n        return () => document.removeEventListener('keydown', handleEscape);\r\n    }, [isOpen]);\r\n\r\n    const handleToggle = () => {\r\n        if (!disabled) {\r\n            setIsOpen(!isOpen);\r\n        }\r\n    };\r\n\r\n    const menuContainerClassNames = [\r\n        styles.menuContainer,\r\n        className\r\n    ].filter(Boolean).join(' ');\r\n\r\n    const menuButtonClassNames = [\r\n        styles.menuButton,\r\n        isOpen ? styles['menuButton--open'] : '',\r\n        disabled ? styles['menuButton--disabled'] : '',\r\n    ].filter(Boolean).join(' ');\r\n\r\n    const dropdownClassNames = [\r\n        styles.dropdown,\r\n        align === 'right' ? styles['dropdown--right'] : '',\r\n        dropdownClassName\r\n    ].filter(Boolean).join(' ');\r\n\r\n    return (\r\n        <div ref={containerRef} className={menuContainerClassNames}>\r\n            <button\r\n                type=\"button\"\r\n                className={menuButtonClassNames}\r\n                onClick={handleToggle}\r\n                disabled={disabled}\r\n                aria-haspopup=\"true\"\r\n                aria-expanded={isOpen}\r\n                aria-disabled={disabled}\r\n            >\r\n                {typeof label === 'string' ? <h3>{label}</h3> : label}\r\n            </button>\r\n\r\n            {isOpen && (\r\n                <div\r\n                    className={dropdownClassNames}\r\n                    role=\"menu\"\r\n                    onClick={() => setIsOpen(false)} // Close when an item is clicked\r\n                >\r\n                    {items}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n","// Scrollbar component - Mac OS 9 style\r\n// Classic scrollbar with arrows and draggable thumb\r\n\r\n'use client';\r\n\r\nimport React, { forwardRef, useRef, useState, useEffect, useCallback } from 'react';\r\nimport styles from './Scrollbar.module.css';\r\n\r\nexport interface ScrollbarProps {\r\n\t/**\r\n\t * Scrollbar orientation\r\n\t * @default 'vertical'\r\n\t */\r\n\torientation?: 'vertical' | 'horizontal';\r\n\r\n\t/**\r\n\t * Current scroll position (0-1)\r\n\t */\r\n\tvalue?: number;\r\n\r\n\t/**\r\n\t * Viewport size relative to content size (0-1)\r\n\t * Used to calculate thumb size\r\n\t */\r\n\tviewportRatio?: number;\r\n\r\n\t/**\r\n\t * Callback when scroll position changes\r\n\t */\r\n\tonChange?: (value: number) => void;\r\n\r\n\t/**\r\n\t * Additional CSS class names\r\n\t */\r\n\tclassName?: string;\r\n\r\n\t/**\r\n\t * Whether scrollbar is disabled\r\n\t * @default false\r\n\t */\r\n\tdisabled?: boolean;\r\n}\r\n\r\n/**\r\n * Mac OS 9 style Scrollbar component\r\n * \r\n * Classic scrollbar with arrow buttons and draggable thumb.\r\n * Can be used standalone or integrated with scrollable content.\r\n * \r\n * @example\r\n * ```tsx\r\n * <Scrollbar\r\n *   orientation=\"vertical\"\r\n *   value={0.5}\r\n *   viewportRatio={0.3}\r\n *   onChange={(value) => console.log('Scroll position:', value)}\r\n * />\r\n * ```\r\n */\r\nexport const Scrollbar = forwardRef<HTMLDivElement, ScrollbarProps>(\r\n\t(\r\n\t\t{\r\n\t\t\torientation = 'vertical',\r\n\t\t\tvalue = 0,\r\n\t\t\tviewportRatio = 0.2,\r\n\t\t\tonChange,\r\n\t\t\tclassName = '',\r\n\t\t\tdisabled = false,\r\n\t\t},\r\n\t\tref\r\n\t) => {\r\n\t\tconst trackRef = useRef<HTMLDivElement>(null);\r\n\t\tconst [isDragging, setIsDragging] = useState(false);\r\n\t\tconst [dragStartPos, setDragStartPos] = useState(0);\r\n\t\tconst [dragStartValue, setDragStartValue] = useState(0);\r\n\r\n\t\tconst isVertical = orientation === 'vertical';\r\n\r\n\t\t// Calculate thumb size based on viewport ratio\r\n\t\tconst thumbSize = Math.max(viewportRatio * 100, 10); // Minimum 10% size\r\n\r\n\t\t// Calculate thumb position\r\n\t\tconst maxThumbPos = 100 - thumbSize;\r\n\t\tconst thumbPos = value * maxThumbPos;\r\n\r\n\t\t// Class names\r\n\t\tconst classNames = [\r\n\t\t\tstyles.scrollbar,\r\n\t\t\tstyles[`scrollbar--${orientation}`],\r\n\t\t\tdisabled && styles['scrollbar--disabled'],\r\n\t\t\tclassName,\r\n\t\t]\r\n\t\t\t.filter(Boolean)\r\n\t\t\t.join(' ');\r\n\r\n\t\t// Handle arrow clicks\r\n\t\tconst handleDecrement = useCallback(() => {\r\n\t\t\tif (disabled || !onChange) return;\r\n\t\t\tconst newValue = Math.max(0, value - 0.1);\r\n\t\t\tonChange(newValue);\r\n\t\t}, [disabled, onChange, value]);\r\n\r\n\t\tconst handleIncrement = useCallback(() => {\r\n\t\t\tif (disabled || !onChange) return;\r\n\t\t\tconst newValue = Math.min(1, value + 0.1);\r\n\t\t\tonChange(newValue);\r\n\t\t}, [disabled, onChange, value]);\r\n\r\n\t\t// Handle track clicks\r\n\t\tconst handleTrackClick = useCallback(\r\n\t\t\t(event: React.MouseEvent<HTMLDivElement>) => {\r\n\t\t\t\tif (disabled || !onChange || !trackRef.current) return;\r\n\r\n\t\t\t\tconst rect = trackRef.current.getBoundingClientRect();\r\n\t\t\t\tconst clickPos = isVertical\r\n\t\t\t\t\t? event.clientY - rect.top\r\n\t\t\t\t\t: event.clientX - rect.left;\r\n\t\t\t\tconst trackSize = isVertical ? rect.height : rect.width;\r\n\r\n\t\t\t\t// Convert click position to scroll value (0-1)\r\n\t\t\t\tconst clickRatio = clickPos / trackSize;\r\n\t\t\t\tconst newValue = Math.max(0, Math.min(1, clickRatio));\r\n\t\t\t\tonChange(newValue);\r\n\t\t\t},\r\n\t\t\t[disabled, onChange, isVertical]\r\n\t\t);\r\n\r\n\t\t// Handle thumb drag start\r\n\t\tconst handleThumbMouseDown = useCallback(\r\n\t\t\t(event: React.MouseEvent) => {\r\n\t\t\t\tif (disabled) return;\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tevent.stopPropagation();\r\n\t\t\t\tsetIsDragging(true);\r\n\t\t\t\tsetDragStartPos(isVertical ? event.clientY : event.clientX);\r\n\t\t\t\tsetDragStartValue(value);\r\n\t\t\t},\r\n\t\t\t[disabled, isVertical, value]\r\n\t\t);\r\n\r\n\t\t// Handle drag move\r\n\t\tuseEffect(() => {\r\n\t\t\tif (!isDragging || !onChange || !trackRef.current) return;\r\n\r\n\t\t\tconst handleMouseMove = (event: MouseEvent) => {\r\n\t\t\t\tconst currentPos = isVertical ? event.clientY : event.clientX;\r\n\t\t\t\tconst delta = currentPos - dragStartPos;\r\n\r\n\t\t\t\tconst rect = trackRef.current!.getBoundingClientRect();\r\n\t\t\t\tconst trackSize = isVertical ? rect.height : rect.width;\r\n\t\t\t\tconst deltaRatio = delta / trackSize;\r\n\r\n\t\t\t\tconst newValue = Math.max(0, Math.min(1, dragStartValue + deltaRatio));\r\n\t\t\t\tonChange(newValue);\r\n\t\t\t};\r\n\r\n\t\t\tconst handleMouseUp = () => {\r\n\t\t\t\tsetIsDragging(false);\r\n\t\t\t};\r\n\r\n\t\t\tdocument.addEventListener('mousemove', handleMouseMove);\r\n\t\t\tdocument.addEventListener('mouseup', handleMouseUp);\r\n\r\n\t\t\treturn () => {\r\n\t\t\t\tdocument.removeEventListener('mousemove', handleMouseMove);\r\n\t\t\t\tdocument.removeEventListener('mouseup', handleMouseUp);\r\n\t\t\t};\r\n\t\t}, [isDragging, dragStartPos, dragStartValue, onChange, isVertical]);\r\n\r\n\t\treturn (\r\n\t\t\t<div ref={ref} className={classNames}>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tclassName={`${styles.arrow} ${styles['arrow--start']}`}\r\n\t\t\t\t\tonClick={handleDecrement}\r\n\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\taria-label={isVertical ? 'Scroll up' : 'Scroll left'}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className={styles.arrowIcon} />\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t<div\r\n\t\t\t\t\tref={trackRef}\r\n\t\t\t\t\tclassName={styles.track}\r\n\t\t\t\t\tonClick={handleTrackClick}\r\n\t\t\t\t\trole=\"scrollbar\"\r\n\t\t\t\t\taria-valuenow={Math.round(value * 100)}\r\n\t\t\t\t\taria-valuemin={0}\r\n\t\t\t\t\taria-valuemax={100}\r\n\t\t\t\t\taria-orientation={orientation}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={styles.thumb}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t[isVertical ? 'height' : 'width']: `${thumbSize}%`,\r\n\t\t\t\t\t\t\t[isVertical ? 'top' : 'left']: `${thumbPos}%`,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonMouseDown={handleThumbMouseDown}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tclassName={`${styles.arrow} ${styles['arrow--end']}`}\r\n\t\t\t\t\tonClick={handleIncrement}\r\n\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\taria-label={isVertical ? 'Scroll down' : 'Scroll right'}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className={styles.arrowIcon} />\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n);\r\n\r\nScrollbar.displayName = 'Scrollbar';\r\n\r\nexport default Scrollbar;\r\n","// ListView component - Mac OS 9 style multi-column list\r\n// List view with sortable columns and row selection\r\n\r\n'use client';\r\n\r\nimport React, { forwardRef, useState, useCallback } from 'react';\r\nimport { mergeClasses } from '../../utils/classNames';\r\nimport styles from './ListView.module.css';\r\n\r\nexport interface ListColumn {\r\n\t/**\r\n\t * Column key/identifier\r\n\t */\r\n\tkey: string;\r\n\r\n\t/**\r\n\t * Column header label\r\n\t */\r\n\tlabel: string;\r\n\r\n\t/**\r\n\t * Column width (px or percentage)\r\n\t * @default 'auto'\r\n\t */\r\n\twidth?: number | string;\r\n\r\n\t/**\r\n\t * Whether column is sortable\r\n\t * @default true\r\n\t */\r\n\tsortable?: boolean;\r\n}\r\n\r\nexport interface ListItem {\r\n\t/**\r\n\t * Unique item ID\r\n\t */\r\n\tid: string;\r\n\r\n\t/**\r\n\t * Item data - keys should match column keys\r\n\t */\r\n\t[key: string]: any;\r\n\r\n\t/**\r\n\t * Optional icon to display\r\n\t */\r\n\ticon?: React.ReactNode;\r\n}\r\n\r\n/**\r\n * Classes for targeting ListView sub-elements\r\n */\r\nexport interface ListViewClasses {\r\n\t/** Root container */\r\n\troot?: string;\r\n\t/** Header row container */\r\n\theader?: string;\r\n\t/** Individual header cell */\r\n\theaderCell?: string;\r\n\t/** Body container (scrollable area) */\r\n\tbody?: string;\r\n\t/** Individual row */\r\n\trow?: string;\r\n\t/** Individual cell */\r\n\tcell?: string;\r\n}\r\n\r\n/**\r\n * Row render prop state\r\n */\r\nexport interface RowRenderState {\r\n\t/** Whether this row is selected */\r\n\tisSelected: boolean;\r\n\t/** Whether this row is being hovered */\r\n\tisHovered: boolean;\r\n\t/** Row index in the list */\r\n\tindex: number;\r\n}\r\n\r\n/**\r\n * Row render prop default props\r\n * Spread these on your custom element for accessibility and behavior\r\n */\r\nexport interface RowDefaultProps {\r\n\tkey: string;\r\n\tclassName: string;\r\n\tonClick: (e: React.MouseEvent) => void;\r\n\tonDoubleClick: () => void;\r\n\tonMouseEnter: () => void;\r\n\tonMouseLeave: () => void;\r\n\t'data-selected': boolean;\r\n\t'data-index': number;\r\n\t'data-item-id': string;\r\n}\r\n\r\n/**\r\n * Cell render prop state\r\n */\r\nexport interface CellRenderState {\r\n\t/** Whether this cell is being hovered */\r\n\tisHovered: boolean;\r\n\t/** Whether the row containing this cell is selected */\r\n\tisRowSelected: boolean;\r\n\t/** Column index */\r\n\tcolumnIndex: number;\r\n\t/** Row index */\r\n\trowIndex: number;\r\n}\r\n\r\n/**\r\n * Header cell render prop state\r\n */\r\nexport interface HeaderCellRenderState {\r\n\t/** Whether this column is currently sorted */\r\n\tisSorted: boolean;\r\n\t/** Current sort direction if sorted */\r\n\tsortDirection?: 'asc' | 'desc';\r\n}\r\n\r\n/**\r\n * Header cell render prop default props\r\n */\r\nexport interface HeaderCellDefaultProps {\r\n\tkey: string;\r\n\tclassName: string;\r\n\tstyle: React.CSSProperties;\r\n\tonClick: () => void;\r\n\t'data-column': string;\r\n\t'data-sortable': boolean;\r\n\t'data-sorted'?: boolean;\r\n\t'data-sort-direction'?: 'asc' | 'desc';\r\n}\r\n\r\nexport interface ListViewProps {\r\n\t/**\r\n\t * Column definitions\r\n\t */\r\n\tcolumns: ListColumn[];\r\n\r\n\t/**\r\n\t * List items\r\n\t */\r\n\titems: ListItem[];\r\n\r\n\t/**\r\n\t * Selected item IDs\r\n\t */\r\n\tselectedIds?: string[];\r\n\r\n\t/**\r\n\t * Callback when selection changes\r\n\t */\r\n\tonSelectionChange?: (selectedIds: string[]) => void;\r\n\r\n\t/**\r\n\t * Callback when item is double-clicked\r\n\t */\r\n\tonItemOpen?: (item: ListItem) => void;\r\n\r\n\t/**\r\n\t * Callback when mouse enters an item (row-level)\r\n\t */\r\n\tonItemMouseEnter?: (item: ListItem) => void;\r\n\r\n\t/**\r\n\t * Callback when mouse leaves an item (row-level)\r\n\t */\r\n\tonItemMouseLeave?: (item: ListItem) => void;\r\n\r\n\t/**\r\n\t * Callback when column is clicked for sorting\r\n\t */\r\n\tonSort?: (columnKey: string, direction: 'asc' | 'desc') => void;\r\n\r\n\t/**\r\n\t * Additional CSS class names\r\n\t */\r\n\tclassName?: string;\r\n\r\n\t/**\r\n\t * Height of the list view\r\n\t */\r\n\theight?: number | string;\r\n\r\n\t/**\r\n\t * Custom classes for targeting sub-elements\r\n\t */\r\n\tclasses?: ListViewClasses;\r\n\r\n\t/**\r\n\t * Override row rendering\r\n\t * @param item - The list item\r\n\t * @param state - Row state (selected, hovered, index)\r\n\t * @param defaultProps - Props to spread on custom element for accessibility\r\n\t * @returns Custom row element (fully replaces default)\r\n\t */\r\n\trenderRow?: (\r\n\t\titem: ListItem,\r\n\t\tstate: RowRenderState,\r\n\t\tdefaultProps: RowDefaultProps\r\n\t) => React.ReactNode;\r\n\r\n\t/**\r\n\t * Override cell rendering\r\n\t * @param value - Cell value (item[columnKey])\r\n\t * @param item - Full item object\r\n\t * @param column - Column definition\r\n\t * @param state - Cell state (hovered, selected row, indices)\r\n\t * @returns Custom cell content (fully replaces default)\r\n\t */\r\n\trenderCell?: (\r\n\t\tvalue: any,\r\n\t\titem: ListItem,\r\n\t\tcolumn: ListColumn,\r\n\t\tstate: CellRenderState\r\n\t) => React.ReactNode;\r\n\r\n\t/**\r\n\t * Override header cell rendering\r\n\t * @param column - Column definition\r\n\t * @param state - Header state (sorted, direction)\r\n\t * @param defaultProps - Props to spread on custom element\r\n\t * @returns Custom header cell element (fully replaces default)\r\n\t */\r\n\trenderHeaderCell?: (\r\n\t\tcolumn: ListColumn,\r\n\t\tstate: HeaderCellRenderState,\r\n\t\tdefaultProps: HeaderCellDefaultProps\r\n\t) => React.ReactNode;\r\n\r\n\t/**\r\n\t * Callback when a cell is clicked\r\n\t */\r\n\tonCellClick?: (\r\n\t\titem: ListItem,\r\n\t\tcolumn: ListColumn,\r\n\t\tevent: React.MouseEvent\r\n\t) => void;\r\n\r\n\t/**\r\n\t * Callback when mouse enters a cell\r\n\t */\r\n\tonCellMouseEnter?: (\r\n\t\titem: ListItem,\r\n\t\tcolumn: ListColumn\r\n\t) => void;\r\n\r\n\t/**\r\n\t * Callback when mouse leaves a cell\r\n\t */\r\n\tonCellMouseLeave?: (\r\n\t\titem: ListItem,\r\n\t\tcolumn: ListColumn\r\n\t) => void;\r\n}\r\n\r\n/**\r\n * Mac OS 9 style ListView component\r\n * \r\n * Multi-column list with sortable headers and row selection.\r\n * Similar to Finder list view.\r\n * \r\n * @example\r\n * ```tsx\r\n * <ListView\r\n *   columns={[\r\n *     { key: 'name', label: 'Name' },\r\n *     { key: 'modified', label: 'Date Modified' },\r\n *     { key: 'size', label: 'Size' }\r\n *   ]}\r\n *   items={[\r\n *     { id: '1', name: 'Document.txt', modified: 'Today', size: '2 KB' },\r\n *     { id: '2', name: 'Images', modified: 'Yesterday', size: '--' }\r\n *   ]}\r\n *   selectedIds={['1']}\r\n *   onSelectionChange={(ids) => console.log('Selected:', ids)}\r\n *   onItemMouseEnter={(item) => console.log('Hovering:', item.name)}\r\n * />\r\n * ```\r\n */\r\nexport const ListView = forwardRef<HTMLDivElement, ListViewProps>(\r\n\t(\r\n\t\t{\r\n\t\t\tcolumns,\r\n\t\t\titems,\r\n\t\t\tselectedIds = [],\r\n\t\t\tonSelectionChange,\r\n\t\t\tonItemOpen,\r\n\t\t\tonItemMouseEnter,\r\n\t\t\tonItemMouseLeave,\r\n\t\t\tonSort,\r\n\t\t\tclassName = '',\r\n\t\t\theight = 'auto',\r\n\t\t\tclasses,\r\n\t\t\trenderRow,\r\n\t\t\trenderCell,\r\n\t\t\trenderHeaderCell,\r\n\t\t\tonCellClick,\r\n\t\t\tonCellMouseEnter,\r\n\t\t\tonCellMouseLeave,\r\n\t\t},\r\n\t\tref\r\n\t) => {\r\n\t\tconst [sortColumn, setSortColumn] = useState<string | null>(null);\r\n\t\tconst [sortDirection, setSortDirection] = useState<'asc' | 'desc'>('asc');\r\n\t\tconst [hoveredRow, setHoveredRow] = useState<string | null>(null);\r\n\t\tconst [hoveredCell, setHoveredCell] = useState<{\r\n\t\t\trowId: string;\r\n\t\t\tcolumnKey: string;\r\n\t\t} | null>(null);\r\n\r\n\t\t// Class names\r\n\t\tconst classNames = mergeClasses(styles.listView, className, classes?.root);\r\n\r\n\t\t// Handle column header click\r\n\t\tconst handleColumnClick = useCallback(\r\n\t\t\t(columnKey: string, sortable: boolean = true) => {\r\n\t\t\t\tif (!sortable || !onSort) return;\r\n\r\n\t\t\t\tconst newDirection =\r\n\t\t\t\t\tsortColumn === columnKey && sortDirection === 'asc' ? 'desc' : 'asc';\r\n\t\t\t\tsetSortColumn(columnKey);\r\n\t\t\t\tsetSortDirection(newDirection);\r\n\t\t\t\tonSort(columnKey, newDirection);\r\n\t\t\t},\r\n\t\t\t[sortColumn, sortDirection, onSort]\r\n\t\t);\r\n\r\n\t\t// Handle row click\r\n\t\tconst handleRowClick = useCallback(\r\n\t\t\t(itemId: string, event: React.MouseEvent) => {\r\n\t\t\t\tif (!onSelectionChange) return;\r\n\r\n\t\t\t\tif (event.metaKey || event.ctrlKey) {\r\n\t\t\t\t\t// Multi-select with Cmd/Ctrl\r\n\t\t\t\t\tif (selectedIds.includes(itemId)) {\r\n\t\t\t\t\t\tonSelectionChange(selectedIds.filter((id) => id !== itemId));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tonSelectionChange([...selectedIds, itemId]);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (event.shiftKey && selectedIds.length > 0) {\r\n\t\t\t\t\t// Range select with Shift\r\n\t\t\t\t\tconst lastSelectedId = selectedIds[selectedIds.length - 1];\r\n\t\t\t\t\tconst lastIndex = items.findIndex((item) => item.id === lastSelectedId);\r\n\t\t\t\t\tconst currentIndex = items.findIndex((item) => item.id === itemId);\r\n\r\n\t\t\t\t\tconst start = Math.min(lastIndex, currentIndex);\r\n\t\t\t\t\tconst end = Math.max(lastIndex, currentIndex);\r\n\t\t\t\t\tconst rangeIds = items.slice(start, end + 1).map((item) => item.id);\r\n\r\n\t\t\t\t\tonSelectionChange(rangeIds);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Single select\r\n\t\t\t\t\tonSelectionChange([itemId]);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t[selectedIds, items, onSelectionChange]\r\n\t\t);\r\n\r\n\t\t// Handle row double-click\r\n\t\tconst handleRowDoubleClick = useCallback(\r\n\t\t\t(item: ListItem) => {\r\n\t\t\t\tif (onItemOpen) {\r\n\t\t\t\t\tonItemOpen(item);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t[onItemOpen]\r\n\t\t);\r\n\r\n\t\t// Handle row mouse enter\r\n\t\tconst handleRowMouseEnter = useCallback(\r\n\t\t\t(item: ListItem) => {\r\n\t\t\t\tif (onItemMouseEnter) {\r\n\t\t\t\t\tonItemMouseEnter(item);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t[onItemMouseEnter]\r\n\t\t);\r\n\r\n\t\t// Container style\r\n\t\tconst containerStyle: React.CSSProperties = {};\r\n\t\tif (height !== 'auto') {\r\n\t\t\tcontainerStyle.height = typeof height === 'number' ? `${height}px` : height;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div ref={ref} className={classNames} style={containerStyle}>\r\n\t\t\t\t{/* Column headers */}\r\n\t\t\t\t<div className={mergeClasses(styles.header, classes?.header)}>\r\n\t\t\t\t\t{columns.map((column) => {\r\n\t\t\t\t\t\tconst isSorted = sortColumn === column.key;\r\n\t\t\t\t\t\tconst headerState: HeaderCellRenderState = {\r\n\t\t\t\t\t\t\tisSorted,\r\n\t\t\t\t\t\t\tsortDirection: isSorted ? sortDirection : undefined,\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tconst headerDefaultProps: HeaderCellDefaultProps = {\r\n\t\t\t\t\t\t\tkey: column.key,\r\n\t\t\t\t\t\t\tclassName: mergeClasses(\r\n\t\t\t\t\t\t\t\tstyles.headerCell,\r\n\t\t\t\t\t\t\t\tcolumn.sortable !== false && styles.sortable,\r\n\t\t\t\t\t\t\t\tclasses?.headerCell\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\twidth:\r\n\t\t\t\t\t\t\t\t\ttypeof column.width === 'number'\r\n\t\t\t\t\t\t\t\t\t\t? `${column.width}px`\r\n\t\t\t\t\t\t\t\t\t\t: column.width,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tonClick: () => handleColumnClick(column.key, column.sortable),\r\n\t\t\t\t\t\t\t'data-column': column.key,\r\n\t\t\t\t\t\t\t'data-sortable': column.sortable !== false,\r\n\t\t\t\t\t\t\t...(isSorted && {\r\n\t\t\t\t\t\t\t\t'data-sorted': true,\r\n\t\t\t\t\t\t\t\t'data-sort-direction': sortDirection,\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t// Use custom render or default\r\n\t\t\t\t\t\tif (renderHeaderCell) {\r\n\t\t\t\t\t\t\treturn renderHeaderCell(column, headerState, headerDefaultProps);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Default header cell rendering\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div {...headerDefaultProps}>\r\n\t\t\t\t\t\t\t\t{column.label}\r\n\t\t\t\t\t\t\t\t{isSorted && (\r\n\t\t\t\t\t\t\t\t\t<span className={styles.sortIndicator}>\r\n\t\t\t\t\t\t\t\t\t\t{sortDirection === 'asc' ? '‚ñ≤' : '‚ñº'}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/* List items */}\r\n\t\t\t\t<div className={mergeClasses(styles.body, classes?.body)}>\r\n\t\t\t\t\t{items.map((item, rowIndex) => {\r\n\t\t\t\t\t\tconst isSelected = selectedIds.includes(item.id);\r\n\t\t\t\t\t\tconst isHovered = hoveredRow === item.id;\r\n\r\n\t\t\t\t\t\tconst rowState: RowRenderState = {\r\n\t\t\t\t\t\t\tisSelected,\r\n\t\t\t\t\t\t\tisHovered,\r\n\t\t\t\t\t\t\tindex: rowIndex,\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tconst rowDefaultProps: RowDefaultProps = {\r\n\t\t\t\t\t\t\tkey: item.id,\r\n\t\t\t\t\t\t\tclassName: mergeClasses(\r\n\t\t\t\t\t\t\t\tstyles.row,\r\n\t\t\t\t\t\t\t\tisSelected && styles.selected,\r\n\t\t\t\t\t\t\t\tclasses?.row\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\tonClick: (e) => handleRowClick(item.id, e),\r\n\t\t\t\t\t\t\tonDoubleClick: () => handleRowDoubleClick(item),\r\n\t\t\t\t\t\t\tonMouseEnter: () => {\r\n\t\t\t\t\t\t\t\tsetHoveredRow(item.id);\r\n\t\t\t\t\t\t\t\tonItemMouseEnter?.(item);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tonMouseLeave: () => {\r\n\t\t\t\t\t\t\t\tsetHoveredRow(null);\r\n\t\t\t\t\t\t\t\tsetHoveredCell(null);\r\n\t\t\t\t\t\t\t\tonItemMouseLeave?.(item);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t'data-selected': isSelected,\r\n\t\t\t\t\t\t\t'data-index': rowIndex,\r\n\t\t\t\t\t\t\t'data-item-id': item.id,\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t// Use custom row render or default\r\n\t\t\t\t\t\tif (renderRow) {\r\n\t\t\t\t\t\t\treturn renderRow(item, rowState, rowDefaultProps);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Default row rendering\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div {...rowDefaultProps}>\r\n\t\t\t\t\t\t\t\t{columns.map((column, columnIndex) => {\r\n\t\t\t\t\t\t\t\t\tconst value = item[column.key];\r\n\t\t\t\t\t\t\t\t\tconst isCellHovered = \r\n\t\t\t\t\t\t\t\t\t\thoveredCell?.rowId === item.id && \r\n\t\t\t\t\t\t\t\t\t\thoveredCell?.columnKey === column.key;\r\n\r\n\t\t\t\t\t\t\t\t\tconst cellState: CellRenderState = {\r\n\t\t\t\t\t\t\t\t\t\tisHovered: isCellHovered,\r\n\t\t\t\t\t\t\t\t\t\tisRowSelected: isSelected,\r\n\t\t\t\t\t\t\t\t\t\tcolumnIndex,\r\n\t\t\t\t\t\t\t\t\t\trowIndex,\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\t// Cell event handlers\r\n\t\t\t\t\t\t\t\t\tconst handleCellClick = (e: React.MouseEvent) => {\r\n\t\t\t\t\t\t\t\t\t\tif (onCellClick) {\r\n\t\t\t\t\t\t\t\t\t\t\tonCellClick(item, column, e);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\tconst handleCellMouseEnter = () => {\r\n\t\t\t\t\t\t\t\t\t\tsetHoveredCell({ rowId: item.id, columnKey: column.key });\r\n\t\t\t\t\t\t\t\t\t\tif (onCellMouseEnter) {\r\n\t\t\t\t\t\t\t\t\t\t\tonCellMouseEnter(item, column);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\tconst handleCellMouseLeave = () => {\r\n\t\t\t\t\t\t\t\t\t\tsetHoveredCell(null);\r\n\t\t\t\t\t\t\t\t\t\tif (onCellMouseLeave) {\r\n\t\t\t\t\t\t\t\t\t\t\tonCellMouseLeave(item, column);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\t// Use custom cell render or default\r\n\t\t\t\t\t\t\t\t\tif (renderCell) {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={column.key}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={mergeClasses(styles.cell, classes?.cell)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttypeof column.width === 'number'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `${column.width}px`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: column.width,\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdata-column={column.key}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdata-hovered={isCellHovered}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleCellClick}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonMouseEnter={handleCellMouseEnter}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonMouseLeave={handleCellMouseLeave}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{renderCell(value, item, column, cellState)}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t// Default cell rendering\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tkey={column.key}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={mergeClasses(styles.cell, classes?.cell)}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\twidth:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttypeof column.width === 'number'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `${column.width}px`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: column.width,\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tdata-column={column.key}\r\n\t\t\t\t\t\t\t\t\t\t\tdata-hovered={isCellHovered}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleCellClick}\r\n\t\t\t\t\t\t\t\t\t\t\tonMouseEnter={handleCellMouseEnter}\r\n\t\t\t\t\t\t\t\t\t\t\tonMouseLeave={handleCellMouseLeave}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{columnIndex === 0 && item.icon && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className={styles.icon}>{item.icon}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t{value}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n);\r\n\r\nListView.displayName = 'ListView';\r\n\r\nexport default ListView;\r\n","// FolderList component - Mac OS 9 style folder/file list window\r\n// Window component with integrated ListView for file browsing\r\n\r\n'use client';\r\n\r\nimport React, { forwardRef, useState } from 'react';\r\nimport { Window, WindowProps } from '../Window/Window';\r\nimport { WindowPosition } from '../../types';\r\nimport { \r\n\tListView, \r\n\tListColumn, \r\n\tListItem,\r\n\tListViewClasses,\r\n\tRowRenderState,\r\n\tRowDefaultProps,\r\n\tCellRenderState,\r\n\tHeaderCellRenderState,\r\n\tHeaderCellDefaultProps\r\n} from '../ListView/ListView';\r\nimport styles from './FolderList.module.css';\r\n\r\n/**\r\n * Classes for targeting FolderList sub-elements\r\n */\r\nexport interface FolderListClasses {\r\n\t/** Root window container */\r\n\troot?: string;\r\n\t/** Window component */\r\n\twindow?: string;\r\n\t/** Title bar */\r\n\ttitleBar?: string;\r\n\t/** ListView container */\r\n\tlistView?: string;\r\n\t/** ListView header */\r\n\theader?: string;\r\n\t/** ListView header cell */\r\n\theaderCell?: string;\r\n\t/** ListView body */\r\n\tbody?: string;\r\n\t/** ListView row */\r\n\trow?: string;\r\n\t/** ListView cell */\r\n\tcell?: string;\r\n}\r\n\r\nexport interface FolderListProps extends Omit<WindowProps, 'children' | 'classes'> {\r\n\t/**\r\n\t * Column definitions for the list\r\n\t * @default [{ key: 'name', label: 'Name' }, { key: 'modified', label: 'Date Modified' }, { key: 'size', label: 'Size' }]\r\n\t */\r\n\tcolumns?: ListColumn[];\r\n\r\n\t/**\r\n\t * Whether the folder list window can be dragged by its title bar\r\n\t * Window starts in normal flow and becomes absolutely positioned when dragged\r\n\t * @default false\r\n\t */\r\n\tdraggable?: boolean;\r\n\r\n\t/**\r\n\t * Initial position for draggable folder lists (uncontrolled)\r\n\t * Only used when draggable is true\r\n\t */\r\n\tdefaultPosition?: WindowPosition;\r\n\r\n\t/**\r\n\t * Controlled position for draggable folder lists\r\n\t * Only used when draggable is true\r\n\t */\r\n\tposition?: WindowPosition;\r\n\r\n\t/**\r\n\t * Callback when folder list position changes (during drag)\r\n\t * Only called when draggable is true\r\n\t */\r\n\tonPositionChange?: (position: WindowPosition) => void;\r\n\r\n\t/**\r\n\t * Items to display in the list\r\n\t */\r\n\titems: ListItem[];\r\n\r\n\t/**\r\n\t * Selected item IDs\r\n\t */\r\n\tselectedIds?: string[];\r\n\r\n\t/**\r\n\t * Callback when selection changes\r\n\t */\r\n\tonSelectionChange?: (selectedIds: string[]) => void;\r\n\r\n\t/**\r\n\t * Callback when item is double-clicked (opened)\r\n\t */\r\n\tonItemOpen?: (item: ListItem) => void;\r\n\r\n\t/**\r\n\t * Callback when mouse enters an item (row-level)\r\n\t */\r\n\tonItemMouseEnter?: (item: ListItem) => void;\r\n\r\n\t/**\r\n\t * Callback when mouse leaves an item (row-level)\r\n\t */\r\n\tonItemMouseLeave?: (item: ListItem) => void;\r\n\r\n\t/**\r\n\t * Callback when column header is clicked for sorting\r\n\t */\r\n\tonSort?: (columnKey: string, direction: 'asc' | 'desc') => void;\r\n\r\n\t/**\r\n\t * Callback when mouse enters the folder list window\r\n\t */\r\n\tonMouseEnter?: (event: React.MouseEvent<HTMLDivElement>) => void;\r\n\r\n\t/**\r\n\t * Height of the list view area\r\n\t * @default 400\r\n\t */\r\n\tlistHeight?: number | string;\r\n\r\n\t/**\r\n\t * Custom classes for targeting sub-elements\r\n\t */\r\n\tclasses?: FolderListClasses;\r\n\r\n\t/**\r\n\t * Override row rendering\r\n\t * @param item - The list item\r\n\t * @param state - Row state (selected, hovered, index)\r\n\t * @param defaultProps - Props to spread on custom element for accessibility\r\n\t * @returns Custom row element (fully replaces default)\r\n\t */\r\n\trenderRow?: (\r\n\t\titem: ListItem,\r\n\t\tstate: RowRenderState,\r\n\t\tdefaultProps: RowDefaultProps\r\n\t) => React.ReactNode;\r\n\r\n\t/**\r\n\t * Override cell rendering\r\n\t * @param value - Cell value (item[columnKey])\r\n\t * @param item - Full item object\r\n\t * @param column - Column definition\r\n\t * @param state - Cell state (hovered, selected row, indices)\r\n\t * @returns Custom cell content (fully replaces default)\r\n\t */\r\n\trenderCell?: (\r\n\t\tvalue: any,\r\n\t\titem: ListItem,\r\n\t\tcolumn: ListColumn,\r\n\t\tstate: CellRenderState\r\n\t) => React.ReactNode;\r\n\r\n\t/**\r\n\t * Override header cell rendering\r\n\t * @param column - Column definition\r\n\t * @param state - Header state (sorted, direction)\r\n\t * @param defaultProps - Props to spread on custom element\r\n\t * @returns Custom header cell element (fully replaces default)\r\n\t */\r\n\trenderHeaderCell?: (\r\n\t\tcolumn: ListColumn,\r\n\t\tstate: HeaderCellRenderState,\r\n\t\tdefaultProps: HeaderCellDefaultProps\r\n\t) => React.ReactNode;\r\n\r\n\t/**\r\n\t * Callback when a cell is clicked\r\n\t */\r\n\tonCellClick?: (\r\n\t\titem: ListItem,\r\n\t\tcolumn: ListColumn,\r\n\t\tevent: React.MouseEvent\r\n\t) => void;\r\n\r\n\t/**\r\n\t * Callback when mouse enters a cell\r\n\t */\r\n\tonCellMouseEnter?: (\r\n\t\titem: ListItem,\r\n\t\tcolumn: ListColumn\r\n\t) => void;\r\n\r\n\t/**\r\n\t * Callback when mouse leaves a cell\r\n\t */\r\n\tonCellMouseLeave?: (\r\n\t\titem: ListItem,\r\n\t\tcolumn: ListColumn\r\n\t) => void;\r\n}\r\n\r\n/**\r\n * Mac OS 9 style FolderList component\r\n * \r\n * Window with integrated ListView for browsing files and folders.\r\n * Similar to Finder list view in Mac OS 9.\r\n * \r\n * @example\r\n * ```tsx\r\n * // Basic folder list\r\n * <FolderList\r\n *   title=\"My Documents\"\r\n *   items={[\r\n *     { id: '1', name: 'Document.txt', modified: 'Today', size: '2 KB', icon: <FileIcon /> },\r\n *     { id: '2', name: 'Images', modified: 'Yesterday', size: '--', icon: <FolderIcon /> }\r\n *   ]}\r\n *   selectedIds={['1']}\r\n *   onSelectionChange={(ids) => console.log('Selected:', ids)}\r\n *   onItemOpen={(item) => console.log('Open:', item.name)}\r\n * />\r\n * \r\n * // Draggable folder list\r\n * <FolderList\r\n *   title=\"My Documents\"\r\n *   items={items}\r\n *   draggable\r\n *   defaultPosition={{ x: 100, y: 100 }}\r\n * />\r\n * ```\r\n */\r\nexport const FolderList = forwardRef<HTMLDivElement, FolderListProps>(\r\n\t(\r\n\t\t{\r\n\t\t\tcolumns = [\r\n\t\t\t\t{ key: 'name', label: 'Name', width: '40%' },\r\n\t\t\t\t{ key: 'modified', label: 'Date Modified', width: '30%' },\r\n\t\t\t\t{ key: 'size', label: 'Size', width: '30%' },\r\n\t\t\t],\r\n\t\t\titems,\r\n\t\t\tselectedIds,\r\n\t\t\tonSelectionChange,\r\n\t\t\tonItemOpen,\r\n\t\t\tonItemMouseEnter,\r\n\t\t\tonItemMouseLeave,\r\n\t\t\tonSort,\r\n\t\t\tonMouseEnter,\r\n\t\t\tlistHeight = 400,\r\n\t\t\tclasses,\r\n\t\t\trenderRow,\r\n\t\t\trenderCell,\r\n\t\t\trenderHeaderCell,\r\n\t\t\tonCellClick,\r\n\t\t\tonCellMouseEnter,\r\n\t\t\tonCellMouseLeave,\r\n\t\t\t...windowProps\r\n\t\t},\r\n\t\tref\r\n\t) => {\r\n\t\t// Build ListView classes from FolderList classes\r\n\t\tconst listViewClasses: ListViewClasses | undefined = classes ? {\r\n\t\t\troot: classes.listView,\r\n\t\t\theader: classes.header,\r\n\t\t\theaderCell: classes.headerCell,\r\n\t\t\tbody: classes.body,\r\n\t\t\trow: classes.row,\r\n\t\t\tcell: classes.cell,\r\n\t\t} : undefined;\r\n\r\n\t\t// Window content with ListView\r\n\t\treturn (\r\n\t\t\t<Window \r\n\t\t\t\tref={ref} \r\n\t\t\t\tcontentClassName={styles.folderListContent} \r\n\t\t\t\tonMouseEnter={onMouseEnter}\r\n\t\t\t\tclassName={classes?.root}\r\n\t\t\t\t{...windowProps}\r\n\t\t\t>\r\n\t\t\t\t<ListView\r\n\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\titems={items}\r\n\t\t\t\t\tselectedIds={selectedIds}\r\n\t\t\t\t\tonSelectionChange={onSelectionChange}\r\n\t\t\t\t\tonItemOpen={onItemOpen}\r\n\t\t\t\t\tonItemMouseEnter={onItemMouseEnter}\r\n\t\t\t\t\tonItemMouseLeave={onItemMouseLeave}\r\n\t\t\t\t\tonSort={onSort}\r\n\t\t\t\t\theight={listHeight}\r\n\t\t\t\t\tclassName={styles.listView}\r\n\t\t\t\t\tclasses={listViewClasses}\r\n\t\t\t\t\trenderRow={renderRow}\r\n\t\t\t\t\trenderCell={renderCell}\r\n\t\t\t\t\trenderHeaderCell={renderHeaderCell}\r\n\t\t\t\t\tonCellClick={onCellClick}\r\n\t\t\t\t\tonCellMouseEnter={onCellMouseEnter}\r\n\t\t\t\t\tonCellMouseLeave={onCellMouseLeave}\r\n\t\t\t\t/>\r\n\t\t\t</Window>\r\n\t\t);\r\n\t}\r\n);\r\n\r\nFolderList.displayName = 'FolderList';\r\n\r\nexport default FolderList;\r\n","// Mac OS 9 Design Tokens\r\n// Extracted from Figma file: vy2T5MCXFz7QWf4Ba86eqN\r\n// Reference: docs/figma-map.md\r\n\r\n/**\r\n * Color tokens based on Mac OS 9 grayscale palette\r\n * Extracted from Figma styles and component analysis\r\n */\r\nexport const colors = {\r\n\t// Grayscale palette (Figma style IDs included for reference)\r\n\tgray100: '#FFFFFF', // 18:47 - White\r\n\tgray200: '#EEEEEE', // 19:2507 - Base UI background\r\n\tgray300: '#DDDDDD', // 18:60 - Inferred mid-tone\r\n\tgray400: '#CCCCCC', // 18:1970 - Inferred mid-tone\r\n\tgray500: '#999999', // 20:7306 - Inferred mid-tone\r\n\tgray600: '#666666', // 18:52 - Inferred dark tone\r\n\tgray700: '#4D4D4D', // 18:46 - Inferred dark tone\r\n\tgray800: '#333333', // 45:184845 - Inferred very dark\r\n\tgray900: '#262626', // 18:48 - Black (strokes, borders, text)\r\n\r\n\t// Accent colors\r\n\tlavender: '#CCCCFF', // 60:134029 - Cover background\r\n\tazul: '#0066CC', // 49:36229 - Accent (inferred)\r\n\tlinkRed: '#CC0000', // 102:398, 102:3935 - Link color (inferred)\r\n\r\n\t// Semantic mappings\r\n\tbackground: '#EEEEEE', // Gray 200\r\n\tforeground: '#262626', // Gray 900\r\n\tborder: '#262626', // Gray 900\r\n\ttext: '#262626', // Gray 900\r\n\ttextInverse: '#FFFFFF', // Gray 100\r\n\tsurface: '#EEEEEE', // Gray 200\r\n\tsurfaceInset: '#FFFFFF', // Gray 100 (for inset areas)\r\n\r\n\t// Legacy names for compatibility\r\n\tblack: '#262626',\r\n\twhite: '#FFFFFF',\r\n\r\n\t// Status colors (Mac OS 9 style)\r\n\tfocus: '#000080',\r\n\terror: '#CC0000',\r\n\tsuccess: '#008000',\r\n\twarning: '#FF8C00',\r\n} as const;\r\n\r\n/**\r\n * Typography tokens\r\n * Based on Figma text styles and authentic Mac OS 9 system fonts\r\n * \r\n * Mac OS 9 Typography:\r\n * - Charcoal: Primary system UI font (menus, buttons, dialogs)\r\n * - Geneva: Body text and secondary UI elements\r\n * - Chicago: Classic Mac system font (menu bar, earlier versions)\r\n * - Apple Garamond: Headlines and editorial content\r\n */\r\nexport const typography = {\r\n\tfontFamily: {\r\n\t\t// Charcoal - Primary system UI font used throughout Mac OS 9\r\n\t\t// Fallback chain: Try Charcoal variants, then Chicago, then modern system fonts\r\n\t\tsystem: 'Charcoal, \"Charcoal CY\", Chicago, \"Chicago Classic\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, Arial, sans-serif',\r\n\t\t\r\n\t\t// Geneva - Used for dialog text and body content in Mac OS 9\r\n\t\t// More readable for longer text than Charcoal\r\n\t\tbody: 'Geneva, \"Geneva CY\", \"Lucida Grande\", \"Lucida Sans Unicode\", sans-serif',\r\n\t\t\r\n\t\t// Apple Garamond Light - Used for headlines in Figma\r\n\t\tdisplay: '\"Apple Garamond Light\", \"Apple Garamond\", Garamond, Georgia, serif',\r\n\t\t\r\n\t\t// Chicago - Classic Mac OS system font (menu bar, classic UI)\r\n\t\tchicago: 'Chicago, \"Chicago Classic\", \"Charcoal CY\", Charcoal, monospace',\r\n\t\t\r\n\t\t// Monaco - Mac OS 9 monospace font\r\n\t\tmono: 'Monaco, \"Monaco CY\", \"SF Mono\", \"Courier New\", Courier, monospace',\r\n\t},\r\n\tfontSize: {\r\n\t\txs: '9px',   // Smallest UI text (9pt Chicago/Charcoal)\r\n\t\tsm: '10px',  // Small labels (10pt)\r\n\t\tmd: '12px',  // Standard UI text - Mac OS 9 default (12pt)\r\n\t\tlg: '13px',  // Slightly larger UI text\r\n\t\txl: '14px',  // Large UI text\r\n\t\t'2xl': '16px',  // Headings\r\n\t\t'3xl': '18px',  // Large headings\r\n\t\t'4xl': '20px',  // Major headings\r\n\t\t'5xl': '24px',  // Display text\r\n\t},\r\n\tfontWeight: {\r\n\t\tnormal: 700,   // Charcoal Bold is the Mac OS 9 default\r\n\t\tmedium: 700,   // Medium (same as bold for Charcoal)\r\n\t\tsemibold: 700, // Semibold (same as bold)\r\n\t\tbold: 700,     // Bold weight\r\n\t\tlight: 400,    // Light weight (regular Charcoal)\r\n\t},\r\n\tlineHeight: {\r\n\t\ttight: 1.2,    // Tight leading (Mac OS 9 style)\r\n\t\tsnug: 1.3,     // Snug\r\n\t\tnormal: 1.4,   // Normal (Mac OS 9 used tighter line heights)\r\n\t\trelaxed: 1.5,  // Relaxed\r\n\t\tloose: 1.6,    // Loose\r\n\t},\r\n\tletterSpacing: {\r\n\t\ttighter: '-0.02em', // Slightly tighter\r\n\t\ttight: '-0.01em',   // Tight\r\n\t\tnormal: '0',        // Normal - Mac OS 9 default\r\n\t\twide: '0.01em',     // Wide\r\n\t\twider: '0.02em',    // Wider\r\n\t},\r\n} as const;\r\n\r\n/**\r\n * Spacing tokens based on Mac OS 9 measurements\r\n * Mac OS 9 used tight spacing; using 2px as base unit\r\n */\r\nexport const spacing = {\r\n\t'0': '0',\r\n\tpx: '1px',\r\n\t'0.5': '2px', // Minimal spacing\r\n\t'1': '4px', // Base grid unit\r\n\t'1.5': '6px',\r\n\t'2': '8px',\r\n\t'2.5': '10px',\r\n\t'3': '12px',\r\n\t'4': '16px',\r\n\t'5': '20px',\r\n\t'6': '24px',\r\n\t'8': '32px',\r\n\t'10': '40px',\r\n\t'12': '48px',\r\n\t'16': '64px',\r\n\r\n\t// Legacy names\r\n\txs: '2px',\r\n\tsm: '4px',\r\n\tmd: '8px',\r\n\tlg: '12px',\r\n\txl: '16px',\r\n\t'2xl': '24px',\r\n\t'3xl': '32px',\r\n} as const;\r\n\r\n/**\r\n * Shadow tokens for Mac OS 9 bevel effects\r\n * Exact values from Figma Window Shadow effect (67:95038)\r\n * \r\n * Classic 3-layer bevel:\r\n * 1. Hard drop shadow (2px, 2px, 0 blur) - creates depth\r\n * 2. Top-left highlight (light inner shadow)\r\n * 3. Bottom-right shadow (dark inner shadow)\r\n */\r\nexport const shadows = {\r\n\t// Standard raised bevel (default button state)\r\n\tbevel:\r\n\t\t'inset 2px 2px 0 rgba(255, 255, 255, 0.6), inset -2px -2px 0 rgba(38, 38, 38, 0.4), 2px 2px 0 rgba(38, 38, 38, 1)',\r\n\r\n\t// Inverted bevel for pressed/inset states\r\n\tinset:\r\n\t\t'inset -2px -2px 0 rgba(255, 255, 255, 0.6), inset 2px 2px 0 rgba(38, 38, 38, 0.4), 2px 2px 0 rgba(38, 38, 38, 1)',\r\n\r\n\t// Individual layers for custom composition\r\n\tdropShadow: '2px 2px 0 rgba(38, 38, 38, 1)',\r\n\tinnerHighlight: 'inset 2px 2px 0 rgba(255, 255, 255, 0.6)',\r\n\tinnerShadow: 'inset -2px -2px 0 rgba(38, 38, 38, 0.4)',\r\n\r\n\t// Legacy format for compatibility\r\n\traised: {\r\n\t\thighlight: 'inset 2px 2px 0 rgba(255, 255, 255, 0.6)',\r\n\t\tshadow: 'inset -2px -2px 0 rgba(38, 38, 38, 0.4)',\r\n\t\tfull: 'inset 2px 2px 0 rgba(255, 255, 255, 0.6), inset -2px -2px 0 rgba(38, 38, 38, 0.4), 2px 2px 0 rgba(38, 38, 38, 1)',\r\n\t},\r\n\r\n\t// No shadow (flat)\r\n\tnone: 'none',\r\n} as const;\r\n\r\n/**\r\n * Border tokens\r\n * Mac OS 9 used consistent 1px borders with sharp corners\r\n */\r\nexport const borders = {\r\n\twidth: {\r\n\t\tnone: '0',\r\n\t\tthin: '1px',\r\n\t\tmedium: '2px',\r\n\t\tthick: '3px',\r\n\t},\r\n\tstyle: {\r\n\t\tsolid: 'solid',\r\n\t\tdashed: 'dashed',\r\n\t\tdotted: 'dotted',\r\n\t\tnone: 'none',\r\n\t},\r\n\tradius: {\r\n\t\tnone: '0', // Mac OS 9 always used square corners\r\n\t\tsm: '0', // Kept for API consistency\r\n\t\tmd: '0',\r\n\t\tlg: '0',\r\n\t\tfull: '0',\r\n\t},\r\n} as const;\r\n\r\n/**\r\n * Z-index scale for layering\r\n */\r\nexport const zIndex = {\r\n\tbase: 0,\r\n\tdropdown: 1000,\r\n\tsticky: 1100,\r\n\tmodal: 1200,\r\n\tpopover: 1300,\r\n\ttooltip: 1400,\r\n} as const;\r\n\r\n/**\r\n * Transition/Animation tokens\r\n * Mac OS 9 had minimal animations, but we add subtle ones for modern feel\r\n */\r\nexport const transitions = {\r\n\tduration: {\r\n\t\tinstant: '0ms',\r\n\t\tfast: '100ms',\r\n\t\tnormal: '200ms',\r\n\t\tslow: '300ms',\r\n\t},\r\n\ttiming: {\r\n\t\tlinear: 'linear',\r\n\t\teaseIn: 'cubic-bezier(0.4, 0, 1, 1)',\r\n\t\teaseOut: 'cubic-bezier(0, 0, 0.2, 1)',\r\n\t\teaseInOut: 'cubic-bezier(0.4, 0, 0.2, 1)',\r\n\t},\r\n} as const;\r\n\r\n// Export all tokens as a single object\r\nexport const tokens = {\r\n\tcolors,\r\n\ttypography,\r\n\tspacing,\r\n\tborders,\r\n\tshadows,\r\n\tzIndex,\r\n\ttransitions,\r\n} as const;\r\n\r\nexport default tokens;"],"names":["forwardRef","styles","_jsx","_jsxs","_Fragment","useState","Children","isValidElement","useCallback","useRef","useEffect"],"mappings":";;;;;;;;AA2JA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCG;AACI,MAAM,MAAM,GAAGA,gBAAU,CAC/B,CAAC,KAAK,EAAE,GAAG,KAAI;IACd,MAAM,EACL,OAAO,GAAG,SAAS,EACnB,IAAI,GAAG,IAAI,EACX,QAAQ,GAAG,KAAK,EAChB,SAAS,GAAG,KAAK,EACjB,OAAO,GAAG,KAAK,EACf,WAAW,EACX,gBAAgB,GAAG,KAAK,EACxB,QAAQ,EACR,SAAS,EACT,QAAQ,GAAG,KAAK,EAChB,SAAS,EACT,eAAe,EACf,WAAW,EACX,SAAS,GAAG,EAAE,EACd,QAAQ,EACR,GAAG,SAAS,EACZ,GAAG,KAAK;;AAGT,IAAA,MAAM,MAAM,GAAG,KAAK,CAAC,EAAE,KAAK,GAAG;;AAI/B,IAAA,MAAM,UAAU,GAAG;AAClB,QAAAC,QAAM,CAAC,MAAM;AACb,QAAAA,QAAM,CAAC,CAAA,QAAA,EAAW,OAAO,CAAA,CAAE,CAAC;AAC5B,QAAAA,QAAM,CAAC,CAAA,QAAA,EAAW,IAAI,CAAA,CAAE,CAAC;AACzB,QAAA,SAAS,IAAIA,QAAM,CAAC,oBAAoB,CAAC;AACzC,QAAA,QAAQ,IAAIA,QAAM,CAAC,kBAAkB,CAAC;AACtC,QAAA,OAAO,IAAIA,QAAM,CAAC,iBAAiB,CAAC;AACpC,QAAA,OAAO,IAAI,gBAAgB,IAAIA,QAAM,CAAC,wBAAwB,CAAC;AAC/D,QAAA,QAAQ,IAAIA,QAAM,CAAC,mBAAmB,CAAC;QACvC,CAAC,QAAQ,IAAI,SAAS,KAAKA,QAAM,CAAC,mBAAmB,CAAC;QACtD,SAAS;AACT;SACC,MAAM,CAAC,OAAO;SACd,IAAI,CAAC,GAAG,CAAC;;AAGX,IAAA,MAAM,cAAc,GAAwB;QAC3C,YAAY,EAAE,QAAQ,IAAI,SAAS,KAAK,OAAO,QAAQ,KAAK,QAAQ,GAAG,QAAQ,GAAG,SAAS,CAAC,IAAI,SAAS;AACzG,QAAA,kBAAkB,EAAE,eAAe;AACnC,QAAA,cAAc,EAAE,WAAW;QAC3B,eAAe,EAAE,QAAQ,IAAI,OAAO;AACpC,QAAA,WAAW,EAAE,OAAO;KACpB;;IAGD,IAAI,MAAM,EAAE;AACX,QAAA,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,EAAE,QAAQ,EAAE,GAAG,SAAS,EAAE,GAAG,SAAyB;;QAG/E,IAAI,QAAQ,GAAG,GAAG;AAClB,QAAA,IAAI,MAAM,KAAK,QAAQ,IAAI,CAAC,GAAG,EAAE;YAChC,QAAQ,GAAG,qBAAqB;QACjC;;AAGA,QAAA,MAAM,WAAW,GAAG,CAAC,CAAsC,KAAI;AAC9D,YAAA,IAAI,QAAQ,IAAI,OAAO,EAAE;gBACxB,CAAC,CAAC,cAAc,EAAE;gBAClB;YACD;AACA,YAAA,SAAS,CAAC,OAAO,GAAG,CAAC,CAAC;AACvB,QAAA,CAAC;QAED,QACCC,sBACC,GAAG,EAAE,GAAmC,EACxC,IAAI,EAAE,QAAQ,IAAI,OAAO,GAAG,SAAS,GAAG,IAAI,EAC5C,MAAM,EAAE,MAAM,EACd,GAAG,EAAE,QAAQ,EACb,QAAQ,EAAE,QAAQ,EAClB,SAAS,EAAE,UAAU,EAAA,GACjB,cAAc,KACd,SAAS,EACb,OAAO,EAAE,WAAW,YAEnB,mBAAmB,EAAE,EAAA,CACnB;IAEN;;IAGA,MAAM,EACL,IAAI,GAAG,QAAQ,EACf,IAAI,EACJ,UAAU,EACV,UAAU,EACV,cAAc,EACd,UAAU,EACV,GAAG,WAAW,EACd,GAAG,SAA2B;IAE/B,QACCA,2BACC,GAAG,EAAE,GAAmC,EACxC,IAAI,EAAE,IAAI,EACV,QAAQ,EAAE,QAAQ,IAAI,OAAO,EAC7B,IAAI,EAAE,IAAI,EACV,UAAU,EAAE,UAAU,EACtB,UAAU,EAAE,UAAU,EACtB,cAAc,EAAE,cAAc,EAC9B,UAAU,EAAE,UAAU,EACtB,SAAS,EAAE,UAAU,EAAA,GACjB,cAAc,EAAA,GACd,WAAW,YAEd,mBAAmB,EAAE,EAAA,CACd;;AAIV,IAAA,SAAS,mBAAmB,GAAA;;QAE3B,IAAI,OAAO,EAAE;AACZ,YAAA,QACCC,eAAA,CAAAC,mBAAA,EAAA,EAAA,QAAA,EAAA,CACE,CAAC,gBAAgB,KACjBF,cAAA,CAAA,MAAA,EAAA,EAAM,SAAS,EAAED,QAAM,CAAC,yBAAyB,CAAC,iBAAc,MAAM,EAAA,QAAA,EAAA,QAAA,EAAA,CAE/D,CACP,EACDC,cAAA,CAAA,MAAA,EAAA,EAAM,SAAS,EAAED,QAAM,CAAC,cAAc,CAAC,EAAA,QAAA,EACrC,WAAW,IAAI,QAAQ,EAAA,CAClB,CAAA,EAAA,CACL;QAEL;;QAGA,IAAI,QAAQ,EAAE;YACb,OAAOC,cAAA,CAAA,MAAA,EAAA,EAAM,SAAS,EAAED,QAAM,CAAC,mBAAmB,CAAC,EAAA,QAAA,EAAG,QAAQ,EAAA,CAAQ;QACvE;;QAGA,QACCE,kDACE,QAAQ,KACRD,cAAA,CAAA,MAAA,EAAA,EAAM,SAAS,EAAED,QAAM,CAAC,mBAAmB,CAAC,EAAA,aAAA,EAAc,MAAM,YAC9D,QAAQ,EAAA,CACH,CACP,EACDC,cAAA,CAAA,MAAA,EAAA,EAAM,SAAS,EAAED,QAAM,CAAC,cAAc,CAAC,EAAA,QAAA,EAAG,QAAQ,EAAA,CAAQ,EACzD,SAAS,KACTC,cAAA,CAAA,MAAA,EAAA,EAAM,SAAS,EAAED,QAAM,CAAC,oBAAoB,CAAC,iBAAc,MAAM,EAAA,QAAA,EAC/D,SAAS,EAAA,CACJ,CACP,CAAA,EAAA,CACC;IAEL;AACD,CAAC;AAGF,MAAM,CAAC,WAAW,GAAG,QAAQ;;;;AC9T7B;;;;;;;;;;;;;;;;AAgBG;AACI,MAAM,IAAI,GAAGD,gBAAU,CAC7B,CAAC,EAAE,IAAI,GAAG,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,SAAS,GAAG,EAAE,EAAE,GAAG,KAAK,EAAE,EAAE,GAAG,KAAI;AACpE,IAAA,MAAM,UAAU,GAAG,CAACC,QAAM,CAAC,IAAI,EAAEA,QAAM,CAAC,SAAS,IAAI,CAAA,CAAE,CAAC,EAAE,SAAS;SACjE,MAAM,CAAC,OAAO;SACd,IAAI,CAAC,GAAG,CAAC;IAEV,QACCC,wBACC,GAAG,EAAE,GAAG,EACR,SAAS,EAAE,UAAU,EACrB,OAAO,EAAC,WAAW,EACnB,IAAI,EAAC,cAAc,EACnB,KAAK,EAAC,4BAA4B,EAAA,YAAA,EACtB,KAAK,EAAA,aAAA,EACJ,CAAC,KAAK,EACnB,IAAI,EAAE,KAAK,GAAG,KAAK,GAAG,cAAc,EAAA,GAChC,KAAK,YAER,QAAQ,EAAA,CACJ;AAER,CAAC;AAGF,IAAI,CAAC,WAAW,GAAG,MAAM;;AChEzB;;;;AAIG;AACI,MAAM,WAAW,GAAa,OACpCC,eAAA,CAAC,IAAI,EAAA,EAAC,KAAK,EAAC,SAAS,EAAC,IAAI,EAAC,IAAI,EAAC,OAAO,EAAC,WAAW,aAClDA,eAAA,CAAA,GAAA,EAAA,EAAG,QAAQ,EAAC,uBAAuB,aAClCD,cAAA,CAAA,MAAA,EAAA,EAAM,CAAC,EAAC,iBAAiB,EAAC,IAAI,EAAC,SAAS,EAAA,CAAG,EAC3CA,cAAA,CAAA,MAAA,EAAA,EAAM,CAAC,EAAC,gBAAgB,EAAC,IAAI,EAAC,SAAS,EAAA,CAAG,EAC1CA,cAAA,CAAA,MAAA,EAAA,EAAM,CAAC,EAAC,gBAAgB,EAAC,IAAI,EAAC,OAAO,EAAA,CAAG,EACxCA,cAAA,CAAA,MAAA,EAAA,EAAM,CAAC,EAAC,eAAe,EAAC,IAAI,EAAC,OAAO,EAAA,CAAG,EACvCA,cAAA,CAAA,MAAA,EAAA,EAAM,CAAC,EAAC,kBAAkB,EAAC,IAAI,EAAC,SAAS,EAAA,CAAG,EAC5CA,yBAAM,CAAC,EAAC,kBAAkB,EAAC,IAAI,EAAC,SAAS,EAAA,CAAG,EAC5CA,cAAA,CAAA,MAAA,EAAA,EAAM,CAAC,EAAC,kBAAkB,EAAC,IAAI,EAAC,SAAS,GAAG,EAC5CA,cAAA,CAAA,MAAA,EAAA,EAAM,CAAC,EAAC,eAAe,EAAC,IAAI,EAAC,SAAS,GAAG,EACzCA,cAAA,CAAA,MAAA,EAAA,EAAM,CAAC,EAAC,eAAe,EAAC,IAAI,EAAC,SAAS,EAAA,CAAG,EACzCA,cAAA,CAAA,MAAA,EAAA,EAAM,CAAC,EAAC,kBAAkB,EAAC,IAAI,EAAC,OAAO,EAAA,CAAG,EAC1CA,cAAA,CAAA,MAAA,EAAA,EAAM,CAAC,EAAC,kBAAkB,EAAC,IAAI,EAAC,OAAO,EAAA,CAAG,EAC1CA,yBAAM,CAAC,EAAC,kBAAkB,EAAC,IAAI,EAAC,OAAO,EAAA,CAAG,EAC1CA,cAAA,CAAA,MAAA,EAAA,EAAM,CAAC,EAAC,gBAAgB,EAAC,IAAI,EAAC,OAAO,EAAA,CAAG,EACxCA,cAAA,CAAA,MAAA,EAAA,EAAM,CAAC,EAAC,eAAe,EAAC,IAAI,EAAC,OAAO,EAAA,CAAG,EACvCA,cAAA,CAAA,MAAA,EAAA,EAAM,CAAC,EAAC,kBAAkB,EAAC,IAAI,EAAC,SAAS,EAAA,CAAG,EAC5CA,cAAA,CAAA,MAAA,EAAA,EAAM,CAAC,EAAC,kBAAkB,EAAC,IAAI,EAAC,SAAS,EAAA,CAAG,EAC5CA,cAAA,CAAA,MAAA,EAAA,EAAM,CAAC,EAAC,kBAAkB,EAAC,IAAI,EAAC,SAAS,EAAA,CAAG,EAC5CA,yBAAM,CAAC,EAAC,eAAe,EAAC,IAAI,EAAC,SAAS,EAAA,CAAG,EACzCA,cAAA,CAAA,MAAA,EAAA,EAAM,CAAC,EAAC,eAAe,EAAC,IAAI,EAAC,SAAS,EAAA,CAAG,EACzCA,cAAA,CAAA,MAAA,EAAA,EAAM,CAAC,EAAC,kBAAkB,EAAC,IAAI,EAAC,SAAS,GAAG,EAC5CA,cAAA,CAAA,MAAA,EAAA,EAAM,CAAC,EAAC,kBAAkB,EAAC,IAAI,EAAC,SAAS,EAAA,CAAG,EAC5CA,cAAA,CAAA,MAAA,EAAA,EAAM,CAAC,EAAC,kBAAkB,EAAC,IAAI,EAAC,SAAS,EAAA,CAAG,EAC5CA,cAAA,CAAA,MAAA,EAAA,EAAM,CAAC,EAAC,gBAAgB,EAAC,IAAI,EAAC,SAAS,EAAA,CAAG,EAC1CA,cAAA,CAAA,MAAA,EAAA,EAAM,CAAC,EAAC,eAAe,EAAC,IAAI,EAAC,SAAS,EAAA,CAAG,CAAA,EAAA,CACtC,EACJA,cAAA,CAAA,MAAA,EAAA,EAAA,QAAA,EACCA,cAAA,CAAA,UAAA,EAAA,EAAU,EAAE,EAAC,iBAAiB,EAAA,QAAA,EAC7BA,cAAA,CAAA,MAAA,EAAA,EAAM,KAAK,EAAC,IAAI,EAAC,MAAM,EAAC,IAAI,EAAC,IAAI,EAAC,OAAO,EAAA,CAAG,EAAA,CAClC,EAAA,CACL,CAAA,EAAA,CACD;;AC5CR;AACA;AAIA;;;AAGG;AACI,MAAM,YAAY,GAAG;;AAE3B,IAAA,OAAO,EAAE,WAAW;CACX;AAQV;;;;AAIG;AACG,SAAU,OAAO,CAAC,IAAc,EAAA;AACrC,IAAA,OAAO,YAAY,CAAC,IAAI,CAAC;AAC1B;;ACNA;;;;;;;;;;;;AAYG;AACI,MAAM,WAAW,GAA+B,CAAC,EAAE,IAAI,EAAE,GAAG,KAAK,EAAE,KAAI;AAC7E,IAAA,MAAM,aAAa,GAAG,OAAO,CAAC,IAAI,CAAC;IAEnC,IAAI,CAAC,aAAa,EAAE;AACnB,QAAA,OAAO,CAAC,IAAI,CAAC,SAAS,IAAI,CAAA,uBAAA,CAAyB,CAAC;AACpD,QAAA,OAAO,IAAI;IACZ;;AAGA,IAAA,OAAOA,cAAA,CAAC,aAAa,EAAA,EAAA,GAAK,KAAK,GAAI;AACpC;AAEA,WAAW,CAAC,WAAW,GAAG,aAAa;;;;AC9CvC;AACA;AAgDA;;;;;;;;;;;;;;;;;;;;;;;;;AAyBG;AACI,MAAM,UAAU,GAAGF,gBAAU,CACnC,CACC,EACC,IAAI,EACJ,KAAK,EACL,aAAa,GAAG,OAAO,EACvB,OAAO,GAAG,SAAS,EACnB,IAAI,GAAG,IAAI,EACX,QAAQ,GAAG,KAAK,EAChB,SAAS,GAAG,EAAE,EACd,GAAG,KAAK,EACR,EACD,GAAG,KACA;;AAEH,IAAA,MAAM,UAAU,GAAG;AAClB,QAAAC,QAAM,CAAC,UAAU;AACjB,QAAAA,QAAM,CAAC,CAAA,YAAA,EAAe,OAAO,CAAA,CAAE,CAAC;AAChC,QAAAA,QAAM,CAAC,CAAA,YAAA,EAAe,IAAI,CAAA,CAAE,CAAC;AAC7B,QAAA,KAAK,IAAIA,QAAM,CAAC,wBAAwB,CAAC;AACzC,QAAA,KAAK,IAAIA,QAAM,CAAC,CAAA,kBAAA,EAAqB,aAAa,EAAE,CAAC;AACrD,QAAA,QAAQ,IAAIA,QAAM,CAAC,sBAAsB,CAAC;QAC1C,SAAS;AACT;SACC,MAAM,CAAC,OAAO;SACd,IAAI,CAAC,GAAG,CAAC;AAEX,IAAA,QACCE,eAAA,CAAA,QAAA,EAAA,EACC,GAAG,EAAE,GAAG,EACR,IAAI,EAAC,QAAQ,EACb,SAAS,EAAE,UAAU,EACrB,QAAQ,EAAE,QAAQ,EAAA,GACd,KAAK,EAAA,QAAA,EAAA,CAEV,KAAK,KAAK,aAAa,KAAK,MAAM,IAAI,aAAa,KAAK,KAAK,CAAC,KAC9DD,yBAAM,SAAS,EAAED,QAAM,CAAC,KAAK,EAAA,QAAA,EAAG,KAAK,GAAQ,CAC7C,EACDC,cAAA,CAAA,MAAA,EAAA,EAAM,SAAS,EAAED,QAAM,CAAC,IAAI,EAAA,QAAA,EAAG,IAAI,EAAA,CAAQ,EAC1C,KAAK,KAAK,aAAa,KAAK,OAAO,IAAI,aAAa,KAAK,QAAQ,CAAC,KAClEC,yBAAM,SAAS,EAAED,QAAM,CAAC,KAAK,EAAA,QAAA,EAAG,KAAK,GAAQ,CAC7C,CAAA,EAAA,CACS;AAEX,CAAC;AAGF,UAAU,CAAC,WAAW,GAAG,YAAY;;;;AC7CrC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCG;AACI,MAAM,QAAQ,GAAGD,gBAAU,CACjC,CACC,EACC,OAAO,EACP,cAAc,EACd,aAAa,GAAG,KAAK,EACrB,QAAQ,GAAG,KAAK,EAChB,KAAK,EACL,aAAa,GAAG,OAAO,EACvB,IAAI,GAAG,IAAI,EACX,KAAK,GAAG,KAAK,EACb,SAAS,EACT,eAAe,EACf,SAAS,GAAG,EAAE,EACd,QAAQ,EACR,EAAE,EACF,GAAG,KAAK,EACR,EACD,GAAG,KACA;IACH,MAAM,QAAQ,GAAG,KAAK,CAAC,MAAM,CAAmB,IAAI,CAAC;AACrD,IAAA,MAAM,WAAW,GAAI,GAAyC,IAAI,QAAQ;;AAG1E,IAAA,KAAK,CAAC,SAAS,CAAC,MAAK;AACpB,QAAA,IAAI,WAAW,EAAE,OAAO,EAAE;AACzB,YAAA,WAAW,CAAC,OAAO,CAAC,aAAa,GAAG,aAAa;QAClD;AACD,IAAA,CAAC,EAAE,CAAC,aAAa,EAAE,WAAW,CAAC,CAAC;;IAGhC,MAAM,UAAU,GAAG,EAAE,IAAI,KAAK,CAAC,KAAK,EAAE;;AAGvC,IAAA,MAAM,iBAAiB,GAAG;AACzB,QAAAC,QAAM,CAAC,OAAO;AACd,QAAAA,QAAM,CAAC,CAAA,SAAA,EAAY,IAAI,CAAA,CAAE,CAAC;AAC1B,QAAAA,QAAM,CAAC,CAAA,eAAA,EAAkB,aAAa,CAAA,CAAE,CAAC;AACzC,QAAA,QAAQ,IAAIA,QAAM,CAAC,mBAAmB,CAAC;AACvC,QAAA,KAAK,IAAIA,QAAM,CAAC,gBAAgB,CAAC;QACjC,SAAS;AACT;SACC,MAAM,CAAC,OAAO;SACd,IAAI,CAAC,GAAG,CAAC;AAEX,IAAA,MAAM,kBAAkB,GAAG;AAC1B,QAAAA,QAAM,CAAC,QAAQ;AACf,QAAAA,QAAM,CAAC,CAAA,UAAA,EAAa,IAAI,CAAA,CAAE,CAAC;AAC3B,QAAA,aAAa,IAAIA,QAAM,CAAC,yBAAyB,CAAC;AAClD,QAAA,KAAK,IAAIA,QAAM,CAAC,iBAAiB,CAAC;AAClC;SACC,MAAM,CAAC,OAAO;SACd,IAAI,CAAC,GAAG,CAAC;IAEX,MAAM,eAAe,GAAG,CAACA,QAAM,CAAC,KAAK,EAAEA,QAAM,CAAC,CAAA,OAAA,EAAU,IAAI,CAAA,CAAE,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;;AAGzF,IAAA,MAAM,cAAc,GAAG;QACtB,YAAY,EAAE,CAAC,KAAK,GAAG,SAAS,GAAG,SAAS;AAC5C,QAAA,kBAAkB,EAAE,eAAe;AACnC,QAAA,cAAc,EAAE,KAAK;QACrB,cAAc,EAAE,aAAa,GAAI,OAAiB,GAAG,SAAS;KAC9D;AAED,IAAA,QACCE,eAAA,CAAA,KAAA,EAAA,EAAK,SAAS,EAAE,iBAAiB,EAAA,QAAA,EAAA,CAC/B,KAAK,IAAI,aAAa,KAAK,MAAM,KACjCD,cAAA,CAAA,OAAA,EAAA,EAAO,OAAO,EAAE,UAAU,EAAE,SAAS,EAAE,eAAe,EAAA,QAAA,EACpD,KAAK,EAAA,CACC,CACR,EAEDA,cAAA,CAAA,OAAA,EAAA,EACC,GAAG,EAAE,WAAW,EAChB,IAAI,EAAC,UAAU,EACf,EAAE,EAAE,UAAU,EACd,SAAS,EAAE,kBAAkB,EAC7B,OAAO,EAAE,OAAO,EAChB,cAAc,EAAE,cAAc,EAC9B,QAAQ,EAAE,QAAQ,EAClB,QAAQ,EAAE,QAAQ,KACd,cAAc,EAAA,GACd,KAAK,EAAA,CACR,EAED,KAAK,IAAI,aAAa,KAAK,OAAO,KAClCA,cAAA,CAAA,OAAA,EAAA,EAAO,OAAO,EAAE,UAAU,EAAE,SAAS,EAAE,eAAe,EAAA,QAAA,EACpD,KAAK,GACC,CACR,CAAA,EAAA,CACI;AAER,CAAC;AAGF,QAAQ,CAAC,WAAW,GAAG,UAAU;;;;AChIjC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CG;AACI,MAAM,KAAK,GAAGF,gBAAU,CAC9B,CACC,EACC,OAAO,EACP,cAAc,EACd,QAAQ,GAAG,KAAK,EAChB,KAAK,EACL,aAAa,GAAG,OAAO,EACvB,IAAI,GAAG,IAAI,EACX,KAAK,GAAG,KAAK,EACb,SAAS,EACT,eAAe,EACf,SAAS,GAAG,EAAE,EACd,KAAK,EACL,IAAI,EACJ,QAAQ,EACR,EAAE,EACF,GAAG,KAAK,EACR,EACD,GAAG,KACA;;IAEH,MAAM,OAAO,GAAG,EAAE,IAAI,KAAK,CAAC,KAAK,EAAE;;AAGpC,IAAA,MAAM,iBAAiB,GAAG;AACzB,QAAAC,QAAM,CAAC,OAAO;AACd,QAAAA,QAAM,CAAC,CAAA,SAAA,EAAY,IAAI,CAAA,CAAE,CAAC;AAC1B,QAAAA,QAAM,CAAC,CAAA,eAAA,EAAkB,aAAa,CAAA,CAAE,CAAC;AACzC,QAAA,QAAQ,IAAIA,QAAM,CAAC,mBAAmB,CAAC;AACvC,QAAA,KAAK,IAAIA,QAAM,CAAC,gBAAgB,CAAC;QACjC,SAAS;AACT;SACC,MAAM,CAAC,OAAO;SACd,IAAI,CAAC,GAAG,CAAC;AAEX,IAAA,MAAM,eAAe,GAAG;AACvB,QAAAA,QAAM,CAAC,KAAK;AACZ,QAAAA,QAAM,CAAC,CAAA,OAAA,EAAU,IAAI,CAAA,CAAE,CAAC;AACxB,QAAA,KAAK,IAAIA,QAAM,CAAC,cAAc,CAAC;AAC/B;SACC,MAAM,CAAC,OAAO;SACd,IAAI,CAAC,GAAG,CAAC;IAEX,MAAM,eAAe,GAAG,CAACA,QAAM,CAAC,KAAK,EAAEA,QAAM,CAAC,CAAA,OAAA,EAAU,IAAI,CAAA,CAAE,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;;AAGzF,IAAA,MAAM,cAAc,GAAG;QACtB,YAAY,EAAE,CAAC,KAAK,GAAG,SAAS,GAAG,SAAS;AAC5C,QAAA,kBAAkB,EAAE,eAAe;AACnC,QAAA,cAAc,EAAE,KAAK;KACrB;IAED,QACCE,yBAAK,SAAS,EAAE,iBAAiB,EAAA,QAAA,EAAA,CAC/B,KAAK,IAAI,aAAa,KAAK,MAAM,KACjCD,0BAAO,OAAO,EAAE,OAAO,EAAE,SAAS,EAAE,eAAe,EAAA,QAAA,EACjD,KAAK,EAAA,CACC,CACR,EAEDA,cAAA,CAAA,OAAA,EAAA,EACC,GAAG,EAAE,GAAG,EACR,IAAI,EAAC,OAAO,EACZ,EAAE,EAAE,OAAO,EACX,SAAS,EAAE,eAAe,EAC1B,OAAO,EAAE,OAAO,EAChB,cAAc,EAAE,cAAc,EAC9B,QAAQ,EAAE,QAAQ,EAClB,KAAK,EAAE,KAAK,EACZ,IAAI,EAAE,IAAI,EACV,QAAQ,EAAE,QAAQ,EAAA,GACd,cAAc,EAAA,GACd,KAAK,GACR,EAED,KAAK,IAAI,aAAa,KAAK,OAAO,KAClCA,0BAAO,OAAO,EAAE,OAAO,EAAE,SAAS,EAAE,eAAe,EAAA,QAAA,EACjD,KAAK,EAAA,CACC,CACR,CAAA,EAAA,CACI;AAER,CAAC;AAGF,KAAK,CAAC,WAAW,GAAG,OAAO;;;;ACnI3B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCG;AACI,MAAM,SAAS,GAAGF,gBAAU,CAClC,CACC,EACC,KAAK,EACL,aAAa,GAAG,KAAK,EACrB,IAAI,GAAG,IAAI,EACX,SAAS,GAAG,KAAK,EACjB,KAAK,GAAG,KAAK,EACb,YAAY,EACZ,UAAU,EACV,QAAQ,EACR,SAAS,EACT,SAAS,EACT,eAAe,EACf,SAAS,GAAG,EAAE,EACd,gBAAgB,GAAG,EAAE,EACrB,IAAI,GAAG,MAAM,EACb,EAAE,EACF,QAAQ,EACR,GAAG,KAAK,EACR,EACD,GAAG,KACA;;IAEH,MAAM,OAAO,GAAG,EAAE,IAAI,KAAK,CAAC,KAAK,EAAE;;AAGnC,IAAA,MAAM,QAAQ,GAAG,CAAA,EAAG,OAAO,SAAS;AACpC,IAAA,MAAM,OAAO,GAAG,CAAA,EAAG,OAAO,QAAQ;;AAGlC,IAAA,MAAM,cAAc,GAAG;AACtB,QAAA,UAAU,IAAI,QAAQ;QACtB,KAAK,IAAI,YAAY,IAAI,OAAO;QAChC,eAAe;AACf;SACC,MAAM,CAAC,OAAO;SACd,IAAI,CAAC,GAAG,CAAC;;AAGZ,IAAA,MAAM,iBAAiB,GAAG;AACzB,QAAAC,QAAM,CAAC,OAAO;AACd,QAAAA,QAAM,CAAC,CAAA,SAAA,EAAY,IAAI,CAAA,CAAE,CAAC;AAC1B,QAAAA,QAAM,CAAC,CAAA,eAAA,EAAkB,aAAa,CAAA,CAAE,CAAC;AACzC,QAAA,SAAS,IAAIA,QAAM,CAAC,qBAAqB,CAAC;AAC1C,QAAA,QAAQ,IAAIA,QAAM,CAAC,mBAAmB,CAAC;QACvC,gBAAgB;AAChB;SACC,MAAM,CAAC,OAAO;SACd,IAAI,CAAC,GAAG,CAAC;AAEX,IAAA,MAAM,sBAAsB,GAAG;QAC9BA,QAAM,CAAC,eAAe,CAAC;QACvB,CAAC,QAAQ,IAAI,SAAS,KAAKA,QAAM,CAAC,0BAA0B,CAAC;AAC7D,QAAA,QAAQ,IAAIA,QAAM,CAAC,+BAA+B,CAAC;AACnD,QAAA,SAAS,IAAIA,QAAM,CAAC,gCAAgC,CAAC;AACrD;SACC,MAAM,CAAC,OAAO;SACd,IAAI,CAAC,GAAG,CAAC;AAEX,IAAA,MAAM,eAAe,GAAG;AACvB,QAAAA,QAAM,CAAC,KAAK;AACZ,QAAAA,QAAM,CAAC,CAAA,OAAA,EAAU,IAAI,CAAA,CAAE,CAAC;AACxB,QAAA,KAAK,IAAIA,QAAM,CAAC,cAAc,CAAC;AAC/B,QAAA,SAAS,IAAIA,QAAM,CAAC,mBAAmB,CAAC;QACxC,SAAS;AACT;SACC,MAAM,CAAC,OAAO;SACd,IAAI,CAAC,GAAG,CAAC;IAEX,MAAM,eAAe,GAAG,CAACA,QAAM,CAAC,KAAK,EAAEA,QAAM,CAAC,CAAA,OAAA,EAAU,IAAI,CAAA,CAAE,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;;AAGzF,IAAA,MAAM,cAAc,GAAG;QACtB,YAAY,EAAE,CAAC,KAAK,GAAG,SAAS,GAAG,SAAS;QAC5C,kBAAkB,EAAE,cAAc,IAAI,SAAS;AAC/C,QAAA,cAAc,EAAE,KAAK;KACrB;AAED,IAAA,QACCE,eAAA,CAAA,KAAA,EAAA,EAAK,SAAS,EAAE,iBAAiB,aAC/B,KAAK,KAAK,aAAa,KAAK,KAAK,IAAI,aAAa,KAAK,MAAM,CAAC,KAC9DD,cAAA,CAAA,OAAA,EAAA,EAAO,OAAO,EAAE,OAAO,EAAE,SAAS,EAAE,eAAe,EAAA,QAAA,EACjD,KAAK,EAAA,CACC,CACR,EAEDC,eAAA,CAAA,KAAA,EAAA,EAAK,SAAS,EAAE,sBAAsB,aACtC,QAAQ,KACRD,cAAA,CAAA,MAAA,EAAA,EAAM,SAAS,EAAED,QAAM,CAAC,iBAAiB,CAAC,EAAA,aAAA,EAAc,MAAM,EAAA,QAAA,EAC5D,QAAQ,GACH,CACP,EAEDC,0BACC,GAAG,EAAE,GAAG,EACR,IAAI,EAAE,IAAI,EACV,EAAE,EAAE,OAAO,EACX,SAAS,EAAE,eAAe,EAC1B,QAAQ,EAAE,QAAQ,EAAA,GACd,cAAc,EAAA,GACd,KAAK,GACR,EAED,SAAS,KACTA,yBAAM,SAAS,EAAED,QAAM,CAAC,kBAAkB,CAAC,EAAA,aAAA,EAAc,MAAM,EAAA,QAAA,EAC7D,SAAS,EAAA,CACJ,CACP,CAAA,EAAA,CACM,EAEL,KAAK,IAAI,aAAa,KAAK,OAAO,KAClCC,cAAA,CAAA,OAAA,EAAA,EAAO,OAAO,EAAE,OAAO,EAAE,SAAS,EAAE,eAAe,YACjD,KAAK,EAAA,CACC,CACR,EAEF,UAAU,IAAI,CAAC,KAAK,KACpBA,sBAAG,EAAE,EAAE,QAAQ,EAAE,SAAS,EAAED,QAAM,CAAC,aAAa,CAAC,EAAA,QAAA,EAC/C,UAAU,GACR,CACJ,EAEA,KAAK,IAAI,YAAY,KACrBC,sBAAG,EAAE,EAAE,OAAO,EAAE,SAAS,EAAED,QAAM,CAAC,eAAe,CAAC,EAAA,QAAA,EAChD,YAAY,GACV,CACJ,CAAA,EAAA,CACM;AAER,CAAC;AAGF,SAAS,CAAC,WAAW,GAAG,WAAW;;;;ACtKnC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCG;AACI,MAAM,MAAM,GAAGD,gBAAU,CAC/B,CACC,EACC,KAAK,EACL,aAAa,GAAG,KAAK,EACrB,IAAI,GAAG,IAAI,EACX,SAAS,GAAG,KAAK,EACjB,KAAK,GAAG,KAAK,EACb,YAAY,EACZ,UAAU,EACV,OAAO,EACP,WAAW,EACX,SAAS,EACT,eAAe,EACf,SAAS,GAAG,EAAE,EACd,gBAAgB,GAAG,EAAE,EACrB,EAAE,EACF,QAAQ,EACR,QAAQ,EACR,GAAG,KAAK,EACR,EACD,GAAG,KACA;;IAEH,MAAM,QAAQ,GAAG,EAAE,IAAI,KAAK,CAAC,KAAK,EAAE;;AAGpC,IAAA,MAAM,QAAQ,GAAG,CAAA,EAAG,QAAQ,SAAS;AACrC,IAAA,MAAM,OAAO,GAAG,CAAA,EAAG,QAAQ,QAAQ;;AAGnC,IAAA,MAAM,cAAc,GAAG;AACtB,QAAA,UAAU,IAAI,QAAQ;QACtB,KAAK,IAAI,YAAY,IAAI,OAAO;QAChC,eAAe;AACf;SACC,MAAM,CAAC,OAAO;SACd,IAAI,CAAC,GAAG,CAAC;;AAGX,IAAA,MAAM,iBAAiB,GAAG;AACzB,QAAAC,QAAM,CAAC,OAAO;AACd,QAAAA,QAAM,CAAC,CAAA,SAAA,EAAY,IAAI,CAAA,CAAE,CAAC;AAC1B,QAAAA,QAAM,CAAC,CAAA,eAAA,EAAkB,aAAa,CAAA,CAAE,CAAC;AACzC,QAAA,SAAS,IAAIA,QAAM,CAAC,qBAAqB,CAAC;AAC1C,QAAA,QAAQ,IAAIA,QAAM,CAAC,mBAAmB,CAAC;QACvC,gBAAgB;AAChB;SACC,MAAM,CAAC,OAAO;SACd,IAAI,CAAC,GAAG,CAAC;AAEX,IAAA,MAAM,gBAAgB,GAAG;AACxB,QAAAA,QAAM,CAAC,MAAM;AACb,QAAAA,QAAM,CAAC,CAAA,QAAA,EAAW,IAAI,CAAA,CAAE,CAAC;AACzB,QAAA,KAAK,IAAIA,QAAM,CAAC,eAAe,CAAC;AAChC,QAAA,SAAS,IAAIA,QAAM,CAAC,oBAAoB,CAAC;QACzC,SAAS;AACT;SACC,MAAM,CAAC,OAAO;SACd,IAAI,CAAC,GAAG,CAAC;IAEX,MAAM,eAAe,GAAG,CAACA,QAAM,CAAC,KAAK,EAAEA,QAAM,CAAC,CAAA,OAAA,EAAU,IAAI,CAAA,CAAE,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;;AAG1F,IAAA,MAAM,cAAc,GAAG;QACtB,YAAY,EAAE,CAAC,KAAK,GAAG,SAAS,GAAG,SAAS;QAC5C,kBAAkB,EAAE,cAAc,IAAI,SAAS;AAC/C,QAAA,cAAc,EAAE,KAAK;KACrB;;IAGD,MAAM,aAAa,GAAG,MAAK;QAC1B,IAAI,OAAO,EAAE;YACZ,QACCE,kDACE,WAAW,KACXD,cAAA,CAAA,QAAA,EAAA,EAAQ,KAAK,EAAC,EAAE,EAAC,QAAQ,kBACvB,WAAW,EAAA,CACJ,CACT,EACA,OAAO,CAAC,GAAG,CAAC,CAAC,MAAM,MACnBA,cAAA,CAAA,QAAA,EAAA,EAA2B,KAAK,EAAE,MAAM,CAAC,KAAK,EAAE,QAAQ,EAAE,MAAM,CAAC,QAAQ,EAAA,QAAA,EACvE,MAAM,CAAC,KAAK,EAAA,EADD,MAAM,CAAC,KAAK,CAEhB,CACT,CAAC,CAAA,EAAA,CACA;QAEL;AACA,QAAA,OAAO,QAAQ;AAChB,IAAA,CAAC;IAED,QACCC,eAAA,CAAA,KAAA,EAAA,EAAK,SAAS,EAAE,iBAAiB,EAAA,QAAA,EAAA,CAC/B,KAAK,KAAK,aAAa,KAAK,KAAK,IAAI,aAAa,KAAK,MAAM,CAAC,KAC9DD,cAAA,CAAA,OAAA,EAAA,EAAO,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAE,eAAe,EAAA,QAAA,EAClD,KAAK,GACC,CACR,EAEDA,cAAA,CAAA,QAAA,EAAA,EACC,GAAG,EAAE,GAAG,EACR,EAAE,EAAE,QAAQ,EACZ,SAAS,EAAE,gBAAgB,EAC3B,QAAQ,EAAE,QAAQ,EAAA,GACd,cAAc,EAAA,GACd,KAAK,EAAA,QAAA,EAER,aAAa,EAAE,EAAA,CACR,EAER,KAAK,IAAI,aAAa,KAAK,OAAO,KAClCA,cAAA,CAAA,OAAA,EAAA,EAAO,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAE,eAAe,EAAA,QAAA,EAClD,KAAK,EAAA,CACC,CACR,EAEA,UAAU,IAAI,CAAC,KAAK,KACpBA,cAAA,CAAA,GAAA,EAAA,EAAG,EAAE,EAAE,QAAQ,EAAE,SAAS,EAAED,QAAM,CAAC,aAAa,CAAC,EAAA,QAAA,EAC/C,UAAU,EAAA,CACR,CACJ,EAEA,KAAK,IAAI,YAAY,KACrBC,cAAA,CAAA,GAAA,EAAA,EAAG,EAAE,EAAE,OAAO,EAAE,SAAS,EAAED,QAAM,CAAC,eAAe,CAAC,EAAA,QAAA,EAChD,YAAY,EAAA,CACV,CACJ,CAAA,EAAA,CACI;AAER,CAAC;AAGF,MAAM,CAAC,WAAW,GAAG,QAAQ;;;;AC5N7B;;;AAGG;MACU,QAAQ,GAA4B,CAAC,EAAE,QAAQ,EAAE,KAAI;IACjE,OAAOC,cAAA,CAAAE,mBAAA,EAAA,EAAA,QAAA,EAAG,QAAQ,EAAA,CAAI;AACvB;AAEA,QAAQ,CAAC,WAAW,GAAG,UAAU;AAyDjC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BG;AACI,MAAM,IAAI,GAAwB,CAAC,EACzC,QAAQ,EACR,gBAAgB,GAAG,CAAC,EACpB,SAAS,EAAE,mBAAmB,EAC9B,QAAQ,EACR,IAAI,GAAG,IAAI,EACX,SAAS,GAAG,KAAK,EACjB,SAAS,GAAG,EAAE,EACd,gBAAgB,GAAG,EAAE,EACrB,cAAc,GAAG,EAAE,EACnB,SAAS,GAAG,MAAM,GAClB,KAAI;;IAEJ,MAAM,CAAC,qBAAqB,EAAE,wBAAwB,CAAC,GAAGC,cAAQ,CAAC,gBAAgB,CAAC;AACpF,IAAA,MAAM,YAAY,GAAG,mBAAmB,KAAK,SAAS;IACtD,MAAM,cAAc,GAAG,YAAY,GAAG,mBAAmB,GAAG,qBAAqB;;IAGjF,MAAM,IAAI,GAAGC,cAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,MAAM,CAC7C,CAAC,KAAK,KAA2CC,oBAAc,CAAC,KAAK,CAAC,CACtE;;AAGD,IAAA,MAAM,eAAe,GAAGC,iBAAW,CAClC,CAAC,KAAa,KAAI;AACjB,QAAA,MAAM,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC;AACvB,QAAA,IAAI,CAAC,GAAG,IAAI,GAAG,CAAC,KAAK,CAAC,QAAQ;YAAE;QAEhC,IAAI,CAAC,YAAY,EAAE;YAClB,wBAAwB,CAAC,KAAK,CAAC;QAChC;QACA,QAAQ,GAAG,KAAK,EAAE,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC;IACnC,CAAC,EACD,CAAC,IAAI,EAAE,YAAY,EAAE,QAAQ,CAAC,CAC9B;;IAGD,MAAM,aAAa,GAAGA,iBAAW,CAChC,CAAC,KAA0B,EAAE,YAAoB,KAAI;QACpD,IAAI,QAAQ,GAAG,YAAY;AAE3B,QAAA,QAAQ,KAAK,CAAC,GAAG;AAChB,YAAA,KAAK,WAAW;AAChB,YAAA,KAAK,SAAS;gBACb,KAAK,CAAC,cAAc,EAAE;AACtB,gBAAA,QAAQ,GAAG,YAAY,GAAG,CAAC;gBAC3B,IAAI,QAAQ,GAAG,CAAC;AAAE,oBAAA,QAAQ,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC;;AAE5C,gBAAA,OAAO,IAAI,CAAC,QAAQ,CAAC,EAAE,KAAK,CAAC,QAAQ,IAAI,QAAQ,KAAK,YAAY,EAAE;AACnE,oBAAA,QAAQ,EAAE;oBACV,IAAI,QAAQ,GAAG,CAAC;AAAE,wBAAA,QAAQ,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC;gBAC7C;gBACA;AACD,YAAA,KAAK,YAAY;AACjB,YAAA,KAAK,WAAW;gBACf,KAAK,CAAC,cAAc,EAAE;AACtB,gBAAA,QAAQ,GAAG,YAAY,GAAG,CAAC;AAC3B,gBAAA,IAAI,QAAQ,IAAI,IAAI,CAAC,MAAM;oBAAE,QAAQ,GAAG,CAAC;;AAEzC,gBAAA,OAAO,IAAI,CAAC,QAAQ,CAAC,EAAE,KAAK,CAAC,QAAQ,IAAI,QAAQ,KAAK,YAAY,EAAE;AACnE,oBAAA,QAAQ,EAAE;AACV,oBAAA,IAAI,QAAQ,IAAI,IAAI,CAAC,MAAM;wBAAE,QAAQ,GAAG,CAAC;gBAC1C;gBACA;AACD,YAAA,KAAK,MAAM;gBACV,KAAK,CAAC,cAAc,EAAE;gBACtB,QAAQ,GAAG,CAAC;;AAEZ,gBAAA,OAAO,IAAI,CAAC,QAAQ,CAAC,EAAE,KAAK,CAAC,QAAQ,IAAI,QAAQ,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;AACpE,oBAAA,QAAQ,EAAE;gBACX;gBACA;AACD,YAAA,KAAK,KAAK;gBACT,KAAK,CAAC,cAAc,EAAE;AACtB,gBAAA,QAAQ,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC;;AAE1B,gBAAA,OAAO,IAAI,CAAC,QAAQ,CAAC,EAAE,KAAK,CAAC,QAAQ,IAAI,QAAQ,GAAG,CAAC,EAAE;AACtD,oBAAA,QAAQ,EAAE;gBACX;gBACA;AACD,YAAA;gBACC;;QAGF,eAAe,CAAC,QAAQ,CAAC;AAC1B,IAAA,CAAC,EACD,CAAC,IAAI,EAAE,eAAe,CAAC,CACvB;;AAGD,IAAA,MAAM,mBAAmB,GAAG,CAACP,QAAM,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;AAEnF,IAAA,MAAM,iBAAiB,GAAG;AACzB,QAAAA,QAAM,CAAC,OAAO;AACd,QAAAA,QAAM,CAAC,CAAA,SAAA,EAAY,IAAI,CAAA,CAAE,CAAC;AAC1B,QAAA,SAAS,IAAIA,QAAM,CAAC,qBAAqB,CAAC;QAC1C,gBAAgB;AAChB;SACC,MAAM,CAAC,OAAO;SACd,IAAI,CAAC,GAAG,CAAC;AAEX,IAAA,MAAM,wBAAwB,GAAG;AAChC,QAAAA,QAAM,CAAC,cAAc;AACrB,QAAAA,QAAM,CAAC,CAAA,gBAAA,EAAmB,IAAI,CAAA,CAAE,CAAC;QACjC,cAAc;AACd;SACC,MAAM,CAAC,OAAO;SACd,IAAI,CAAC,GAAG,CAAC;IAEX,QACCE,eAAA,CAAA,KAAA,EAAA,EAAK,SAAS,EAAE,mBAAmB,EAAA,QAAA,EAAA,CAClCD,cAAA,CAAA,KAAA,EAAA,EAAK,IAAI,EAAC,SAAS,EAAA,YAAA,EAAa,SAAS,EAAE,SAAS,EAAE,iBAAiB,EAAA,QAAA,EACrE,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,KAAK,KAAI;AACxB,oBAAA,MAAM,QAAQ,GAAG,KAAK,KAAK,cAAc;AACzC,oBAAA,MAAM,UAAU,GAAG,GAAG,CAAC,KAAK,CAAC,QAAQ;AAErC,oBAAA,MAAM,aAAa,GAAG;AACrB,wBAAAD,QAAM,CAAC,GAAG;AACV,wBAAAA,QAAM,CAAC,CAAA,KAAA,EAAQ,IAAI,CAAA,CAAE,CAAC;AACtB,wBAAA,QAAQ,IAAIA,QAAM,CAAC,aAAa,CAAC;AACjC,wBAAA,UAAU,IAAIA,QAAM,CAAC,eAAe,CAAC;AACrC,wBAAA,SAAS,IAAIA,QAAM,CAAC,iBAAiB,CAAC;AACtC;yBACC,MAAM,CAAC,OAAO;yBACd,IAAI,CAAC,GAAG,CAAC;oBAEX,QACCE,4BAEC,IAAI,EAAC,KAAK,EACV,IAAI,EAAC,QAAQ,EAAA,eAAA,EACE,QAAQ,EAAA,eAAA,EACR,CAAA,MAAA,EAAS,KAAK,CAAA,CAAE,EAC/B,EAAE,EAAE,CAAA,IAAA,EAAO,KAAK,CAAA,CAAE,EAClB,QAAQ,EAAE,QAAQ,GAAG,CAAC,GAAG,EAAE,EAC3B,QAAQ,EAAE,UAAU,EACpB,SAAS,EAAE,aAAa,EACxB,OAAO,EAAE,MAAM,eAAe,CAAC,KAAK,CAAC,EACrC,SAAS,EAAE,CAAC,CAAC,KAAK,aAAa,CAAC,CAAC,EAAE,KAAK,CAAC,aAExC,GAAG,CAAC,KAAK,CAAC,IAAI,IAAID,yBAAM,SAAS,EAAED,QAAM,CAAC,OAAO,YAAG,GAAG,CAAC,KAAK,CAAC,IAAI,GAAQ,EAC1E,GAAG,CAAC,KAAK,CAAC,KAAK,CAAA,EAAA,EAbX,KAAK,CAcF;AAEX,gBAAA,CAAC,CAAC,EAAA,CACG,EAEL,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,KAAK,KAAI;AACxB,gBAAA,MAAM,QAAQ,GAAG,KAAK,KAAK,cAAc;AACzC,gBAAA,QACCC,cAAA,CAAA,KAAA,EAAA,EAEC,IAAI,EAAC,UAAU,EACf,EAAE,EAAE,CAAA,MAAA,EAAS,KAAK,EAAE,EAAA,iBAAA,EACH,CAAA,IAAA,EAAO,KAAK,CAAA,CAAE,EAC/B,MAAM,EAAE,CAAC,QAAQ,EACjB,SAAS,EAAE,wBAAwB,EAAA,QAAA,EAElC,QAAQ,IAAI,GAAG,CAAC,KAAK,CAAC,QAAQ,EAAA,EAP1B,KAAK,CAQL;YAER,CAAC,CAAC,CAAA,EAAA,CACG;AAER;AAEA,IAAI,CAAC,WAAW,GAAG,MAAM;;ACzSzB;AACA;AAEA;;;;;;;;;;;;AAYG;MACU,YAAY,GAAG,CAAC,GAAG,OAA8C,KAAY;IACzF,OAAO,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;AACzC;AAEA;;;;;;;;;;;;;AAaG;AACI,MAAM,kBAAkB,GAAG,CAAC,SAAiB,KAAI;AACvD,IAAA,OAAO,CAAC,GAAG,iBAAwD,KAAI;AACtE,QAAA,OAAO,YAAY,CAAC,SAAS,EAAE,GAAG,iBAAiB,CAAC;AACrD,IAAA,CAAC;AACF;;;;AC4HA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DG;AACI,MAAM,MAAM,GAAGF,gBAAU,CAC/B,CACC,EACC,QAAQ,EACR,KAAK,EACL,QAAQ,EACR,MAAM,GAAG,IAAI,EACb,KAAK,GAAG,MAAM,EACd,MAAM,GAAG,MAAM,EACf,SAAS,GAAG,EAAE,EACd,gBAAgB,GAAG,EAAE,EACrB,OAAO,EACP,YAAY,GAAG,IAAI,EACnB,OAAO,EACP,UAAU,EACV,UAAU,EACV,YAAY,EACZ,SAAS,GAAG,KAAK,EACjB,QAAQ,GAAG,GAAG,EACd,SAAS,GAAG,GAAG,EACf,QAAQ,EACR,SAAS,EACT,QAAQ,EACR,SAAS,GAAG,KAAK,EACjB,eAAe,EACf,QAAQ,EAAE,kBAAkB,EAC5B,gBAAgB,GAChB,EACD,GAAG,KACA;;AAEH,IAAA,MAAM,CAAC,gBAAgB,EAAE,mBAAmB,CAAC,GAAGK,cAAQ,CACvD,eAAe,IAAI,IAAI,CACvB;IACD,MAAM,CAAC,UAAU,EAAE,aAAa,CAAC,GAAGA,cAAQ,CAAC,KAAK,CAAC;AACnD,IAAA,MAAM,CAAC,cAAc,EAAE,iBAAiB,CAAC,GAAGA,cAAQ,CACnD,CAAC,EAAE,eAAe,IAAI,kBAAkB,CAAC,CACzC;AACD,IAAA,MAAM,YAAY,GAAGI,YAAM,CAAkC,IAAI,CAAC;;AAGlE,IAAA,MAAM,CAAC,YAAY,EAAE,eAAe,CAAC,GAAGJ,cAAQ,CAAsD;QACrG,KAAK;QACL,MAAM;AACN,KAAA,CAAC;IACF,MAAM,CAAC,UAAU,EAAE,aAAa,CAAC,GAAGA,cAAQ,CAAC,KAAK,CAAC;AACnD,IAAA,MAAM,cAAc,GAAGI,YAAM,CAA2E,IAAI,CAAC;;AAG7G,IAAA,MAAM,eAAe,GAAG,kBAAkB,IAAI,gBAAgB;;AAG9D,IAAA,MAAM,YAAY,GAAG,UAAU,GAAG,YAAY,CAAC,KAAK,GAAG,KAAK;AAC5D,IAAA,MAAM,aAAa,GAAG,UAAU,GAAG,YAAY,CAAC,MAAM,GAAG,MAAM;;AAG/D,IAAA,MAAM,uBAAuB,GAAGD,iBAAW,CAC1C,CAAC,KAAuC,KAAI;AAC3C,QAAA,IAAI,CAAC,SAAS;YAAE;;QAGhB,IAAK,KAAK,CAAC,MAAsB,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;YACpD;QACD;QAEA,KAAK,CAAC,cAAc,EAAE;AAEtB,QAAA,MAAM,aAAa,GAAI,KAAK,CAAC,aAA6B,CAAC,OAAO,CACjE,CAAA,CAAA,EAAIP,QAAM,CAAC,MAAM,CAAA,CAAE,CACJ;AAEhB,QAAA,IAAI,CAAC,aAAa;YAAE;AAEpB,QAAA,MAAM,IAAI,GAAG,aAAa,CAAC,qBAAqB,EAAE;;AAGlD,QAAA,MAAM,MAAM,GAAG,aAAa,CAAC,YAA2B;QACxD,MAAM,UAAU,GAAG,MAAM,GAAG,MAAM,CAAC,qBAAqB,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE;;;QAIhF,YAAY,CAAC,OAAO,GAAG;AACtB,YAAA,CAAC,EAAE,KAAK,CAAC,OAAO,IAAI,IAAI,CAAC,IAAI,GAAG,UAAU,CAAC,IAAI,CAAC;AAChD,YAAA,CAAC,EAAE,KAAK,CAAC,OAAO,IAAI,IAAI,CAAC,GAAG,GAAG,UAAU,CAAC,GAAG,CAAC;SAC9C;QAED,aAAa,CAAC,IAAI,CAAC;AACpB,IAAA,CAAC,EACD,CAAC,SAAS,CAAC,CACX;;AAGD,IAAA,MAAM,qBAAqB,GAAGO,iBAAW,CACxC,CAAC,KAAuC,KAAI;AAC3C,QAAA,IAAI,CAAC,SAAS;YAAE;QAEhB,KAAK,CAAC,cAAc,EAAE;QACtB,KAAK,CAAC,eAAe,EAAE;AAEvB,QAAA,MAAM,aAAa,GAAI,KAAK,CAAC,aAA6B,CAAC,OAAO,CACjE,CAAA,CAAA,EAAIP,QAAM,CAAC,MAAM,CAAA,CAAE,CACJ;AAEhB,QAAA,IAAI,CAAC,aAAa;YAAE;AAEpB,QAAA,MAAM,IAAI,GAAG,aAAa,CAAC,qBAAqB,EAAE;;QAGlD,cAAc,CAAC,OAAO,GAAG;YACxB,KAAK,EAAE,IAAI,CAAC,KAAK;YACjB,MAAM,EAAE,IAAI,CAAC,MAAM;YACnB,MAAM,EAAE,KAAK,CAAC,OAAO;YACrB,MAAM,EAAE,KAAK,CAAC,OAAO;SACrB;QAED,aAAa,CAAC,IAAI,CAAC;AACpB,IAAA,CAAC,EACD,CAAC,SAAS,CAAC,CACX;;IAGDS,eAAS,CAAC,MAAK;AACd,QAAA,IAAI,CAAC,UAAU,IAAI,CAAC,cAAc,CAAC,OAAO;YAAE;AAE5C,QAAA,MAAM,eAAe,GAAG,CAAC,KAAiB,KAAI;YAC7C,KAAK,CAAC,cAAc,EAAE;YAEtB,IAAI,CAAC,cAAc,CAAC,OAAO;gBAAE;;YAG7B,MAAM,MAAM,GAAG,KAAK,CAAC,OAAO,GAAG,cAAc,CAAC,OAAO,CAAC,MAAM;YAC5D,MAAM,MAAM,GAAG,KAAK,CAAC,OAAO,GAAG,cAAc,CAAC,OAAO,CAAC,MAAM;;YAG5D,IAAI,QAAQ,GAAG,cAAc,CAAC,OAAO,CAAC,KAAK,GAAG,MAAM;YACpD,IAAI,SAAS,GAAG,cAAc,CAAC,OAAO,CAAC,MAAM,GAAG,MAAM;;YAGtD,IAAI,QAAQ,GAAG,QAAQ;gBAAE,QAAQ,GAAG,QAAQ;YAC5C,IAAI,SAAS,GAAG,SAAS;gBAAE,SAAS,GAAG,SAAS;AAChD,YAAA,IAAI,QAAQ,IAAI,QAAQ,GAAG,QAAQ;gBAAE,QAAQ,GAAG,QAAQ;AACxD,YAAA,IAAI,SAAS,IAAI,SAAS,GAAG,SAAS;gBAAE,SAAS,GAAG,SAAS;;AAG7D,YAAA,eAAe,CAAC;AACf,gBAAA,KAAK,EAAE,QAAQ;AACf,gBAAA,MAAM,EAAE,SAAS;AACjB,aAAA,CAAC;;YAGF,IAAI,QAAQ,EAAE;gBACb,QAAQ,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,SAAS,EAAE,CAAC;YACjD;AACD,QAAA,CAAC;QAED,MAAM,aAAa,GAAG,MAAK;YAC1B,aAAa,CAAC,KAAK,CAAC;AACpB,YAAA,cAAc,CAAC,OAAO,GAAG,IAAI;AAC9B,QAAA,CAAC;AAED,QAAA,QAAQ,CAAC,gBAAgB,CAAC,WAAW,EAAE,eAAe,CAAC;AACvD,QAAA,QAAQ,CAAC,gBAAgB,CAAC,SAAS,EAAE,aAAa,CAAC;AAEnD,QAAA,OAAO,MAAK;AACX,YAAA,QAAQ,CAAC,mBAAmB,CAAC,WAAW,EAAE,eAAe,CAAC;AAC1D,YAAA,QAAQ,CAAC,mBAAmB,CAAC,SAAS,EAAE,aAAa,CAAC;AACvD,QAAA,CAAC;AACF,IAAA,CAAC,EAAE,CAAC,UAAU,EAAE,QAAQ,EAAE,SAAS,EAAE,QAAQ,EAAE,SAAS,EAAE,QAAQ,CAAC,CAAC;;IAGpEA,eAAS,CAAC,MAAK;AACd,QAAA,IAAI,CAAC,UAAU,IAAI,CAAC,YAAY,CAAC,OAAO;YAAE;AAE1C,QAAA,MAAM,eAAe,GAAG,CAAC,KAAiB,KAAI;YAC7C,KAAK,CAAC,cAAc,EAAE;YAEtB,IAAI,CAAC,YAAY,CAAC,OAAO;gBAAE;;AAG3B,YAAA,MAAM,cAAc,GAAG,QAAQ,CAAC,gBAAgB,CAAC,CAAA,CAAA,EAAIT,QAAM,CAAC,MAAM,CAAA,CAAE,CAAC;YACrE,IAAI,aAAa,GAAuB,IAAI;;YAG5C,KAAK,MAAM,EAAE,IAAI,KAAK,CAAC,IAAI,CAAC,cAAc,CAAC,EAAE;gBAC5C,MAAM,MAAM,GAAG,EAAiB;AAChC,gBAAA,IAAI,MAAM,CAAC,KAAK,CAAC,QAAQ,KAAK,UAAU,IAAI,cAAc,CAAC,MAAM,KAAK,CAAC,EAAE;oBACxE,aAAa,GAAG,MAAM;oBACtB;gBACD;YACD;AAEA,YAAA,IAAI,CAAC,aAAa;gBAAE;;AAGpB,YAAA,MAAM,MAAM,GAAG,aAAa,CAAC,YAA2B;YACxD,MAAM,UAAU,GAAG,MAAM,GAAG,MAAM,CAAC,qBAAqB,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE;AAEhF,YAAA,MAAM,WAAW,GAAmB;AACnC,gBAAA,CAAC,EAAE,KAAK,CAAC,OAAO,GAAG,UAAU,CAAC,IAAI,GAAG,YAAY,CAAC,OAAO,CAAC,CAAC;AAC3D,gBAAA,CAAC,EAAE,KAAK,CAAC,OAAO,GAAG,UAAU,CAAC,GAAG,GAAG,YAAY,CAAC,OAAO,CAAC,CAAC;aAC1D;;AAGD,YAAA,IAAI,kBAAkB,IAAI,gBAAgB,EAAE;gBAC3C,gBAAgB,CAAC,WAAW,CAAC;YAC9B;iBAAO;gBACN,mBAAmB,CAAC,WAAW,CAAC;YACjC;;YAGA,IAAI,CAAC,cAAc,EAAE;gBACpB,iBAAiB,CAAC,IAAI,CAAC;YACxB;AACD,QAAA,CAAC;QAED,MAAM,aAAa,GAAG,MAAK;YAC1B,aAAa,CAAC,KAAK,CAAC;AACpB,YAAA,YAAY,CAAC,OAAO,GAAG,IAAI;AAC5B,QAAA,CAAC;AAED,QAAA,QAAQ,CAAC,gBAAgB,CAAC,WAAW,EAAE,eAAe,CAAC;AACvD,QAAA,QAAQ,CAAC,gBAAgB,CAAC,SAAS,EAAE,aAAa,CAAC;AAEnD,QAAA,OAAO,MAAK;AACX,YAAA,QAAQ,CAAC,mBAAmB,CAAC,WAAW,EAAE,eAAe,CAAC;AAC1D,YAAA,QAAQ,CAAC,mBAAmB,CAAC,SAAS,EAAE,aAAa,CAAC;AACvD,QAAA,CAAC;IACF,CAAC,EAAE,CAAC,UAAU,EAAE,kBAAkB,EAAE,gBAAgB,EAAE,cAAc,CAAC,CAAC;;AAGtE,IAAA,MAAM,gBAAgB,GAAG,YAAY,CACpCA,QAAM,CAAC,MAAM,EACb,MAAM,GAAGA,QAAM,CAAC,gBAAgB,CAAC,GAAGA,QAAM,CAAC,kBAAkB,CAAC,EAC9D,SAAS,IAAI,cAAc,IAAIA,QAAM,CAAC,mBAAmB,CAAC,EAC1D,SAAS,EACT,OAAO,EAAE,IAAI,CACb;AAED,IAAA,MAAM,iBAAiB,GAAG,YAAY,CAACA,QAAM,CAAC,OAAO,EAAE,gBAAgB,EAAE,OAAO,EAAE,OAAO,CAAC;IAE1F,MAAM,kBAAkB,GAAG,YAAY,CACtCA,QAAM,CAAC,QAAQ,EACf,SAAS,IAAIA,QAAM,CAAC,qBAAqB,CAAC,EAC1C,UAAU,IAAIA,QAAM,CAAC,oBAAoB,CAAC,EAC1C,OAAO,EAAE,QAAQ,CACjB;;IAGD,MAAM,WAAW,GAAwB,EAAE;;AAG3C,IAAA,IAAI,YAAY,KAAK,MAAM,EAAE;AAC5B,QAAA,WAAW,CAAC,KAAK,GAAG,OAAO,YAAY,KAAK,QAAQ,GAAG,GAAG,YAAY,CAAA,EAAA,CAAI,GAAG,YAAY;IAC1F;;AAGA,IAAA,IAAI,aAAa,KAAK,MAAM,EAAE;AAC7B,QAAA,WAAW,CAAC,MAAM,GAAG,OAAO,aAAa,KAAK,QAAQ,GAAG,GAAG,aAAa,CAAA,EAAA,CAAI,GAAG,aAAa;IAC9F;;AAGA,IAAA,IAAI,SAAS,IAAI,cAAc,IAAI,eAAe,EAAE;AACnD,QAAA,WAAW,CAAC,QAAQ,GAAG,UAAU;QACjC,WAAW,CAAC,IAAI,GAAG,CAAA,EAAG,eAAe,CAAC,CAAC,IAAI;QAC3C,WAAW,CAAC,GAAG,GAAG,CAAA,EAAG,eAAe,CAAC,CAAC,IAAI;IAC3C;;IAGA,MAAM,cAAc,GAAG,MAAK;QAC3B,IAAI,QAAQ,EAAE;AACb,YAAA,OAAO,QAAQ;QAChB;QAEA,IAAI,KAAK,EAAE;AACV,YAAA,QACCE,eAAA,CAAA,KAAA,EAAA,EACC,SAAS,EAAE,kBAAkB,EAAA,kBAAA,EACX,CAAC,OAAO,EAAE,UAAU,EAAE,UAAU,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,EAC1E,WAAW,EAAE,uBAAuB,EAAA,QAAA,EAAA,CAEnC,YAAY,KACZA,eAAA,CAAA,KAAA,EAAA,EAAK,SAAS,EAAE,YAAY,CAACF,QAAM,CAAC,QAAQ,EAAE,OAAO,EAAE,QAAQ,CAAC,EAAA,QAAA,EAAA,CAC9D,OAAO,KACRC,cAAA,CAAA,QAAA,EAAA,EACC,IAAI,EAAC,QAAQ,EACb,SAAS,EAAE,YAAY,CAACD,QAAM,CAAC,aAAa,EAAE,OAAO,EAAE,aAAa,CAAC,EACrE,OAAO,EAAE,OAAO,EAAA,YAAA,EACL,OAAO,EAClB,KAAK,EAAC,OAAO,EAAA,QAAA,EAEbC,cAAA,CAAA,KAAA,EAAA,EAAK,SAAS,EAAED,QAAM,CAAC,QAAQ,EAAA,CAAI,EAAA,CAC3B,CACR,EACA,UAAU,KACVC,cAAA,CAAA,QAAA,EAAA,EACC,IAAI,EAAC,QAAQ,EACb,SAAS,EAAE,YAAY,CAACD,QAAM,CAAC,aAAa,EAAE,OAAO,EAAE,aAAa,CAAC,EACrE,OAAO,EAAE,UAAU,EAAA,YAAA,EACR,UAAU,EACrB,KAAK,EAAC,UAAU,EAAA,QAAA,EAEhBC,cAAA,CAAA,KAAA,EAAA,EAAK,SAAS,EAAED,QAAM,CAAC,WAAW,EAAA,CAAI,EAAA,CAC9B,CACT,EACA,UAAU,KACVC,cAAA,CAAA,QAAA,EAAA,EACC,IAAI,EAAC,QAAQ,EACb,SAAS,EAAE,YAAY,CAACD,QAAM,CAAC,aAAa,EAAE,OAAO,EAAE,aAAa,CAAC,EACrE,OAAO,EAAE,UAAU,EAAA,YAAA,EACR,UAAU,EACrB,KAAK,EAAC,UAAU,EAAA,QAAA,EAEhBC,cAAA,CAAA,KAAA,EAAA,EAAK,SAAS,EAAED,QAAM,CAAC,WAAW,EAAA,CAAI,EAAA,CAC9B,CACT,CAAA,EAAA,CACI,CACN,EACDE,eAAA,CAAA,KAAA,EAAA,EAAK,SAAS,EAAEF,QAAM,CAAC,WAAW,EAAA,QAAA,EAAA,CAClCE,eAAA,CAAA,KAAA,EAAA,EAAK,KAAK,EAAC,KAAK,EAAC,MAAM,EAAC,IAAI,EAAC,OAAO,EAAC,YAAY,EAAC,IAAI,EAAC,MAAM,EAAC,mBAAmB,EAAC,MAAM,EAAC,KAAK,EAAC,4BAA4B,EAAA,QAAA,EAAA,CAC1HD,cAAA,CAAA,MAAA,EAAA,EAAM,KAAK,EAAC,SAAS,EAAC,MAAM,EAAC,IAAI,EAAC,IAAI,EAAC,SAAS,EAAA,CAAE,EAClDA,cAAA,CAAA,MAAA,EAAA,EAAM,KAAK,EAAC,GAAG,EAAC,MAAM,EAAC,IAAI,EAAC,IAAI,EAAC,SAAS,EAAA,CAAE,EAC5CA,cAAA,CAAA,MAAA,EAAA,EAAM,CAAC,EAAC,KAAK,EAAC,KAAK,EAAC,GAAG,EAAC,MAAM,EAAC,IAAI,EAAC,IAAI,EAAC,SAAS,EAAA,CAAE,EACpDA,cAAA,CAAA,MAAA,EAAA,EAAM,CAAC,EAAC,GAAG,EAAC,KAAK,EAAC,SAAS,EAAC,MAAM,EAAC,GAAG,EAAC,IAAI,EAAC,SAAS,EAAA,CAAE,EACvDA,cAAA,CAAA,MAAA,EAAA,EAAM,CAAC,EAAC,GAAG,EAAC,KAAK,EAAC,SAAS,EAAC,MAAM,EAAC,GAAG,EAAC,IAAI,EAAC,SAAS,EAAA,CAAE,EACvDA,cAAA,CAAA,MAAA,EAAA,EAAM,CAAC,EAAC,GAAG,EAAC,KAAK,EAAC,SAAS,EAAC,MAAM,EAAC,GAAG,EAAC,IAAI,EAAC,SAAS,EAAA,CAAE,EACvDA,cAAA,CAAA,MAAA,EAAA,EAAM,CAAC,EAAC,GAAG,EAAC,KAAK,EAAC,SAAS,EAAC,MAAM,EAAC,GAAG,EAAC,IAAI,EAAC,SAAS,EAAA,CAAE,EACvDA,cAAA,CAAA,MAAA,EAAA,EAAM,CAAC,EAAC,GAAG,EAAC,KAAK,EAAC,SAAS,EAAC,MAAM,EAAC,GAAG,EAAC,IAAI,EAAC,SAAS,EAAA,CAAE,EACvDA,yBAAM,CAAC,EAAC,IAAI,EAAC,KAAK,EAAC,SAAS,EAAC,MAAM,EAAC,GAAG,EAAC,IAAI,EAAC,SAAS,EAAA,CAAE,CAAA,EAAA,CACnD,EACNA,cAAA,CAAA,KAAA,EAAA,EAAK,SAAS,EAAE,YAAY,CAACD,QAAM,CAAC,SAAS,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,CAAC,EAAA,QAAA,EAAG,KAAK,EAAA,CAAO,EACxFE,eAAA,CAAA,KAAA,EAAA,EAAK,KAAK,EAAC,KAAK,EAAC,MAAM,EAAC,IAAI,EAAC,OAAO,EAAC,YAAY,EAAC,IAAI,EAAC,MAAM,EAAC,mBAAmB,EAAC,MAAM,EAAC,KAAK,EAAC,4BAA4B,EAAA,QAAA,EAAA,CAC1HD,cAAA,CAAA,MAAA,EAAA,EAAM,KAAK,EAAC,SAAS,EAAC,MAAM,EAAC,IAAI,EAAC,IAAI,EAAC,SAAS,EAAA,CAAE,EAClDA,cAAA,CAAA,MAAA,EAAA,EAAM,KAAK,EAAC,GAAG,EAAC,MAAM,EAAC,IAAI,EAAC,IAAI,EAAC,SAAS,EAAA,CAAE,EAC5CA,cAAA,CAAA,MAAA,EAAA,EAAM,CAAC,EAAC,KAAK,EAAC,KAAK,EAAC,GAAG,EAAC,MAAM,EAAC,IAAI,EAAC,IAAI,EAAC,SAAS,EAAA,CAAE,EACpDA,cAAA,CAAA,MAAA,EAAA,EAAM,CAAC,EAAC,GAAG,EAAC,KAAK,EAAC,SAAS,EAAC,MAAM,EAAC,GAAG,EAAC,IAAI,EAAC,SAAS,EAAA,CAAE,EACvDA,cAAA,CAAA,MAAA,EAAA,EAAM,CAAC,EAAC,GAAG,EAAC,KAAK,EAAC,SAAS,EAAC,MAAM,EAAC,GAAG,EAAC,IAAI,EAAC,SAAS,EAAA,CAAE,EACvDA,cAAA,CAAA,MAAA,EAAA,EAAM,CAAC,EAAC,GAAG,EAAC,KAAK,EAAC,SAAS,EAAC,MAAM,EAAC,GAAG,EAAC,IAAI,EAAC,SAAS,EAAA,CAAE,EACvDA,cAAA,CAAA,MAAA,EAAA,EAAM,CAAC,EAAC,GAAG,EAAC,KAAK,EAAC,SAAS,EAAC,MAAM,EAAC,GAAG,EAAC,IAAI,EAAC,SAAS,EAAA,CAAE,EACvDA,cAAA,CAAA,MAAA,EAAA,EAAM,CAAC,EAAC,GAAG,EAAC,KAAK,EAAC,SAAS,EAAC,MAAM,EAAC,GAAG,EAAC,IAAI,EAAC,SAAS,EAAA,CAAE,EACvDA,cAAA,CAAA,MAAA,EAAA,EAAM,CAAC,EAAC,IAAI,EAAC,KAAK,EAAC,SAAS,EAAC,MAAM,EAAC,GAAG,EAAC,IAAI,EAAC,SAAS,EAAA,CAAE,CAAA,EAAA,CACnD,CAAA,EAAA,CACD,CAAA,EAAA,CAED;QAER;AAEA,QAAA,OAAO,IAAI;AACZ,IAAA,CAAC;IAED,QACCC,yBACC,GAAG,EAAE,GAAG,EACR,SAAS,EAAE,gBAAgB,EAC3B,KAAK,EAAE,WAAW,EAClB,YAAY,EAAE,YAAY,aAEzB,cAAc,EAAE,EACjBD,cAAA,CAAA,KAAA,EAAA,EAAK,SAAS,EAAE,iBAAiB,EAAA,QAAA,EAAG,QAAQ,GAAO,EAClD,SAAS,KACTA,cAAA,CAAA,KAAA,EAAA,EACC,SAAS,EAAED,QAAM,CAAC,YAAY,EAC9B,WAAW,EAAE,qBAAqB,EAAA,aAAA,EACtB,MAAM,EAAA,CACjB,CACF,CAAA,EAAA,CACI;AAER,CAAC;AAGF,MAAM,CAAC,WAAW,GAAG,QAAQ;;;;AChiB7B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BG;AACI,MAAM,MAAM,GAAGD,gBAAU,CAC/B,CACC,EACC,IAAI,GAAG,KAAK,EACZ,OAAO,EACP,oBAAoB,GAAG,IAAI,EAC3B,aAAa,GAAG,IAAI,EACpB,iBAAiB,GAAG,EAAE,EACtB,SAAS,GAAG,IAAI,EAChB,YAAY,EACZ,QAAQ,EACR,GAAG,WAAW,EACd,EACD,GAAG,KACA;AACH,IAAA,MAAM,SAAS,GAAGS,YAAM,CAAiB,IAAI,CAAC;AAC9C,IAAA,MAAM,qBAAqB,GAAGA,YAAM,CAAqB,IAAI,CAAC;;IAG9DC,eAAS,CAAC,MAAK;AACd,QAAA,IAAI,CAAC,IAAI,IAAI,CAAC,aAAa;YAAE;AAE7B,QAAA,MAAM,YAAY,GAAG,CAAC,KAAoB,KAAI;AAC7C,YAAA,IAAI,KAAK,CAAC,GAAG,KAAK,QAAQ,EAAE;gBAC3B,KAAK,CAAC,cAAc,EAAE;gBACtB,KAAK,CAAC,eAAe,EAAE;gBACvB,OAAO,IAAI;YACZ;AACD,QAAA,CAAC;AAED,QAAA,QAAQ,CAAC,gBAAgB,CAAC,SAAS,EAAE,YAAY,CAAC;QAClD,OAAO,MAAM,QAAQ,CAAC,mBAAmB,CAAC,SAAS,EAAE,YAAY,CAAC;IACnE,CAAC,EAAE,CAAC,IAAI,EAAE,aAAa,EAAE,OAAO,CAAC,CAAC;;IAGlCA,eAAS,CAAC,MAAK;QACd,IAAI,IAAI,EAAE;AACT,YAAA,qBAAqB,CAAC,OAAO,GAAG,QAAQ,CAAC,aAA4B;QACtE;AAAO,aAAA,IAAI,qBAAqB,CAAC,OAAO,EAAE;AACzC,YAAA,qBAAqB,CAAC,OAAO,CAAC,KAAK,EAAE;QACtC;AACD,IAAA,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;;IAGVA,eAAS,CAAC,MAAK;AACd,QAAA,IAAI,CAAC,IAAI,IAAI,CAAC,YAAY;YAAE;QAE5B,MAAM,YAAY,GAAG,MAAK;AACzB,YAAA,IAAI,OAAO,YAAY,KAAK,QAAQ,EAAE;gBACrC,MAAM,OAAO,GAAG,SAAS,CAAC,OAAO,EAAE,aAAa,CAAC,YAAY,CAAgB;gBAC7E,OAAO,EAAE,KAAK,EAAE;YACjB;AAAO,iBAAA,IAAI,YAAY,CAAC,OAAO,EAAE;AAChC,gBAAA,YAAY,CAAC,OAAO,CAAC,KAAK,EAAE;YAC7B;AACD,QAAA,CAAC;;AAGD,QAAA,UAAU,CAAC,YAAY,EAAE,EAAE,CAAC;AAC7B,IAAA,CAAC,EAAE,CAAC,IAAI,EAAE,YAAY,CAAC,CAAC;;IAGxBA,eAAS,CAAC,MAAK;AACd,QAAA,IAAI,CAAC,IAAI,IAAI,CAAC,SAAS;YAAE;AAEzB,QAAA,MAAM,YAAY,GAAG,CAAC,KAAoB,KAAI;YAC7C,IAAI,KAAK,CAAC,GAAG,KAAK,KAAK,IAAI,CAAC,SAAS,CAAC,OAAO;gBAAE;YAE/C,MAAM,iBAAiB,GAAG,SAAS,CAAC,OAAO,CAAC,gBAAgB,CAC3D,0EAA0E,CAC1E;AAED,YAAA,MAAM,YAAY,GAAG,iBAAiB,CAAC,CAAC,CAAgB;YACxD,MAAM,WAAW,GAAG,iBAAiB,CAAC,iBAAiB,CAAC,MAAM,GAAG,CAAC,CAAgB;AAElF,YAAA,IAAI,KAAK,CAAC,QAAQ,EAAE;;AAEnB,gBAAA,IAAI,QAAQ,CAAC,aAAa,KAAK,YAAY,EAAE;oBAC5C,KAAK,CAAC,cAAc,EAAE;oBACtB,WAAW,EAAE,KAAK,EAAE;gBACrB;YACD;iBAAO;;AAEN,gBAAA,IAAI,QAAQ,CAAC,aAAa,KAAK,WAAW,EAAE;oBAC3C,KAAK,CAAC,cAAc,EAAE;oBACtB,YAAY,EAAE,KAAK,EAAE;gBACtB;YACD;AACD,QAAA,CAAC;AAED,QAAA,QAAQ,CAAC,gBAAgB,CAAC,SAAS,EAAE,YAAY,CAAC;QAClD,OAAO,MAAM,QAAQ,CAAC,mBAAmB,CAAC,SAAS,EAAE,YAAY,CAAC;AACnE,IAAA,CAAC,EAAE,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;;IAGrBA,eAAS,CAAC,MAAK;QACd,IAAI,IAAI,EAAE;YACT,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ;QACxC;aAAO;YACN,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,EAAE;QAClC;AAEA,QAAA,OAAO,MAAK;YACX,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,EAAE;AAClC,QAAA,CAAC;AACF,IAAA,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;;AAGV,IAAA,MAAM,mBAAmB,GAAGF,iBAAW,CACtC,CAAC,KAAuC,KAAI;QAC3C,IAAI,oBAAoB,IAAI,KAAK,CAAC,MAAM,KAAK,KAAK,CAAC,aAAa,EAAE;YACjE,OAAO,IAAI;QACZ;AACD,IAAA,CAAC,EACD,CAAC,oBAAoB,EAAE,OAAO,CAAC,CAC/B;AAED,IAAA,IAAI,CAAC,IAAI;AAAE,QAAA,OAAO,IAAI;AAEtB,IAAA,MAAM,kBAAkB,GAAG,CAACP,QAAM,CAAC,QAAQ,EAAE,iBAAiB,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;IAEzF,QACCC,cAAA,CAAA,KAAA,EAAA,EACC,SAAS,EAAE,kBAAkB,EAC7B,OAAO,EAAE,mBAAmB,EAC5B,IAAI,EAAC,cAAc,EAAA,YAAA,EACR,MAAM,EAAA,QAAA,EAEjBA,cAAA,CAAA,KAAA,EAAA,EAAK,SAAS,EAAED,QAAM,CAAC,eAAe,EAAE,GAAG,EAAE,SAAS,EAAE,IAAI,EAAC,QAAQ,EAAA,YAAA,EAAY,MAAM,EAAA,QAAA,EACtFC,cAAA,CAAC,MAAM,EAAA,EAAA,GAAK,WAAW,EAAE,GAAG,EAAE,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAA,QAAA,EAC/D,QAAQ,EAAA,CACD,EAAA,CACJ,EAAA,CACD;AAER,CAAC;AAGF,MAAM,CAAC,WAAW,GAAG,QAAQ;;;;ACpI7B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDG;AACI,MAAM,OAAO,GAAGF,gBAAU,CAChC,CAAC,EACA,KAAK,EACL,aAAa,EACb,UAAU,EACV,WAAW,EACX,SAAS,GAAG,EAAE,EACd,iBAAiB,GAAG,EAAE,EACtB,WAAW,EACX,YAAY,GACZ,EAAE,GAAG,KAAI;IACT,MAAM,CAAC,cAAc,EAAE,iBAAiB,CAAC,GAAGK,cAAQ,CAAwB,IAAI,CAAC;IACjF,MAAM,CAAC,YAAY,EAAE,eAAe,CAAC,GAAGA,cAAQ,CAAS,EAAE,CAAC;IAC5D,MAAM,CAAC,iBAAiB,EAAE,oBAAoB,CAAC,GAAGA,cAAQ,CAAqB,SAAS,CAAC;AAEzF,IAAA,MAAM,YAAY,GAAG,aAAa,KAAK,SAAS;IAChD,MAAM,eAAe,GAAG,YAAY,GAAG,aAAa,GAAG,iBAAiB;AAExE,IAAA,MAAM,sBAAsB,GAAG,CAAC,KAAa,KAAI;QAChD,IAAI,CAAC,YAAY,EAAE;YAClB,oBAAoB,CAAC,KAAK,CAAC;QAC5B;AACA,QAAA,UAAU,GAAG,KAAK,CAAC;AACpB,IAAA,CAAC;IAED,MAAM,uBAAuB,GAAG,MAAK;QACpC,IAAI,CAAC,YAAY,EAAE;YAClB,oBAAoB,CAAC,SAAS,CAAC;QAChC;QACA,WAAW,IAAI;AAChB,IAAA,CAAC;;IAGDK,eAAS,CAAC,MAAK;AACd,QAAA,IAAI,eAAe,KAAK,SAAS,IAAI,CAAC,cAAc;YAAE;AAEtD,QAAA,MAAM,kBAAkB,GAAG,CAAC,KAAiB,KAAI;AAChD,YAAA,IAAI,cAAc,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAc,CAAC,EAAE;AACrE,gBAAA,uBAAuB,EAAE;YAC1B;AACD,QAAA,CAAC;AAED,QAAA,QAAQ,CAAC,gBAAgB,CAAC,WAAW,EAAE,kBAAkB,CAAC;QAC1D,OAAO,MAAM,QAAQ,CAAC,mBAAmB,CAAC,WAAW,EAAE,kBAAkB,CAAC;IAC3E,CAAC,EAAE,CAAC,eAAe,EAAE,WAAW,EAAE,cAAc,EAAE,YAAY,CAAC,CAAC;;IAGhEA,eAAS,CAAC,MAAK;QACd,IAAI,eAAe,KAAK,SAAS;YAAE;AAEnC,QAAA,MAAM,YAAY,GAAG,CAAC,KAAoB,KAAI;AAC7C,YAAA,IAAI,KAAK,CAAC,GAAG,KAAK,QAAQ,EAAE;gBAC3B,KAAK,CAAC,cAAc,EAAE;AACtB,gBAAA,uBAAuB,EAAE;YAC1B;AACD,QAAA,CAAC;AAED,QAAA,QAAQ,CAAC,gBAAgB,CAAC,SAAS,EAAE,YAAY,CAAC;QAClD,OAAO,MAAM,QAAQ,CAAC,mBAAmB,CAAC,SAAS,EAAE,YAAY,CAAC;IACnE,CAAC,EAAE,CAAC,eAAe,EAAE,WAAW,EAAE,YAAY,CAAC,CAAC;;AAGhD,IAAA,MAAM,aAAa,GAAGF,iBAAW,CAChC,CAAC,KAA0B,KAAI;AAC9B,QAAA,QAAQ,KAAK,CAAC,GAAG;AAChB,YAAA,KAAK,WAAW;gBACf,KAAK,CAAC,cAAc,EAAE;AACtB,gBAAA,IAAI,eAAe,KAAK,SAAS,EAAE;;AAElC,oBAAA,MAAM,SAAS,GAAG,eAAe,GAAG,CAAC,GAAG,eAAe,GAAG,CAAC,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC;oBAC9E,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE,QAAQ,EAAE;wBAChC,sBAAsB,CAAC,SAAS,CAAC;oBAClC;gBACD;AAAO,qBAAA,IAAI,YAAY,GAAG,CAAC,EAAE;AAC5B,oBAAA,eAAe,CAAC,YAAY,GAAG,CAAC,CAAC;gBAClC;gBACA;AAED,YAAA,KAAK,YAAY;gBAChB,KAAK,CAAC,cAAc,EAAE;AACtB,gBAAA,IAAI,eAAe,KAAK,SAAS,EAAE;;AAElC,oBAAA,MAAM,SAAS,GAAG,eAAe,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,GAAG,eAAe,GAAG,CAAC,GAAG,CAAC;oBAC9E,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE,QAAQ,EAAE;wBAChC,sBAAsB,CAAC,SAAS,CAAC;oBAClC;gBACD;qBAAO,IAAI,YAAY,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;AAC3C,oBAAA,eAAe,CAAC,YAAY,GAAG,CAAC,CAAC;gBAClC;gBACA;AAED,YAAA,KAAK,WAAW;gBACf,KAAK,CAAC,cAAc,EAAE;gBACtB,IAAI,eAAe,KAAK,SAAS,IAAI,YAAY,IAAI,CAAC,EAAE;;AAEvD,oBAAA,MAAM,IAAI,GAAG,KAAK,CAAC,YAAY,CAAC;oBAChC,IAAI,CAAC,IAAI,EAAE,QAAQ,IAAI,IAAI,EAAE,IAAI,KAAK,MAAM,EAAE;wBAC7C,sBAAsB,CAAC,YAAY,CAAC;oBACrC;gBACD;gBACA;AAED,YAAA,KAAK,OAAO;AACZ,YAAA,KAAK,GAAG;gBACP,KAAK,CAAC,cAAc,EAAE;gBACtB,IAAI,eAAe,KAAK,SAAS,IAAI,YAAY,IAAI,CAAC,EAAE;AACvD,oBAAA,MAAM,IAAI,GAAG,KAAK,CAAC,YAAY,CAAC;AAChC,oBAAA,IAAI,CAAC,IAAI,EAAE,QAAQ,EAAE;AACpB,wBAAA,IAAI,IAAI,CAAC,IAAI,KAAK,MAAM,EAAE;;AAEzB,4BAAA,IAAI,CAAC,OAAO,IAAI;wBACjB;6BAAO;;4BAEN,sBAAsB,CAAC,YAAY,CAAC;wBACrC;oBACD;gBACD;gBACA;;AAEH,IAAA,CAAC,EACD,CAAC,eAAe,EAAE,YAAY,EAAE,KAAK,EAAE,UAAU,EAAE,WAAW,EAAE,YAAY,CAAC,CAC7E;;AAGD,IAAA,MAAM,eAAe,GAAG,CAAC,KAAa,KAAI;AACzC,QAAA,MAAM,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC;QACzB,IAAI,IAAI,EAAE,QAAQ;YAAE;AAEpB,QAAA,IAAI,IAAI,CAAC,IAAI,KAAK,MAAM,EAAE;;AAEzB,YAAA,IAAI,CAAC,OAAO,IAAI;YAChB;QACD;AAEA,QAAA,IAAI,eAAe,KAAK,KAAK,EAAE;;AAE9B,YAAA,uBAAuB,EAAE;QAC1B;aAAO;;YAEN,sBAAsB,CAAC,KAAK,CAAC;QAC9B;AACD,IAAA,CAAC;;AAGD,IAAA,MAAM,iBAAiB,GAAG,CAACP,QAAM,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;AAE/E,IAAA,MAAM,kBAAkB,GAAG,CAACA,QAAM,CAAC,QAAQ,EAAE,iBAAiB,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;;AAGzF,IAAA,MAAM,SAAS,GAAGO,iBAAW,CAC5B,CAAC,IAA2B,KAAI;QAC/B,iBAAiB,CAAC,IAAI,CAAC;AACvB,QAAA,IAAI,OAAO,GAAG,KAAK,UAAU,EAAE;YAC9B,GAAG,CAAC,IAAI,CAAC;QACV;aAAO,IAAI,GAAG,EAAE;AACf,YAAA,GAAG,CAAC,OAAO,GAAG,IAAI;QACnB;AACD,IAAA,CAAC,EACD,CAAC,GAAG,CAAC,CACL;IAED,QACCL,yBAAK,GAAG,EAAE,SAAS,EAAE,SAAS,EAAE,iBAAiB,EAAE,IAAI,EAAC,SAAS,EAAC,SAAS,EAAE,aAAa,aAExF,WAAW,KACXD,cAAA,CAAA,KAAA,EAAA,EAAK,SAAS,EAAED,QAAM,CAAC,WAAW,YAChC,WAAW,EAAA,CACP,CACN,EAGDC,cAAA,CAAA,KAAA,EAAA,EAAK,SAAS,EAAED,QAAM,CAAC,cAAc,EAAA,QAAA,EACnC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,KAAK,KAAI;AAC1B,oBAAA,MAAM,MAAM,GAAG,eAAe,KAAK,KAAK;AAExC,oBAAA,MAAM,UAAU,GAAG,IAAI,CAAC,IAAI,KAAK,MAAM;AAEvC,oBAAA,MAAM,oBAAoB,GAAG;AAC5B,wBAAAA,QAAM,CAAC,UAAU;wBACjB,MAAM,GAAGA,QAAM,CAAC,kBAAkB,CAAC,GAAG,EAAE;AACxC,wBAAA,IAAI,CAAC,QAAQ,GAAGA,QAAM,CAAC,sBAAsB,CAAC,GAAG,EAAE;AACnD;yBACC,MAAM,CAAC,OAAO;yBACd,IAAI,CAAC,GAAG,CAAC;;oBAGX,IAAI,IAAI,CAAC,IAAI,KAAK,MAAM,IAAI,IAAI,CAAC,IAAI,EAAE;wBACtC,QACCC,cAAA,CAAA,KAAA,EAAA,EAAiB,SAAS,EAAED,QAAM,CAAC,aAAa,EAAA,QAAA,EAC/CC,cAAA,CAAA,GAAA,EAAA,EACC,IAAI,EAAE,IAAI,CAAC,IAAI,EACf,SAAS,EAAE,oBAAoB,EAC/B,OAAO,EAAE,CAAC,CAAC,KAAI;AACd,oCAAA,IAAI,IAAI,CAAC,OAAO,EAAE;wCACjB,CAAC,CAAC,cAAc,EAAE;wCAClB,IAAI,CAAC,OAAO,EAAE;oCACf;AACD,gCAAA,CAAC,EACD,OAAO,EAAE,MAAM,eAAe,CAAC,KAAK,CAAC,EACrC,MAAM,EAAE,MAAM,eAAe,CAAC,EAAE,CAAC,EAAA,eAAA,EAClB,IAAI,CAAC,QAAQ,YAE5BA,cAAA,CAAA,IAAA,EAAA,EAAA,QAAA,EACE,IAAI,CAAC,KAAK,GACP,EAAA,CACF,EAAA,EAjBK,KAAK,CAkBT;oBAER;;oBAGA,QACCC,yBAAiB,SAAS,EAAEF,QAAM,CAAC,aAAa,EAAA,QAAA,EAAA,CAC/CC,cAAA,CAAA,QAAA,EAAA,EACC,IAAI,EAAC,QAAQ,EACb,SAAS,EAAE,oBAAoB,EAC/B,OAAO,EAAE,MAAM,eAAe,CAAC,KAAK,CAAC,EACrC,OAAO,EAAE,MAAM,eAAe,CAAC,KAAK,CAAC,EACrC,MAAM,EAAE,MAAM,eAAe,CAAC,EAAE,CAAC,EACjC,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAA,eAAA,EACR,UAAU,GAAG,MAAM,GAAG,SAAS,EAAA,eAAA,EAC/B,MAAM,mBACN,IAAI,CAAC,QAAQ,EAAA,QAAA,EAE5BA,cAAA,CAAA,IAAA,EAAA,EAAA,QAAA,EACE,IAAI,CAAC,KAAK,EAAA,CACP,EAAA,CACG,EAER,MAAM,IAAI,UAAU,IAAI,IAAI,CAAC,KAAK,KAClCA,cAAA,CAAA,KAAA,EAAA,EAAK,SAAS,EAAE,kBAAkB,EAAE,IAAI,EAAC,MAAM,EAAA,QAAA,EAC7C,IAAI,CAAC,KAAK,EAAA,CACN,CACN,CAAA,EAAA,EArBQ,KAAK,CAsBT;AAER,gBAAA,CAAC,CAAC,EAAA,CACG,EAGL,YAAY,KACZA,wBAAK,SAAS,EAAED,QAAM,CAAC,YAAY,EAAA,QAAA,EACjC,KAAK,CAAC,OAAO,CAAC,YAAY;sBACxB,YAAY,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,KAAK,MAC9BC,cAAA,CAAC,KAAK,CAAC,QAAQ,EAAA,EAAA,QAAA,EAAc,IAAI,EAAA,EAAZ,KAAK,CAAyB,CACnD;AACD,sBAAE,YAAY,EAAA,CAEV,CACN,CAAA,EAAA,CACI;AAER,CAAC;AAGF,OAAO,CAAC,WAAW,GAAG,SAAS;;;;AC3T/B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCG;MACU,QAAQ,GAAGF,gBAAU,CACjC,CACC,EACC,KAAK,EACL,QAAQ,EACR,QAAQ,GAAG,KAAK,EAChB,QAAQ,GAAG,KAAK,EAChB,SAAS,GAAG,KAAK,EACjB,OAAO,GAAG,KAAK,EACf,IAAI,EACJ,OAAO,EACP,OAAO,EACP,MAAM,EACN,SAAS,GAAG,EAAE,EACd,UAAU,GAAG,KAAK,EAClB,KAAK,GACL,EACD,GAAG,KACA;IACH,MAAM,CAAC,aAAa,EAAE,gBAAgB,CAAC,GAAGK,cAAQ,CAAC,KAAK,CAAC;AACzD,IAAA,MAAM,mBAAmB,GAAG,UAAU,IAAI,CAAC,CAAC,KAAK;;AAGjD,IAAA,MAAM,kBAAkB,GAAG;AAC1B,QAAAJ,QAAM,CAAC,QAAQ;QACf,QAAQ,GAAGA,QAAM,CAAC,oBAAoB,CAAC,GAAG,EAAE;QAC5C,QAAQ,GAAGA,QAAM,CAAC,oBAAoB,CAAC,GAAG,EAAE;QAC5C,SAAS,GAAGA,QAAM,CAAC,qBAAqB,CAAC,GAAG,EAAE;QAC9C,SAAS;AACT;SACC,MAAM,CAAC,OAAO;SACd,IAAI,CAAC,GAAG,CAAC;;AAGX,IAAA,MAAM,WAAW,GAAG,CAAC,KAA0C,KAAI;QAClE,IAAI,QAAQ,EAAE;YACb,KAAK,CAAC,cAAc,EAAE;YACtB;QACD;AACA,QAAA,OAAO,GAAG,KAAK,CAAC;AACjB,IAAA,CAAC;AAED,IAAA,QACCE,eAAA,CAAA,KAAA,EAAA,EACC,SAAS,EAAEF,QAAM,CAAC,iBAAiB,EACnC,YAAY,EAAE,MAAM,gBAAgB,CAAC,IAAI,CAAC,EAC1C,YAAY,EAAE,MAAM,gBAAgB,CAAC,KAAK,CAAC,EAC3C,KAAK,EAAE,EAAE,QAAQ,EAAE,UAAU,EAAE,KAAK,EAAE,MAAM,EAAE,EAAA,QAAA,EAAA,CAE9CE,4BACC,GAAG,EAAE,GAAG,EACR,IAAI,EAAC,QAAQ,EACb,SAAS,EAAE,kBAAkB,EAC7B,OAAO,EAAE,WAAW,EACpB,OAAO,EAAE,OAAO,EAChB,MAAM,EAAE,MAAM,EACd,QAAQ,EAAE,QAAQ,EAClB,IAAI,EAAC,UAAU,EAAA,eAAA,EACA,QAAQ,EAAA,cAAA,EACT,OAAO,GAAG,MAAM,GAAG,SAAS,EAAA,QAAA,EAAA,CAG1CD,yBAAM,SAAS,EAAED,QAAM,CAAC,SAAS,EAAA,QAAA,EAAG,OAAO,IAAI,GAAG,EAAA,CAAQ,EAGzD,IAAI,IAAIC,cAAA,CAAA,MAAA,EAAA,EAAM,SAAS,EAAED,QAAM,CAAC,IAAI,EAAA,QAAA,EAAG,IAAI,GAAQ,EAGpDC,cAAA,CAAA,MAAA,EAAA,EAAM,SAAS,EAAED,QAAM,CAAC,KAAK,YAAG,KAAK,EAAA,CAAQ,EAG5C,QAAQ,IAAIC,yBAAM,SAAS,EAAED,QAAM,CAAC,QAAQ,YAAG,QAAQ,EAAA,CAAQ,EAG/D,mBAAmB,IAAIC,cAAA,CAAA,MAAA,EAAA,EAAM,SAAS,EAAED,QAAM,CAAC,YAAY,EAAA,QAAA,EAAA,QAAA,EAAA,CAAU,CAAA,EAAA,CAC9D,EAGR,KAAK,IAAI,aAAa,KACtBC,wBAAK,SAAS,EAAED,QAAM,CAAC,OAAO,EAAE,IAAI,EAAC,MAAM,EAAA,QAAA,EACzC,KAAK,EAAA,CACD,CACN,EAGA,SAAS,IAAIC,wBAAK,SAAS,EAAED,QAAM,CAAC,aAAa,EAAE,IAAI,EAAC,WAAW,EAAA,CAAG,CAAA,EAAA,CAClE;AAER,CAAC;AAGF,QAAQ,CAAC,WAAW,GAAG,UAAU;;ACzKjC;;;;;AAKG;AACI,MAAM,YAAY,GAAgC,CAAC,EACtD,KAAK,EACL,KAAK,EACL,QAAQ,GAAG,KAAK,EAChB,SAAS,GAAG,EAAE,EACd,iBAAiB,GAAG,EAAE,EACtB,KAAK,GAAG,MAAM,GACjB,KAAI;IACD,MAAM,CAAC,MAAM,EAAE,SAAS,CAAC,GAAGI,cAAQ,CAAC,KAAK,CAAC;AAC3C,IAAA,MAAM,YAAY,GAAGI,YAAM,CAAiB,IAAI,CAAC;;IAGjDC,eAAS,CAAC,MAAK;AACX,QAAA,IAAI,CAAC,MAAM;YAAE;AAEb,QAAA,MAAM,kBAAkB,GAAG,CAAC,KAAiB,KAAI;AAC7C,YAAA,IAAI,YAAY,CAAC,OAAO,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAc,CAAC,EAAE;gBAC9E,SAAS,CAAC,KAAK,CAAC;YACpB;AACJ,QAAA,CAAC;AAED,QAAA,QAAQ,CAAC,gBAAgB,CAAC,WAAW,EAAE,kBAAkB,CAAC;QAC1D,OAAO,MAAM,QAAQ,CAAC,mBAAmB,CAAC,WAAW,EAAE,kBAAkB,CAAC;AAC9E,IAAA,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;;IAGZA,eAAS,CAAC,MAAK;AACX,QAAA,IAAI,CAAC,MAAM;YAAE;AAEb,QAAA,MAAM,YAAY,GAAG,CAAC,KAAoB,KAAI;AAC1C,YAAA,IAAI,KAAK,CAAC,GAAG,KAAK,QAAQ,EAAE;gBACxB,KAAK,CAAC,cAAc,EAAE;gBACtB,SAAS,CAAC,KAAK,CAAC;YACpB;AACJ,QAAA,CAAC;AAED,QAAA,QAAQ,CAAC,gBAAgB,CAAC,SAAS,EAAE,YAAY,CAAC;QAClD,OAAO,MAAM,QAAQ,CAAC,mBAAmB,CAAC,SAAS,EAAE,YAAY,CAAC;AACtE,IAAA,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;IAEZ,MAAM,YAAY,GAAG,MAAK;QACtB,IAAI,CAAC,QAAQ,EAAE;AACX,YAAA,SAAS,CAAC,CAAC,MAAM,CAAC;QACtB;AACJ,IAAA,CAAC;AAED,IAAA,MAAM,uBAAuB,GAAG;AAC5B,QAAAT,QAAM,CAAC,aAAa;QACpB;KACH,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;AAE3B,IAAA,MAAM,oBAAoB,GAAG;AACzB,QAAAA,QAAM,CAAC,UAAU;QACjB,MAAM,GAAGA,QAAM,CAAC,kBAAkB,CAAC,GAAG,EAAE;QACxC,QAAQ,GAAGA,QAAM,CAAC,sBAAsB,CAAC,GAAG,EAAE;KACjD,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;AAE3B,IAAA,MAAM,kBAAkB,GAAG;AACvB,QAAAA,QAAM,CAAC,QAAQ;AACf,QAAA,KAAK,KAAK,OAAO,GAAGA,QAAM,CAAC,iBAAiB,CAAC,GAAG,EAAE;QAClD;KACH,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;AAE3B,IAAA,QACIE,eAAA,CAAA,KAAA,EAAA,EAAK,GAAG,EAAE,YAAY,EAAE,SAAS,EAAE,uBAAuB,EAAA,QAAA,EAAA,CACtDD,2BACI,IAAI,EAAC,QAAQ,EACb,SAAS,EAAE,oBAAoB,EAC/B,OAAO,EAAE,YAAY,EACrB,QAAQ,EAAE,QAAQ,EAAA,eAAA,EACJ,MAAM,EAAA,eAAA,EACL,MAAM,mBACN,QAAQ,EAAA,QAAA,EAEtB,OAAO,KAAK,KAAK,QAAQ,GAAGA,iCAAK,KAAK,EAAA,CAAM,GAAG,KAAK,EAAA,CAChD,EAER,MAAM,KACHA,cAAA,CAAA,KAAA,EAAA,EACI,SAAS,EAAE,kBAAkB,EAC7B,IAAI,EAAC,MAAM,EACX,OAAO,EAAE,MAAM,SAAS,CAAC,KAAK,CAAC,YAE9B,KAAK,EAAA,CACJ,CACT,CAAA,EAAA,CACC;AAEd;;;;ACnIA;AACA;AA0CA;;;;;;;;;;;;;;;AAeG;AACI,MAAM,SAAS,GAAGF,gBAAU,CAClC,CACC,EACC,WAAW,GAAG,UAAU,EACxB,KAAK,GAAG,CAAC,EACT,aAAa,GAAG,GAAG,EACnB,QAAQ,EACR,SAAS,GAAG,EAAE,EACd,QAAQ,GAAG,KAAK,GAChB,EACD,GAAG,KACA;AACH,IAAA,MAAM,QAAQ,GAAGS,YAAM,CAAiB,IAAI,CAAC;IAC7C,MAAM,CAAC,UAAU,EAAE,aAAa,CAAC,GAAGJ,cAAQ,CAAC,KAAK,CAAC;IACnD,MAAM,CAAC,YAAY,EAAE,eAAe,CAAC,GAAGA,cAAQ,CAAC,CAAC,CAAC;IACnD,MAAM,CAAC,cAAc,EAAE,iBAAiB,CAAC,GAAGA,cAAQ,CAAC,CAAC,CAAC;AAEvD,IAAA,MAAM,UAAU,GAAG,WAAW,KAAK,UAAU;;AAG7C,IAAA,MAAM,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,aAAa,GAAG,GAAG,EAAE,EAAE,CAAC,CAAC;;AAGpD,IAAA,MAAM,WAAW,GAAG,GAAG,GAAG,SAAS;AACnC,IAAA,MAAM,QAAQ,GAAG,KAAK,GAAG,WAAW;;AAGpC,IAAA,MAAM,UAAU,GAAG;AAClB,QAAAJ,QAAM,CAAC,SAAS;AAChB,QAAAA,QAAM,CAAC,CAAA,WAAA,EAAc,WAAW,CAAA,CAAE,CAAC;AACnC,QAAA,QAAQ,IAAIA,QAAM,CAAC,qBAAqB,CAAC;QACzC,SAAS;AACT;SACC,MAAM,CAAC,OAAO;SACd,IAAI,CAAC,GAAG,CAAC;;AAGX,IAAA,MAAM,eAAe,GAAGO,iBAAW,CAAC,MAAK;QACxC,IAAI,QAAQ,IAAI,CAAC,QAAQ;YAAE;AAC3B,QAAA,MAAM,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,GAAG,GAAG,CAAC;QACzC,QAAQ,CAAC,QAAQ,CAAC;IACnB,CAAC,EAAE,CAAC,QAAQ,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;AAE/B,IAAA,MAAM,eAAe,GAAGA,iBAAW,CAAC,MAAK;QACxC,IAAI,QAAQ,IAAI,CAAC,QAAQ;YAAE;AAC3B,QAAA,MAAM,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,GAAG,GAAG,CAAC;QACzC,QAAQ,CAAC,QAAQ,CAAC;IACnB,CAAC,EAAE,CAAC,QAAQ,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;;AAG/B,IAAA,MAAM,gBAAgB,GAAGA,iBAAW,CACnC,CAAC,KAAuC,KAAI;QAC3C,IAAI,QAAQ,IAAI,CAAC,QAAQ,IAAI,CAAC,QAAQ,CAAC,OAAO;YAAE;QAEhD,MAAM,IAAI,GAAG,QAAQ,CAAC,OAAO,CAAC,qBAAqB,EAAE;QACrD,MAAM,QAAQ,GAAG;AAChB,cAAE,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC;cACrB,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI;AAC5B,QAAA,MAAM,SAAS,GAAG,UAAU,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK;;AAGvD,QAAA,MAAM,UAAU,GAAG,QAAQ,GAAG,SAAS;AACvC,QAAA,MAAM,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC;QACrD,QAAQ,CAAC,QAAQ,CAAC;IACnB,CAAC,EACD,CAAC,QAAQ,EAAE,QAAQ,EAAE,UAAU,CAAC,CAChC;;AAGD,IAAA,MAAM,oBAAoB,GAAGA,iBAAW,CACvC,CAAC,KAAuB,KAAI;AAC3B,QAAA,IAAI,QAAQ;YAAE;QACd,KAAK,CAAC,cAAc,EAAE;QACtB,KAAK,CAAC,eAAe,EAAE;QACvB,aAAa,CAAC,IAAI,CAAC;AACnB,QAAA,eAAe,CAAC,UAAU,GAAG,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC;QAC3D,iBAAiB,CAAC,KAAK,CAAC;IACzB,CAAC,EACD,CAAC,QAAQ,EAAE,UAAU,EAAE,KAAK,CAAC,CAC7B;;IAGDE,eAAS,CAAC,MAAK;QACd,IAAI,CAAC,UAAU,IAAI,CAAC,QAAQ,IAAI,CAAC,QAAQ,CAAC,OAAO;YAAE;AAEnD,QAAA,MAAM,eAAe,GAAG,CAAC,KAAiB,KAAI;AAC7C,YAAA,MAAM,UAAU,GAAG,UAAU,GAAG,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC,OAAO;AAC7D,YAAA,MAAM,KAAK,GAAG,UAAU,GAAG,YAAY;YAEvC,MAAM,IAAI,GAAG,QAAQ,CAAC,OAAQ,CAAC,qBAAqB,EAAE;AACtD,YAAA,MAAM,SAAS,GAAG,UAAU,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK;AACvD,YAAA,MAAM,UAAU,GAAG,KAAK,GAAG,SAAS;AAEpC,YAAA,MAAM,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,cAAc,GAAG,UAAU,CAAC,CAAC;YACtE,QAAQ,CAAC,QAAQ,CAAC;AACnB,QAAA,CAAC;QAED,MAAM,aAAa,GAAG,MAAK;YAC1B,aAAa,CAAC,KAAK,CAAC;AACrB,QAAA,CAAC;AAED,QAAA,QAAQ,CAAC,gBAAgB,CAAC,WAAW,EAAE,eAAe,CAAC;AACvD,QAAA,QAAQ,CAAC,gBAAgB,CAAC,SAAS,EAAE,aAAa,CAAC;AAEnD,QAAA,OAAO,MAAK;AACX,YAAA,QAAQ,CAAC,mBAAmB,CAAC,WAAW,EAAE,eAAe,CAAC;AAC1D,YAAA,QAAQ,CAAC,mBAAmB,CAAC,SAAS,EAAE,aAAa,CAAC;AACvD,QAAA,CAAC;AACF,IAAA,CAAC,EAAE,CAAC,UAAU,EAAE,YAAY,EAAE,cAAc,EAAE,QAAQ,EAAE,UAAU,CAAC,CAAC;IAEpE,QACCP,yBAAK,GAAG,EAAE,GAAG,EAAE,SAAS,EAAE,UAAU,EAAA,QAAA,EAAA,CACnCD,2BACC,IAAI,EAAC,QAAQ,EACb,SAAS,EAAE,CAAA,EAAGD,QAAM,CAAC,KAAK,CAAA,CAAA,EAAIA,QAAM,CAAC,cAAc,CAAC,EAAE,EACtD,OAAO,EAAE,eAAe,EACxB,QAAQ,EAAE,QAAQ,gBACN,UAAU,GAAG,WAAW,GAAG,aAAa,EAAA,QAAA,EAEpDC,cAAA,CAAA,KAAA,EAAA,EAAK,SAAS,EAAED,QAAM,CAAC,SAAS,EAAA,CAAI,EAAA,CAC5B,EAETC,cAAA,CAAA,KAAA,EAAA,EACC,GAAG,EAAE,QAAQ,EACb,SAAS,EAAED,QAAM,CAAC,KAAK,EACvB,OAAO,EAAE,gBAAgB,EACzB,IAAI,EAAC,WAAW,mBACD,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,GAAG,CAAC,EAAA,eAAA,EACvB,CAAC,EAAA,eAAA,EACD,GAAG,sBACA,WAAW,EAAA,QAAA,EAE7BC,wBACC,SAAS,EAAED,QAAM,CAAC,KAAK,EACvB,KAAK,EAAE;AACN,wBAAA,CAAC,UAAU,GAAG,QAAQ,GAAG,OAAO,GAAG,CAAA,EAAG,SAAS,CAAA,CAAA,CAAG;AAClD,wBAAA,CAAC,UAAU,GAAG,KAAK,GAAG,MAAM,GAAG,CAAA,EAAG,QAAQ,CAAA,CAAA,CAAG;qBAC7C,EACD,WAAW,EAAE,oBAAoB,EAAA,CAChC,EAAA,CACG,EAENC,cAAA,CAAA,QAAA,EAAA,EACC,IAAI,EAAC,QAAQ,EACb,SAAS,EAAE,CAAA,EAAGD,QAAM,CAAC,KAAK,CAAA,CAAA,EAAIA,QAAM,CAAC,YAAY,CAAC,CAAA,CAAE,EACpD,OAAO,EAAE,eAAe,EACxB,QAAQ,EAAE,QAAQ,EAAA,YAAA,EACN,UAAU,GAAG,aAAa,GAAG,cAAc,EAAA,QAAA,EAEvDC,cAAA,CAAA,KAAA,EAAA,EAAK,SAAS,EAAED,QAAM,CAAC,SAAS,EAAA,CAAI,EAAA,CAC5B,CAAA,EAAA,CACJ;AAER,CAAC;AAGF,SAAS,CAAC,WAAW,GAAG,WAAW;;;;ACvNnC;AACA;AAgQA;;;;;;;;;;;;;;;;;;;;;;;AAuBG;MACU,QAAQ,GAAGD,gBAAU,CACjC,CACC,EACC,OAAO,EACP,KAAK,EACL,WAAW,GAAG,EAAE,EAChB,iBAAiB,EACjB,UAAU,EACV,gBAAgB,EAChB,gBAAgB,EAChB,MAAM,EACN,SAAS,GAAG,EAAE,EACd,MAAM,GAAG,MAAM,EACf,OAAO,EACP,SAAS,EACT,UAAU,EACV,gBAAgB,EAChB,WAAW,EACX,gBAAgB,EAChB,gBAAgB,GAChB,EACD,GAAG,KACA;IACH,MAAM,CAAC,UAAU,EAAE,aAAa,CAAC,GAAGK,cAAQ,CAAgB,IAAI,CAAC;IACjE,MAAM,CAAC,aAAa,EAAE,gBAAgB,CAAC,GAAGA,cAAQ,CAAiB,KAAK,CAAC;IACzE,MAAM,CAAC,UAAU,EAAE,aAAa,CAAC,GAAGA,cAAQ,CAAgB,IAAI,CAAC;IACjE,MAAM,CAAC,WAAW,EAAE,cAAc,CAAC,GAAGA,cAAQ,CAGpC,IAAI,CAAC;;AAGf,IAAA,MAAM,UAAU,GAAG,YAAY,CAACJ,QAAM,CAAC,QAAQ,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,CAAC;;IAG1E,MAAM,iBAAiB,GAAGO,iBAAW,CACpC,CAAC,SAAiB,EAAE,QAAA,GAAoB,IAAI,KAAI;AAC/C,QAAA,IAAI,CAAC,QAAQ,IAAI,CAAC,MAAM;YAAE;AAE1B,QAAA,MAAM,YAAY,GACjB,UAAU,KAAK,SAAS,IAAI,aAAa,KAAK,KAAK,GAAG,MAAM,GAAG,KAAK;QACrE,aAAa,CAAC,SAAS,CAAC;QACxB,gBAAgB,CAAC,YAAY,CAAC;AAC9B,QAAA,MAAM,CAAC,SAAS,EAAE,YAAY,CAAC;IAChC,CAAC,EACD,CAAC,UAAU,EAAE,aAAa,EAAE,MAAM,CAAC,CACnC;;IAGD,MAAM,cAAc,GAAGA,iBAAW,CACjC,CAAC,MAAc,EAAE,KAAuB,KAAI;AAC3C,QAAA,IAAI,CAAC,iBAAiB;YAAE;QAExB,IAAI,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,OAAO,EAAE;;AAEnC,YAAA,IAAI,WAAW,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE;AACjC,gBAAA,iBAAiB,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,EAAE,KAAK,EAAE,KAAK,MAAM,CAAC,CAAC;YAC7D;iBAAO;gBACN,iBAAiB,CAAC,CAAC,GAAG,WAAW,EAAE,MAAM,CAAC,CAAC;YAC5C;QACD;aAAO,IAAI,KAAK,CAAC,QAAQ,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;YAEpD,MAAM,cAAc,GAAG,WAAW,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC;AAC1D,YAAA,MAAM,SAAS,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,EAAE,KAAK,cAAc,CAAC;AACvE,YAAA,MAAM,YAAY,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,EAAE,KAAK,MAAM,CAAC;YAElE,MAAM,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE,YAAY,CAAC;YAC/C,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE,YAAY,CAAC;YAC7C,MAAM,QAAQ,GAAG,KAAK,CAAC,KAAK,CAAC,KAAK,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,EAAE,CAAC;YAEnE,iBAAiB,CAAC,QAAQ,CAAC;QAC5B;aAAO;;AAEN,YAAA,iBAAiB,CAAC,CAAC,MAAM,CAAC,CAAC;QAC5B;IACD,CAAC,EACD,CAAC,WAAW,EAAE,KAAK,EAAE,iBAAiB,CAAC,CACvC;;AAGD,IAAA,MAAM,oBAAoB,GAAGA,iBAAW,CACvC,CAAC,IAAc,KAAI;QAClB,IAAI,UAAU,EAAE;YACf,UAAU,CAAC,IAAI,CAAC;QACjB;AACD,IAAA,CAAC,EACD,CAAC,UAAU,CAAC,CACZ;;AAGD,IAA4BA,iBAAW,CACtC,CAAC,IAAc,KAAI;QAClB,IAAI,gBAAgB,EAAE;YACrB,gBAAgB,CAAC,IAAI,CAAC;QACvB;AACD,IAAA,CAAC,EACD,CAAC,gBAAgB,CAAC;;IAInB,MAAM,cAAc,GAAwB,EAAE;AAC9C,IAAA,IAAI,MAAM,KAAK,MAAM,EAAE;AACtB,QAAA,cAAc,CAAC,MAAM,GAAG,OAAO,MAAM,KAAK,QAAQ,GAAG,GAAG,MAAM,CAAA,EAAA,CAAI,GAAG,MAAM;IAC5E;AAEA,IAAA,QACCL,eAAA,CAAA,KAAA,EAAA,EAAK,GAAG,EAAE,GAAG,EAAE,SAAS,EAAE,UAAU,EAAE,KAAK,EAAE,cAAc,EAAA,QAAA,EAAA,CAE1DD,wBAAK,SAAS,EAAE,YAAY,CAACD,QAAM,CAAC,MAAM,EAAE,OAAO,EAAE,MAAM,CAAC,EAAA,QAAA,EAC1D,OAAO,CAAC,GAAG,CAAC,CAAC,MAAM,KAAI;AACvB,oBAAA,MAAM,QAAQ,GAAG,UAAU,KAAK,MAAM,CAAC,GAAG;AAC1C,oBAAA,MAAM,WAAW,GAA0B;wBAC1C,QAAQ;wBACR,aAAa,EAAE,QAAQ,GAAG,aAAa,GAAG,SAAS;qBACnD;AAED,oBAAA,MAAM,kBAAkB,GAA2B;wBAClD,GAAG,EAAE,MAAM,CAAC,GAAG;wBACf,SAAS,EAAE,YAAY,CACtBA,QAAM,CAAC,UAAU,EACjB,MAAM,CAAC,QAAQ,KAAK,KAAK,IAAIA,QAAM,CAAC,QAAQ,EAC5C,OAAO,EAAE,UAAU,CACnB;AACD,wBAAA,KAAK,EAAE;AACN,4BAAA,KAAK,EACJ,OAAO,MAAM,CAAC,KAAK,KAAK;AACvB,kCAAE,CAAA,EAAG,MAAM,CAAC,KAAK,CAAA,EAAA;kCACf,MAAM,CAAC,KAAK;AAChB,yBAAA;AACD,wBAAA,OAAO,EAAE,MAAM,iBAAiB,CAAC,MAAM,CAAC,GAAG,EAAE,MAAM,CAAC,QAAQ,CAAC;wBAC7D,aAAa,EAAE,MAAM,CAAC,GAAG;AACzB,wBAAA,eAAe,EAAE,MAAM,CAAC,QAAQ,KAAK,KAAK;wBAC1C,IAAI,QAAQ,IAAI;AACf,4BAAA,aAAa,EAAE,IAAI;AACnB,4BAAA,qBAAqB,EAAE,aAAa;yBACpC,CAAC;qBACF;;oBAGD,IAAI,gBAAgB,EAAE;wBACrB,OAAO,gBAAgB,CAAC,MAAM,EAAE,WAAW,EAAE,kBAAkB,CAAC;oBACjE;;AAGA,oBAAA,QACCE,eAAA,CAAA,KAAA,EAAA,EAAA,GAAS,kBAAkB,EAAA,QAAA,EAAA,CACzB,MAAM,CAAC,KAAK,EACZ,QAAQ,KACRD,cAAA,CAAA,MAAA,EAAA,EAAM,SAAS,EAAED,QAAM,CAAC,aAAa,EAAA,QAAA,EACnC,aAAa,KAAK,KAAK,GAAG,GAAG,GAAG,GAAG,EAAA,CAC9B,CACP,CAAA,EAAA,CACI;gBAER,CAAC,CAAC,EAAA,CACG,EAGNC,cAAA,CAAA,KAAA,EAAA,EAAK,SAAS,EAAE,YAAY,CAACD,QAAM,CAAC,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC,EAAA,QAAA,EACtD,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,QAAQ,KAAI;oBAC7B,MAAM,UAAU,GAAG,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC;AAChD,oBAAA,MAAM,SAAS,GAAG,UAAU,KAAK,IAAI,CAAC,EAAE;AAExC,oBAAA,MAAM,QAAQ,GAAmB;wBAChC,UAAU;wBACV,SAAS;AACT,wBAAA,KAAK,EAAE,QAAQ;qBACf;AAED,oBAAA,MAAM,eAAe,GAAoB;wBACxC,GAAG,EAAE,IAAI,CAAC,EAAE;AACZ,wBAAA,SAAS,EAAE,YAAY,CACtBA,QAAM,CAAC,GAAG,EACV,UAAU,IAAIA,QAAM,CAAC,QAAQ,EAC7B,OAAO,EAAE,GAAG,CACZ;AACD,wBAAA,OAAO,EAAE,CAAC,CAAC,KAAK,cAAc,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC;AAC1C,wBAAA,aAAa,EAAE,MAAM,oBAAoB,CAAC,IAAI,CAAC;wBAC/C,YAAY,EAAE,MAAK;AAClB,4BAAA,aAAa,CAAC,IAAI,CAAC,EAAE,CAAC;AACtB,4BAAA,gBAAgB,GAAG,IAAI,CAAC;wBACzB,CAAC;wBACD,YAAY,EAAE,MAAK;4BAClB,aAAa,CAAC,IAAI,CAAC;4BACnB,cAAc,CAAC,IAAI,CAAC;AACpB,4BAAA,gBAAgB,GAAG,IAAI,CAAC;wBACzB,CAAC;AACD,wBAAA,eAAe,EAAE,UAAU;AAC3B,wBAAA,YAAY,EAAE,QAAQ;wBACtB,cAAc,EAAE,IAAI,CAAC,EAAE;qBACvB;;oBAGD,IAAI,SAAS,EAAE;wBACd,OAAO,SAAS,CAAC,IAAI,EAAE,QAAQ,EAAE,eAAe,CAAC;oBAClD;;AAGA,oBAAA,QACCC,cAAA,CAAA,KAAA,EAAA,EAAA,GAAS,eAAe,EAAA,QAAA,EACtB,OAAO,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,WAAW,KAAI;4BACpC,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;4BAC9B,MAAM,aAAa,GAClB,WAAW,EAAE,KAAK,KAAK,IAAI,CAAC,EAAE;AAC9B,gCAAA,WAAW,EAAE,SAAS,KAAK,MAAM,CAAC,GAAG;AAEtC,4BAAA,MAAM,SAAS,GAAoB;AAClC,gCAAA,SAAS,EAAE,aAAa;AACxB,gCAAA,aAAa,EAAE,UAAU;gCACzB,WAAW;gCACX,QAAQ;6BACR;;AAGD,4BAAA,MAAM,eAAe,GAAG,CAAC,CAAmB,KAAI;gCAC/C,IAAI,WAAW,EAAE;AAChB,oCAAA,WAAW,CAAC,IAAI,EAAE,MAAM,EAAE,CAAC,CAAC;gCAC7B;AACD,4BAAA,CAAC;4BAED,MAAM,oBAAoB,GAAG,MAAK;AACjC,gCAAA,cAAc,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,EAAE,EAAE,SAAS,EAAE,MAAM,CAAC,GAAG,EAAE,CAAC;gCACzD,IAAI,gBAAgB,EAAE;AACrB,oCAAA,gBAAgB,CAAC,IAAI,EAAE,MAAM,CAAC;gCAC/B;AACD,4BAAA,CAAC;4BAED,MAAM,oBAAoB,GAAG,MAAK;gCACjC,cAAc,CAAC,IAAI,CAAC;gCACpB,IAAI,gBAAgB,EAAE;AACrB,oCAAA,gBAAgB,CAAC,IAAI,EAAE,MAAM,CAAC;gCAC/B;AACD,4BAAA,CAAC;;4BAGD,IAAI,UAAU,EAAE;AACf,gCAAA,QACCA,cAAA,CAAA,KAAA,EAAA,EAEC,SAAS,EAAE,YAAY,CAACD,QAAM,CAAC,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC,EACnD,KAAK,EAAE;AACN,wCAAA,KAAK,EACJ,OAAO,MAAM,CAAC,KAAK,KAAK;AACvB,8CAAE,CAAA,EAAG,MAAM,CAAC,KAAK,CAAA,EAAA;8CACf,MAAM,CAAC,KAAK;AAChB,qCAAA,EAAA,aAAA,EACY,MAAM,CAAC,GAAG,EAAA,cAAA,EACT,aAAa,EAC3B,OAAO,EAAE,eAAe,EACxB,YAAY,EAAE,oBAAoB,EAClC,YAAY,EAAE,oBAAoB,EAAA,QAAA,EAEjC,UAAU,CAAC,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,SAAS,CAAC,IAdtC,MAAM,CAAC,GAAG,CAeV;4BAER;;AAGA,4BAAA,QACCE,eAAA,CAAA,KAAA,EAAA,EAEC,SAAS,EAAE,YAAY,CAACF,QAAM,CAAC,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC,EACnD,KAAK,EAAE;AACN,oCAAA,KAAK,EACJ,OAAO,MAAM,CAAC,KAAK,KAAK;AACvB,0CAAE,CAAA,EAAG,MAAM,CAAC,KAAK,CAAA,EAAA;0CACf,MAAM,CAAC,KAAK;iCAChB,EAAA,aAAA,EACY,MAAM,CAAC,GAAG,EAAA,cAAA,EACT,aAAa,EAC3B,OAAO,EAAE,eAAe,EACxB,YAAY,EAAE,oBAAoB,EAClC,YAAY,EAAE,oBAAoB,EAAA,QAAA,EAAA,CAEjC,WAAW,KAAK,CAAC,IAAI,IAAI,CAAC,IAAI,KAC9BC,cAAA,CAAA,MAAA,EAAA,EAAM,SAAS,EAAED,QAAM,CAAC,IAAI,EAAA,QAAA,EAAG,IAAI,CAAC,IAAI,EAAA,CAAQ,CAChD,EACA,KAAK,CAAA,EAAA,EAjBD,MAAM,CAAC,GAAG,CAkBV;wBAER,CAAC,CAAC,EAAA,CACG;AAER,gBAAA,CAAC,CAAC,EAAA,CACG,CAAA,EAAA,CACD;AAER,CAAC;AAGF,QAAQ,CAAC,WAAW,GAAG,UAAU;;;;AC3jBjC;AACA;AAkMA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BG;MACU,UAAU,GAAGD,gBAAU,CACnC,CACC,EACC,OAAO,GAAG;IACT,EAAE,GAAG,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE;IAC5C,EAAE,GAAG,EAAE,UAAU,EAAE,KAAK,EAAE,eAAe,EAAE,KAAK,EAAE,KAAK,EAAE;IACzD,EAAE,GAAG,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE;AAC5C,CAAA,EACD,KAAK,EACL,WAAW,EACX,iBAAiB,EACjB,UAAU,EACV,gBAAgB,EAChB,gBAAgB,EAChB,MAAM,EACN,YAAY,EACZ,UAAU,GAAG,GAAG,EAChB,OAAO,EACP,SAAS,EACT,UAAU,EACV,gBAAgB,EAChB,WAAW,EACX,gBAAgB,EAChB,gBAAgB,EAChB,GAAG,WAAW,EACd,EACD,GAAG,KACA;;AAEH,IAAA,MAAM,eAAe,GAAgC,OAAO,GAAG;QAC9D,IAAI,EAAE,OAAO,CAAC,QAAQ;QACtB,MAAM,EAAE,OAAO,CAAC,MAAM;QACtB,UAAU,EAAE,OAAO,CAAC,UAAU;QAC9B,IAAI,EAAE,OAAO,CAAC,IAAI;QAClB,GAAG,EAAE,OAAO,CAAC,GAAG;QAChB,IAAI,EAAE,OAAO,CAAC,IAAI;KAClB,GAAG,SAAS;;IAGb,QACCE,eAAC,MAAM,EAAA,EACN,GAAG,EAAE,GAAG,EACR,gBAAgB,EAAE,MAAM,CAAC,iBAAiB,EAC1C,YAAY,EAAE,YAAY,EAC1B,SAAS,EAAE,OAAO,EAAE,IAAI,EAAA,GACpB,WAAW,EAAA,QAAA,EAEfA,cAAA,CAAC,QAAQ,EAAA,EACR,OAAO,EAAE,OAAO,EAChB,KAAK,EAAE,KAAK,EACZ,WAAW,EAAE,WAAW,EACxB,iBAAiB,EAAE,iBAAiB,EACpC,UAAU,EAAE,UAAU,EACtB,gBAAgB,EAAE,gBAAgB,EAClC,gBAAgB,EAAE,gBAAgB,EAClC,MAAM,EAAE,MAAM,EACd,MAAM,EAAE,UAAU,EAClB,SAAS,EAAE,MAAM,CAAC,QAAQ,EAC1B,OAAO,EAAE,eAAe,EACxB,SAAS,EAAE,SAAS,EACpB,UAAU,EAAE,UAAU,EACtB,gBAAgB,EAAE,gBAAgB,EAClC,WAAW,EAAE,WAAW,EACxB,gBAAgB,EAAE,gBAAgB,EAClC,gBAAgB,EAAE,gBAAgB,EAAA,CACjC,EAAA,CACM;AAEX,CAAC;AAGF,UAAU,CAAC,WAAW,GAAG,YAAY;;ACvSrC;AACA;AACA;AAEA;;;AAGG;AACI,MAAM,MAAM,GAAG;;IAErB,OAAO,EAAE,SAAS;IAClB,OAAO,EAAE,SAAS;IAClB,OAAO,EAAE,SAAS;IAClB,OAAO,EAAE,SAAS;IAClB,OAAO,EAAE,SAAS;IAClB,OAAO,EAAE,SAAS;IAClB,OAAO,EAAE,SAAS;IAClB,OAAO,EAAE,SAAS;IAClB,OAAO,EAAE,SAAS;;IAGlB,QAAQ,EAAE,SAAS;IACnB,IAAI,EAAE,SAAS;IACf,OAAO,EAAE,SAAS;;IAGlB,UAAU,EAAE,SAAS;IACrB,UAAU,EAAE,SAAS;IACrB,MAAM,EAAE,SAAS;IACjB,IAAI,EAAE,SAAS;IACf,WAAW,EAAE,SAAS;IACtB,OAAO,EAAE,SAAS;IAClB,YAAY,EAAE,SAAS;;AAGvB,IAAA,KAAK,EAAE,SAAS;AAChB,IAAA,KAAK,EAAE,SAAS;;AAGhB,IAAA,KAAK,EAAE,SAAS;AAChB,IAAA,KAAK,EAAE,SAAS;AAChB,IAAA,OAAO,EAAE,SAAS;AAClB,IAAA,OAAO,EAAE,SAAS;;AAGnB;;;;;;;;;AASG;AACI,MAAM,UAAU,GAAG;AACzB,IAAA,UAAU,EAAE;;;AAGX,QAAA,MAAM,EAAE,kIAAkI;;;AAI1I,QAAA,IAAI,EAAE,yEAAyE;;AAG/E,QAAA,OAAO,EAAE,oEAAoE;;AAG7E,QAAA,OAAO,EAAE,gEAAgE;;AAGzE,QAAA,IAAI,EAAE,mEAAmE;AACzE,KAAA;AACD,IAAA,QAAQ,EAAE;QACT,EAAE,EAAE,KAAK;QACT,EAAE,EAAE,MAAM;QACV,EAAE,EAAE,MAAM;QACV,EAAE,EAAE,MAAM;QACV,EAAE,EAAE,MAAM;QACV,KAAK,EAAE,MAAM;QACb,KAAK,EAAE,MAAM;QACb,KAAK,EAAE,MAAM;QACb,KAAK,EAAE,MAAM;AACb,KAAA;AACD,IAAA,UAAU,EAAE;QACX,MAAM,EAAE,GAAG;QACX,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,GAAG;QACb,IAAI,EAAE,GAAG;QACT,KAAK,EAAE,GAAG;AACV,KAAA;AACD,IAAA,UAAU,EAAE;QACX,KAAK,EAAE,GAAG;QACV,IAAI,EAAE,GAAG;QACT,MAAM,EAAE,GAAG;QACX,OAAO,EAAE,GAAG;QACZ,KAAK,EAAE,GAAG;AACV,KAAA;AACD,IAAA,aAAa,EAAE;QACd,OAAO,EAAE,SAAS;QAClB,KAAK,EAAE,SAAS;QAChB,MAAM,EAAE,GAAG;QACX,IAAI,EAAE,QAAQ;QACd,KAAK,EAAE,QAAQ;AACf,KAAA;;AAGF;;;AAGG;AACI,MAAM,OAAO,GAAG;AACtB,IAAA,GAAG,EAAE,GAAG;AACR,IAAA,EAAE,EAAE,KAAK;IACT,KAAK,EAAE,KAAK;IACZ,GAAG,EAAE,KAAK;AACV,IAAA,KAAK,EAAE,KAAK;AACZ,IAAA,GAAG,EAAE,KAAK;AACV,IAAA,KAAK,EAAE,MAAM;AACb,IAAA,GAAG,EAAE,MAAM;AACX,IAAA,GAAG,EAAE,MAAM;AACX,IAAA,GAAG,EAAE,MAAM;AACX,IAAA,GAAG,EAAE,MAAM;AACX,IAAA,GAAG,EAAE,MAAM;AACX,IAAA,IAAI,EAAE,MAAM;AACZ,IAAA,IAAI,EAAE,MAAM;AACZ,IAAA,IAAI,EAAE,MAAM;;AAGZ,IAAA,EAAE,EAAE,KAAK;AACT,IAAA,EAAE,EAAE,KAAK;AACT,IAAA,EAAE,EAAE,KAAK;AACT,IAAA,EAAE,EAAE,MAAM;AACV,IAAA,EAAE,EAAE,MAAM;AACV,IAAA,KAAK,EAAE,MAAM;AACb,IAAA,KAAK,EAAE,MAAM;;AAGd;;;;;;;;AAQG;AACI,MAAM,OAAO,GAAG;;AAEtB,IAAA,KAAK,EACJ,kHAAkH;;AAGnH,IAAA,KAAK,EACJ,kHAAkH;;AAGnH,IAAA,UAAU,EAAE,+BAA+B;AAC3C,IAAA,cAAc,EAAE,0CAA0C;AAC1D,IAAA,WAAW,EAAE,yCAAyC;;AAGtD,IAAA,MAAM,EAAE;AACP,QAAA,SAAS,EAAE,0CAA0C;AACrD,QAAA,MAAM,EAAE,yCAAyC;AACjD,QAAA,IAAI,EAAE,kHAAkH;AACxH,KAAA;;AAGD,IAAA,IAAI,EAAE,MAAM;;AAGb;;;AAGG;AACI,MAAM,OAAO,GAAG;AACtB,IAAA,KAAK,EAAE;AACN,QAAA,IAAI,EAAE,GAAG;AACT,QAAA,IAAI,EAAE,KAAK;AACX,QAAA,MAAM,EAAE,KAAK;AACb,QAAA,KAAK,EAAE,KAAK;AACZ,KAAA;AACD,IAAA,KAAK,EAAE;AACN,QAAA,KAAK,EAAE,OAAO;AACd,QAAA,MAAM,EAAE,QAAQ;AAChB,QAAA,MAAM,EAAE,QAAQ;AAChB,QAAA,IAAI,EAAE,MAAM;AACZ,KAAA;AACD,IAAA,MAAM,EAAE;QACP,IAAI,EAAE,GAAG;QACT,EAAE,EAAE,GAAG;AACP,QAAA,EAAE,EAAE,GAAG;AACP,QAAA,EAAE,EAAE,GAAG;AACP,QAAA,IAAI,EAAE,GAAG;AACT,KAAA;;AAGF;;AAEG;AACI,MAAM,MAAM,GAAG;AACrB,IAAA,IAAI,EAAE,CAAC;AACP,IAAA,QAAQ,EAAE,IAAI;AACd,IAAA,MAAM,EAAE,IAAI;AACZ,IAAA,KAAK,EAAE,IAAI;AACX,IAAA,OAAO,EAAE,IAAI;AACb,IAAA,OAAO,EAAE,IAAI;;AAGd;;;AAGG;AACI,MAAM,WAAW,GAAG;AAC1B,IAAA,QAAQ,EAAE;AACT,QAAA,OAAO,EAAE,KAAK;AACd,QAAA,IAAI,EAAE,OAAO;AACb,QAAA,MAAM,EAAE,OAAO;AACf,QAAA,IAAI,EAAE,OAAO;AACb,KAAA;AACD,IAAA,MAAM,EAAE;AACP,QAAA,MAAM,EAAE,QAAQ;AAChB,QAAA,MAAM,EAAE,4BAA4B;AACpC,QAAA,OAAO,EAAE,4BAA4B;AACrC,QAAA,SAAS,EAAE,8BAA8B;AACzC,KAAA;;AAGF;AACO,MAAM,MAAM,GAAG;IACrB,MAAM;IACN,UAAU;IACV,OAAO;IACP,OAAO;IACP,OAAO;IACP,MAAM;IACN,WAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}